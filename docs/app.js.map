{"version":3,"file":"app.js","sources":["../node_modules/mithril/mithril.js","../node_modules/mithril-datepicker/mithril-datepicker.js","../node_modules/mithril-stream/stream.js","../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds/index.js","../node_modules/date-fns/is_date/index.js","../node_modules/date-fns/parse/index.js","../node_modules/date-fns/add_days/index.js","../node_modules/date-fns/add_milliseconds/index.js","../node_modules/date-fns/add_hours/index.js","../node_modules/date-fns/start_of_week/index.js","../node_modules/date-fns/start_of_iso_week/index.js","../node_modules/date-fns/get_iso_year/index.js","../node_modules/date-fns/start_of_iso_year/index.js","../node_modules/date-fns/start_of_day/index.js","../node_modules/date-fns/difference_in_calendar_days/index.js","../node_modules/date-fns/set_iso_year/index.js","../node_modules/date-fns/add_iso_years/index.js","../node_modules/date-fns/add_minutes/index.js","../node_modules/date-fns/get_days_in_month/index.js","../node_modules/date-fns/add_months/index.js","../node_modules/date-fns/add_quarters/index.js","../node_modules/date-fns/add_seconds/index.js","../node_modules/date-fns/add_weeks/index.js","../node_modules/date-fns/add_years/index.js","../node_modules/date-fns/are_ranges_overlapping/index.js","../node_modules/date-fns/closest_index_to/index.js","../node_modules/date-fns/closest_to/index.js","../node_modules/date-fns/compare_asc/index.js","../node_modules/date-fns/compare_desc/index.js","../node_modules/date-fns/difference_in_calendar_iso_weeks/index.js","../node_modules/date-fns/difference_in_calendar_iso_years/index.js","../node_modules/date-fns/difference_in_calendar_months/index.js","../node_modules/date-fns/get_quarter/index.js","../node_modules/date-fns/difference_in_calendar_quarters/index.js","../node_modules/date-fns/difference_in_calendar_weeks/index.js","../node_modules/date-fns/difference_in_calendar_years/index.js","../node_modules/date-fns/difference_in_days/index.js","../node_modules/date-fns/difference_in_milliseconds/index.js","../node_modules/date-fns/difference_in_hours/index.js","../node_modules/date-fns/sub_iso_years/index.js","../node_modules/date-fns/difference_in_iso_years/index.js","../node_modules/date-fns/difference_in_minutes/index.js","../node_modules/date-fns/difference_in_months/index.js","../node_modules/date-fns/difference_in_quarters/index.js","../node_modules/date-fns/difference_in_seconds/index.js","../node_modules/date-fns/difference_in_weeks/index.js","../node_modules/date-fns/difference_in_years/index.js","../node_modules/date-fns/locale/en/build_distance_in_words_locale/index.js","../node_modules/date-fns/locale/_lib/build_formatting_tokens_reg_exp/index.js","../node_modules/date-fns/locale/en/build_format_locale/index.js","../node_modules/date-fns/locale/en/index.js","../node_modules/date-fns/distance_in_words/index.js","../node_modules/date-fns/distance_in_words_strict/index.js","../node_modules/date-fns/distance_in_words_to_now/index.js","../node_modules/date-fns/end_of_day/index.js","../node_modules/date-fns/end_of_week/index.js","../node_modules/date-fns/end_of_month/index.js","../node_modules/date-fns/end_of_today/index.js","../node_modules/date-fns/start_of_year/index.js","../node_modules/date-fns/get_day_of_year/index.js","../node_modules/date-fns/get_iso_week/index.js","../node_modules/date-fns/is_valid/index.js","../node_modules/date-fns/format/index.js","../node_modules/date-fns/is_leap_year/index.js","../node_modules/date-fns/get_iso_day/index.js","../node_modules/date-fns/get_iso_weeks_in_year/index.js","../node_modules/date-fns/is_last_day_of_month/index.js","../node_modules/date-fns/start_of_hour/index.js","../node_modules/date-fns/is_same_hour/index.js","../node_modules/date-fns/is_same_week/index.js","../node_modules/date-fns/is_same_iso_week/index.js","../node_modules/date-fns/is_same_iso_year/index.js","../node_modules/date-fns/start_of_minute/index.js","../node_modules/date-fns/is_same_minute/index.js","../node_modules/date-fns/is_same_month/index.js","../node_modules/date-fns/start_of_quarter/index.js","../node_modules/date-fns/is_same_quarter/index.js","../node_modules/date-fns/start_of_second/index.js","../node_modules/date-fns/is_same_second/index.js","../node_modules/date-fns/is_same_year/index.js","../node_modules/date-fns/is_this_hour/index.js","../node_modules/date-fns/is_this_iso_week/index.js","../node_modules/date-fns/is_this_iso_year/index.js","../node_modules/date-fns/is_this_minute/index.js","../node_modules/date-fns/is_this_month/index.js","../node_modules/date-fns/is_this_quarter/index.js","../node_modules/date-fns/is_this_second/index.js","../node_modules/date-fns/is_this_week/index.js","../node_modules/date-fns/is_this_year/index.js","../node_modules/date-fns/last_day_of_week/index.js","../node_modules/date-fns/last_day_of_iso_year/index.js","../node_modules/date-fns/set_date/index.js","../node_modules/date-fns/set_day/index.js","../node_modules/date-fns/set_day_of_year/index.js","../node_modules/date-fns/set_hours/index.js","../node_modules/date-fns/set_iso_day/index.js","../node_modules/date-fns/set_iso_week/index.js","../node_modules/date-fns/set_milliseconds/index.js","../node_modules/date-fns/set_minutes/index.js","../node_modules/date-fns/set_month/index.js","../node_modules/date-fns/set_quarter/index.js","../node_modules/date-fns/set_seconds/index.js","../node_modules/date-fns/set_year/index.js","../node_modules/date-fns/start_of_month/index.js","../node_modules/date-fns/start_of_today/index.js","../node_modules/date-fns/sub_days/index.js","../node_modules/date-fns/sub_hours/index.js","../node_modules/date-fns/sub_milliseconds/index.js","../node_modules/date-fns/sub_minutes/index.js","../node_modules/date-fns/sub_months/index.js","../node_modules/date-fns/sub_quarters/index.js","../node_modules/date-fns/sub_seconds/index.js","../node_modules/date-fns/sub_weeks/index.js","../node_modules/date-fns/sub_years/index.js","../node_modules/date-fns/index.js","../node_modules/date-fns/each_day/index.js","../node_modules/date-fns/end_of_hour/index.js","../node_modules/date-fns/end_of_iso_week/index.js","../node_modules/date-fns/end_of_iso_year/index.js","../node_modules/date-fns/end_of_minute/index.js","../node_modules/date-fns/end_of_quarter/index.js","../node_modules/date-fns/end_of_second/index.js","../node_modules/date-fns/end_of_tomorrow/index.js","../node_modules/date-fns/end_of_year/index.js","../node_modules/date-fns/end_of_yesterday/index.js","../node_modules/date-fns/get_date/index.js","../node_modules/date-fns/get_day/index.js","../node_modules/date-fns/get_days_in_year/index.js","../node_modules/date-fns/get_hours/index.js","../node_modules/date-fns/get_milliseconds/index.js","../node_modules/date-fns/get_minutes/index.js","../node_modules/date-fns/get_month/index.js","../node_modules/date-fns/get_overlapping_days_in_ranges/index.js","../node_modules/date-fns/get_seconds/index.js","../node_modules/date-fns/get_time/index.js","../node_modules/date-fns/get_year/index.js","../node_modules/date-fns/is_after/index.js","../node_modules/date-fns/is_before/index.js","../node_modules/date-fns/is_equal/index.js","../node_modules/date-fns/is_first_day_of_month/index.js","../node_modules/date-fns/is_friday/index.js","../node_modules/date-fns/is_future/index.js","../node_modules/date-fns/is_monday/index.js","../node_modules/date-fns/is_past/index.js","../node_modules/date-fns/is_same_day/index.js","../node_modules/date-fns/is_saturday/index.js","../node_modules/date-fns/is_sunday/index.js","../node_modules/date-fns/is_thursday/index.js","../node_modules/date-fns/is_today/index.js","../node_modules/date-fns/is_tomorrow/index.js","../node_modules/date-fns/is_tuesday/index.js","../node_modules/date-fns/is_wednesday/index.js","../node_modules/date-fns/is_weekend/index.js","../node_modules/date-fns/is_within_range/index.js","../node_modules/date-fns/is_yesterday/index.js","../node_modules/date-fns/last_day_of_iso_week/index.js","../node_modules/date-fns/last_day_of_month/index.js","../node_modules/date-fns/last_day_of_quarter/index.js","../node_modules/date-fns/last_day_of_year/index.js","../node_modules/date-fns/max/index.js","../node_modules/date-fns/min/index.js","../node_modules/date-fns/start_of_tomorrow/index.js","../node_modules/date-fns/start_of_yesterday/index.js","../src/domain/index.js","../src/domain/process.js","../src/domain/util.js","../src/ui/home.js","../node_modules/mithril-json-viewer/index.js","../src/ui/explore.js","../src/app.js"],"sourcesContent":[";(function() {\n\"use strict\"\nfunction Vnode(tag, key, attrs0, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs0, children: children, text: text, dom: dom, domSize: undefined, state: undefined, _state: undefined, events: undefined, instance: undefined, skip: false}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node != null && typeof node !== \"object\") return Vnode(\"#\", undefined, undefined, node === false ? \"\" : node, undefined, undefined)\n\treturn node\n}\nVnode.normalizeChildren = function normalizeChildren(children) {\n\tfor (var i = 0; i < children.length; i++) {\n\t\tchildren[i] = Vnode.normalize(children[i])\n\t}\n\treturn children\n}\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\nfunction execSelector(state, attrs, children) {\n\tvar hasAttrs = false, childList, text\n\tvar className = attrs.className || attrs.class\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\t\tfor(var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) {\n\t\t\t\tnewAttrs[key] = attrs[key]\n\t\t\t}\n\t\t}\n\t\tattrs = newAttrs\n\t}\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key)) {\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className !== undefined) {\n\t\tif (attrs.class !== undefined) {\n\t\t\tattrs.class = undefined\n\t\t\tattrs.className = className\n\t\t}\n\t\tif (state.attrs.className != null) {\n\t\t\tattrs.className = state.attrs.className + \" \" + className\n\t\t}\n\t}\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\thasAttrs = true\n\t\t\tbreak\n\t\t}\n\t}\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\ttext = children[0].children\n\t} else {\n\t\tchildList = children\n\t}\n\treturn Vnode(state.tag, attrs.key, hasAttrs ? attrs : undefined, childList, text)\n}\nfunction hyperscript(selector) {\n\t// Because sloppy mode sucks\n\tvar attrs = arguments[1], start = 2, children\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\tif (typeof selector === \"string\") {\n\t\tvar cached = selectorCache[selector] || compileSelector(selector)\n\t}\n\tif (attrs == null) {\n\t\tattrs = {}\n\t} else if (typeof attrs !== \"object\" || attrs.tag != null || Array.isArray(attrs)) {\n\t\tattrs = {}\n\t\tstart = 1\n\t}\n\tif (arguments.length === start + 1) {\n\t\tchildren = arguments[start]\n\t\tif (!Array.isArray(children)) children = [children]\n\t} else {\n\t\tchildren = []\n\t\twhile (start < arguments.length) children.push(arguments[start++])\n\t}\n\tvar normalized = Vnode.normalizeChildren(children)\n\tif (typeof selector === \"string\") {\n\t\treturn execSelector(cached, attrs, normalized)\n\t} else {\n\t\treturn Vnode(selector, attrs.key, attrs, normalized)\n\t}\n}\nhyperscript.trust = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\nhyperscript.fragment = function(attrs1, children) {\n\treturn Vnode(\"[\", attrs1.key, attrs1, Vnode.normalizeChildren(children), undefined, undefined)\n}\nvar m = hyperscript\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") window.Promise = PromisePolyfill\n\tvar PromisePolyfill = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") global.Promise = PromisePolyfill\n\tvar PromisePolyfill = global.Promise\n} else {\n}\nvar buildQueryString = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\tvar args = []\n\tfor (var key0 in object) {\n\t\tdestructure(key0, object[key0])\n\t}\n\treturn args.join(\"&\")\n\tfunction destructure(key0, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key0 + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key0 + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key0) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\nvar FILE_PROTOCOL_REGEX = new RegExp(\"^file://\", \"i\")\nvar _8 = function($window, Promise) {\n\tvar callbackCount = 0\n\tvar oncompletion\n\tfunction setCompletionCallback(callback) {oncompletion = callback}\n\tfunction finalizer() {\n\t\tvar count = 0\n\t\tfunction complete() {if (--count === 0 && typeof oncompletion === \"function\") oncompletion()}\n\t\treturn function finalize(promise0) {\n\t\t\tvar then0 = promise0.then\n\t\t\tpromise0.then = function() {\n\t\t\t\tcount++\n\t\t\t\tvar next = then0.apply(promise0, arguments)\n\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\tcomplete()\n\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t})\n\t\t\t\treturn finalize(next)\n\t\t\t}\n\t\t\treturn promise0\n\t\t}\n\t}\n\tfunction normalize(args, extra) {\n\t\tif (typeof args === \"string\") {\n\t\t\tvar url = args\n\t\t\targs = extra || {}\n\t\t\tif (args.url == null) args.url = url\n\t\t}\n\t\treturn args\n\t}\n\tfunction request(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tif (args.method == null) args.method = \"GET\"\n\t\t\targs.method = args.method.toUpperCase()\n\t\t\tvar useBody = (args.method === \"GET\" || args.method === \"TRACE\") ? false : (typeof args.useBody === \"boolean\" ? args.useBody : true)\n\t\t\tif (typeof args.serialize !== \"function\") args.serialize = typeof FormData !== \"undefined\" && args.data instanceof FormData ? function(value) {return value} : JSON.stringify\n\t\t\tif (typeof args.deserialize !== \"function\") args.deserialize = deserialize\n\t\t\tif (typeof args.extract !== \"function\") args.extract = extract\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\tif (useBody) args.data = args.serialize(args.data)\n\t\t\telse args.url = assemble(args.url, args.data)\n\t\t\tvar xhr = new $window.XMLHttpRequest(),\n\t\t\t\taborted = false,\n\t\t\t\t_abort = xhr.abort\n\t\t\txhr.abort = function abort() {\n\t\t\t\taborted = true\n\t\t\t\t_abort.call(xhr)\n\t\t\t}\n\t\t\txhr.open(args.method, args.url, typeof args.async === \"boolean\" ? args.async : true, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\t\t\tif (args.serialize === JSON.stringify && useBody && !(args.headers && args.headers.hasOwnProperty(\"Content-Type\"))) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (args.deserialize === deserialize && !(args.headers && args.headers.hasOwnProperty(\"Accept\"))) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tfor (var key in args.headers) if ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t}\n\t\t\tif (typeof args.config === \"function\") xhr = args.config(xhr, args) || xhr\n\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif(aborted) return\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar response = (args.extract !== extract) ? args.extract(xhr, args) : args.deserialize(args.extract(xhr, args))\n\t\t\t\t\t\tif ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || FILE_PROTOCOL_REGEX.test(args.url)) {\n\t\t\t\t\t\t\tresolve(cast(args.type, response))\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar error = new Error(xhr.responseText)\n\t\t\t\t\t\t\tfor (var key in response) error[key] = response[key]\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (useBody && (args.data != null)) xhr.send(args.data)\n\t\t\telse xhr.send()\n\t\t})\n\t\treturn args.background === true ? promise0 : finalize(promise0)\n\t}\n\tfunction jsonp(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(cast(args.type, data))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tif (args.data == null) args.data = {}\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\targs.data[args.callbackKey || \"callback\"] = callbackName\n\t\t\tscript.src = assemble(args.url, args.data)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t})\n\t\treturn args.background === true? promise0 : finalize(promise0)\n\t}\n\tfunction interpolate(url, data) {\n\t\tif (data == null) return url\n\t\tvar tokens = url.match(/:[^\\/]+/gi) || []\n\t\tfor (var i = 0; i < tokens.length; i++) {\n\t\t\tvar key = tokens[i].slice(1)\n\t\t\tif (data[key] != null) {\n\t\t\t\turl = url.replace(tokens[i], data[key])\n\t\t\t}\n\t\t}\n\t\treturn url\n\t}\n\tfunction assemble(url, data) {\n\t\tvar querystring = buildQueryString(data)\n\t\tif (querystring !== \"\") {\n\t\t\tvar prefix = url.indexOf(\"?\") < 0 ? \"?\" : \"&\"\n\t\t\turl += prefix + querystring\n\t\t}\n\t\treturn url\n\t}\n\tfunction deserialize(data) {\n\t\ttry {return data !== \"\" ? JSON.parse(data) : null}\n\t\tcatch (e) {throw new Error(data)}\n\t}\n\tfunction extract(xhr) {return xhr.responseText}\n\tfunction cast(type0, data) {\n\t\tif (typeof type0 === \"function\") {\n\t\t\tif (Array.isArray(data)) {\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\tdata[i] = new type0(data[i])\n\t\t\t\t}\n\t\t\t}\n\t\t\telse return new type0(data)\n\t\t}\n\t\treturn data\n\t}\n\treturn {request: request, jsonp: jsonp, setCompletionCallback: setCompletionCallback}\n}\nvar requestService = _8(window, PromisePolyfill)\nvar coreRenderer = function($window) {\n\tvar $doc = $window.document\n\tvar $emptyFragment = $doc.createDocumentFragment()\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\tvar onevent\n\tfunction setEventCallback(callback) {return onevent = callback}\n\tfunction getNameSpace(vnode) {\n\t\treturn vnode.attrs && vnode.attrs.xmlns || nameSpace[vnode.tag]\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode.state = {}\n\t\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": return createText(parent, vnode, nextSibling)\n\t\t\t\tcase \"<\": return createHTML(parent, vnode, nextSibling)\n\t\t\t\tcase \"[\": return createFragment(parent, vnode, hooks, ns, nextSibling)\n\t\t\t\tdefault: return createElement(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse return createComponent(parent, vnode, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode, nextSibling) {\n\t\tvnode.dom = $doc.createTextNode(vnode.children)\n\t\tinsertNode(parent, vnode.dom, nextSibling)\n\t\treturn vnode.dom\n\t}\n\tfunction createHTML(parent, vnode, nextSibling) {\n\t\tvar match1 = vnode.children.match(/^\\s*?<(\\w+)/im) || []\n\t\tvar parent1 = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}[match1[1]] || \"div\"\n\t\tvar temp = $doc.createElement(parent1)\n\t\ttemp.innerHTML = vnode.children\n\t\tvnode.dom = temp.firstChild\n\t\tvnode.domSize = temp.childNodes.length\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createFragment(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode.children != null) {\n\t\t\tvar children = vnode.children\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\n\t\t}\n\t\tvnode.dom = fragment.firstChild\n\t\tvnode.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createElement(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tvar attrs2 = vnode.attrs\n\t\tvar is = attrs2 && attrs2.is\n\t\tns = getNameSpace(vnode) || ns\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode.dom = element\n\t\tif (attrs2 != null) {\n\t\t\tsetAttrs(vnode, attrs2, ns)\n\t\t}\n\t\tinsertNode(parent, element, nextSibling)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse {\n\t\t\tif (vnode.text != null) {\n\t\t\t\tif (vnode.text !== \"\") element.textContent = vnode.text\n\t\t\t\telse vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode.children != null) {\n\t\t\t\tvar children = vnode.children\n\t\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\n\t\t\t\tsetLateAttrs(vnode)\n\t\t\t}\n\t\t}\n\t\treturn element\n\t}\n\tfunction initComponent(vnode, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode.tag.view === \"function\") {\n\t\t\tvnode.state = Object.create(vnode.tag)\n\t\t\tsentinel = vnode.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return $emptyFragment\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode.state = void 0\n\t\t\tsentinel = vnode.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return $emptyFragment\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode.state = (vnode.tag.prototype != null && typeof vnode.tag.prototype.view === \"function\") ? new vnode.tag(vnode) : vnode.tag(vnode)\n\t\t}\n\t\tvnode._state = vnode.state\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\tinitLifecycle(vnode._state, vnode, hooks)\n\t\tvnode.instance = Vnode.normalize(vnode._state.view.call(vnode.state, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tvar element = createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\n\t\t\tinsertNode(parent, element, nextSibling)\n\t\t\treturn element\n\t\t}\n\t\telse {\n\t\t\tvnode.domSize = 0\n\t\t\treturn $emptyFragment\n\t\t}\n\t}\n\t//update\n\tfunction updateNodes(parent, old, vnodes, recycling, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null) removeNodes(old, 0, old.length, vnodes)\n\t\telse {\n\t\t\tif (old.length === vnodes.length) {\n\t\t\t\tvar isUnkeyed = false\n\t\t\t\tfor (var i = 0; i < vnodes.length; i++) {\n\t\t\t\t\tif (vnodes[i] != null && old[i] != null) {\n\t\t\t\t\t\tisUnkeyed = vnodes[i].key == null && old[i].key == null\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isUnkeyed) {\n\t\t\t\t\tfor (var i = 0; i < old.length; i++) {\n\t\t\t\t\t\tif (old[i] === vnodes[i]) continue\n\t\t\t\t\t\telse if (old[i] == null && vnodes[i] != null) createNode(parent, vnodes[i], hooks, ns, getNextSibling(old, i + 1, nextSibling))\n\t\t\t\t\t\telse if (vnodes[i] == null) removeNodes(old, i, i + 1, vnodes)\n\t\t\t\t\t\telse updateNode(parent, old[i], vnodes[i], hooks, getNextSibling(old, i + 1, nextSibling), recycling, ns)\n\t\t\t\t\t}\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\trecycling = recycling || isRecyclable(old, vnodes)\n\t\t\tif (recycling) {\n\t\t\t\tvar pool = old.pool\n\t\t\t\told = old.concat(old.pool)\n\t\t\t}\n\t\t\tvar oldStart = 0, start = 0, oldEnd = old.length - 1, end = vnodes.length - 1, map\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldStart], v = vnodes[start]\n\t\t\t\tif (o === v && !recycling) oldStart++, start++\n\t\t\t\telse if (o == null) oldStart++\n\t\t\t\telse if (v == null) start++\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\tvar shouldRecycle = (pool != null && oldStart >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), shouldRecycle, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar o = old[oldEnd]\n\t\t\t\t\tif (o === v && !recycling) oldEnd--, start++\n\t\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\t\tvar shouldRecycle = (pool != null && oldEnd >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), shouldRecycle, ns)\n\t\t\t\t\t\tif (recycling || start < end) insertNode(parent, toFragment(o), getNextSibling(old, oldStart, nextSibling))\n\t\t\t\t\t\toldEnd--, start++\n\t\t\t\t\t}\n\t\t\t\t\telse break\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldEnd], v = vnodes[end]\n\t\t\t\tif (o === v && !recycling) oldEnd--, end--\n\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\telse if (v == null) end--\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\tvar shouldRecycle = (pool != null && oldEnd >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), shouldRecycle, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t\tif (o.dom != null) nextSibling = o.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (!map) map = getKeyMap(old, oldEnd)\n\t\t\t\t\tif (v != null) {\n\t\t\t\t\t\tvar oldIndex = map[v.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tvar movable = old[oldIndex]\n\t\t\t\t\t\t\tvar shouldRecycle = (pool != null && oldIndex >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\t\t\tupdateNode(parent, movable, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), recycling, ns)\n\t\t\t\t\t\t\tinsertNode(parent, toFragment(movable), nextSibling)\n\t\t\t\t\t\t\told[oldIndex].skip = true\n\t\t\t\t\t\t\tif (movable.dom != null) nextSibling = movable.dom\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar dom = createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\tnextSibling = dom\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tend--\n\t\t\t\t}\n\t\t\t\tif (end < start) break\n\t\t\t}\n\t\t\tcreateNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\tremoveNodes(old, oldStart, oldEnd + 1, vnodes)\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode.state = old.state\n\t\t\tvnode._state = old._state\n\t\t\tvnode.events = old.events\n\t\t\tif (!recycling && shouldNotUpdate(vnode, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode.attrs != null) {\n\t\t\t\t\tif (recycling) {\n\t\t\t\t\t\tvnode.state = {}\n\t\t\t\t\t\tinitLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t\t}\n\t\t\t\t\telse updateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode, recycling, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(old, null)\n\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode) {\n\t\tif (old.children.toString() !== vnode.children.toString()) {\n\t\t\told.dom.nodeValue = vnode.children\n\t\t}\n\t\tvnode.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode, nextSibling) {\n\t\tif (old.children !== vnode.children) {\n\t\t\ttoFragment(old)\n\t\t\tcreateHTML(parent, vnode, nextSibling)\n\t\t}\n\t\telse vnode.dom = old.dom, vnode.domSize = old.domSize\n\t}\n\tfunction updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode.children, recycling, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children = vnode.children\n\t\tvnode.dom = null\n\t\tif (children != null) {\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode, recycling, hooks, ns) {\n\t\tvar element = vnode.dom = old.dom\n\t\tns = getNameSpace(vnode) || ns\n\t\tif (vnode.tag === \"textarea\") {\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\n\t\t\tif (vnode.text != null) {\n\t\t\t\tvnode.attrs.value = vnode.text //FIXME handle0 multiple children\n\t\t\t\tvnode.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse if (old.text != null && vnode.text != null && vnode.text !== \"\") {\n\t\t\tif (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text\n\t\t}\n\t\telse {\n\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\tif (vnode.text != null) vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\tupdateNodes(element, old.children, vnode.children, recycling, hooks, null, ns)\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tif (recycling) {\n\t\t\tinitComponent(vnode, hooks)\n\t\t} else {\n\t\t\tvnode.instance = Vnode.normalize(vnode._state.view.call(vnode.state, vnode))\n\t\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\t\tif (vnode.attrs != null) updateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tupdateLifecycle(vnode._state, vnode, hooks)\n\t\t}\n\t\tif (vnode.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, recycling, ns)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(old.instance, null)\n\t\t\tvnode.dom = undefined\n\t\t\tvnode.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t}\n\t}\n\tfunction isRecyclable(old, vnodes) {\n\t\tif (old.pool != null && Math.abs(old.pool.length - vnodes.length) <= Math.abs(old.length - vnodes.length)) {\n\t\t\tvar oldChildrenLength = old[0] && old[0].children && old[0].children.length || 0\n\t\t\tvar poolChildrenLength = old.pool[0] && old.pool[0].children && old.pool[0].children.length || 0\n\t\t\tvar vnodesChildrenLength = vnodes[0] && vnodes[0].children && vnodes[0].children.length || 0\n\t\t\tif (Math.abs(poolChildrenLength - vnodesChildrenLength) <= Math.abs(oldChildrenLength - vnodesChildrenLength)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\tfunction getKeyMap(vnodes, end) {\n\t\tvar map = {}, i = 0\n\t\tfor (var i = 0; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tvar key2 = vnode.key\n\t\t\t\tif (key2 != null) map[key2] = i\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\tfunction toFragment(vnode) {\n\t\tvar count0 = vnode.domSize\n\t\tif (count0 != null || vnode.dom == null) {\n\t\t\tvar fragment = $doc.createDocumentFragment()\n\t\t\tif (count0 > 0) {\n\t\t\t\tvar dom = vnode.dom\n\t\t\t\twhile (--count0) fragment.appendChild(dom.nextSibling)\n\t\t\t\tfragment.insertBefore(dom, fragment.firstChild)\n\t\t\t}\n\t\t\treturn fragment\n\t\t}\n\t\telse return vnode.dom\n\t}\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling && nextSibling.parentNode) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\tfunction setContentEditable(vnode) {\n\t\tvar children = vnode.children\n\t\tif (children != null && children.length === 1 && children[0].tag === \"<\") {\n\t\t\tvar content = children[0].children\n\t\t\tif (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode.text != null || children != null && children.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t}\n\t//remove\n\tfunction removeNodes(vnodes, start, end, context) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tif (vnode.skip) vnode.skip = false\n\t\t\t\telse removeNode(vnode, context)\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNode(vnode, context) {\n\t\tvar expected = 1, called = 0\n\t\tif (vnode.attrs && typeof vnode.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = vnode.attrs.onbeforeremove.call(vnode.state, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode._state.onbeforeremove === \"function\") {\n\t\t\tvar result = vnode._state.onbeforeremove.call(vnode.state, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tcontinuation()\n\t\tfunction continuation() {\n\t\t\tif (++called === expected) {\n\t\t\t\tonremove(vnode)\n\t\t\t\tif (vnode.dom) {\n\t\t\t\t\tvar count0 = vnode.domSize || 1\n\t\t\t\t\tif (count0 > 1) {\n\t\t\t\t\t\tvar dom = vnode.dom\n\t\t\t\t\t\twhile (--count0) {\n\t\t\t\t\t\t\tremoveNodeFromDOM(dom.nextSibling)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tremoveNodeFromDOM(vnode.dom)\n\t\t\t\t\tif (context != null && vnode.domSize == null && !hasIntegrationMethods(vnode.attrs) && typeof vnode.tag === \"string\") { //TODO test custom elements\n\t\t\t\t\t\tif (!context.pool) context.pool = [vnode]\n\t\t\t\t\t\telse context.pool.push(vnode)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNodeFromDOM(node) {\n\t\tvar parent = node.parentNode\n\t\tif (parent != null) parent.removeChild(node)\n\t}\n\tfunction onremove(vnode) {\n\t\tif (vnode.attrs && typeof vnode.attrs.onremove === \"function\") vnode.attrs.onremove.call(vnode.state, vnode)\n\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\tif (typeof vnode._state.onremove === \"function\") vnode._state.onremove.call(vnode.state, vnode)\n\t\t\tif (vnode.instance != null) onremove(vnode.instance)\n\t\t} else {\n\t\t\tvar children = vnode.children\n\t\t\tif (Array.isArray(children)) {\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//attrs2\n\tfunction setAttrs(vnode, attrs2, ns) {\n\t\tfor (var key2 in attrs2) {\n\t\t\tsetAttr(vnode, key2, null, attrs2[key2], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode, key2, old, value, ns) {\n\t\tvar element = vnode.dom\n\t\tif (key2 === \"key\" || key2 === \"is\" || (old === value && !isFormAttribute(vnode, key2)) && typeof value !== \"object\" || typeof value === \"undefined\" || isLifecycleMethod(key2)) return\n\t\tvar nsLastIndex = key2.indexOf(\":\")\n\t\tif (nsLastIndex > -1 && key2.substr(0, nsLastIndex) === \"xlink\") {\n\t\t\telement.setAttributeNS(\"http://www.w3.org/1999/xlink\", key2.slice(nsLastIndex + 1), value)\n\t\t}\n\t\telse if (key2[0] === \"o\" && key2[1] === \"n\" && typeof value === \"function\") updateEvent(vnode, key2, value)\n\t\telse if (key2 === \"style\") updateStyle(element, old, value)\n\t\telse if (key2 in element && !isAttribute(key2) && ns === undefined && !isCustomElement(vnode)) {\n\t\t\tif (key2 === \"value\") {\n\t\t\t\tvar normalized0 = \"\" + value // eslint-disable-line no-implicit-coercion\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode.tag === \"input\" || vnode.tag === \"textarea\") && vnode.dom.value === normalized0 && vnode.dom === $doc.activeElement) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"select\") {\n\t\t\t\t\tif (value === null) {\n\t\t\t\t\t\tif (vnode.dom.selectedIndex === -1 && vnode.dom === $doc.activeElement) return\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (old !== null && vnode.dom.value === normalized0 && vnode.dom === $doc.activeElement) return\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"option\" && old != null && vnode.dom.value === normalized0) return\n\t\t\t}\n\t\t\t// If you assign an input type1 that is not supported by IE 11 with an assignment expression, an error0 will occur.\n\t\t\tif (vnode.tag === \"input\" && key2 === \"type\") {\n\t\t\t\telement.setAttribute(key2, value)\n\t\t\t\treturn\n\t\t\t}\n\t\t\telement[key2] = value\n\t\t}\n\t\telse {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) element.setAttribute(key2, \"\")\n\t\t\t\telse element.removeAttribute(key2)\n\t\t\t}\n\t\t\telse element.setAttribute(key2 === \"className\" ? \"class\" : key2, value)\n\t\t}\n\t}\n\tfunction setLateAttrs(vnode) {\n\t\tvar attrs2 = vnode.attrs\n\t\tif (vnode.tag === \"select\" && attrs2 != null) {\n\t\t\tif (\"value\" in attrs2) setAttr(vnode, \"value\", null, attrs2.value, undefined)\n\t\t\tif (\"selectedIndex\" in attrs2) setAttr(vnode, \"selectedIndex\", null, attrs2.selectedIndex, undefined)\n\t\t}\n\t}\n\tfunction updateAttrs(vnode, old, attrs2, ns) {\n\t\tif (attrs2 != null) {\n\t\t\tfor (var key2 in attrs2) {\n\t\t\t\tsetAttr(vnode, key2, old && old[key2], attrs2[key2], ns)\n\t\t\t}\n\t\t}\n\t\tif (old != null) {\n\t\t\tfor (var key2 in old) {\n\t\t\t\tif (attrs2 == null || !(key2 in attrs2)) {\n\t\t\t\t\tif (key2 === \"className\") key2 = \"class\"\n\t\t\t\t\tif (key2[0] === \"o\" && key2[1] === \"n\" && !isLifecycleMethod(key2)) updateEvent(vnode, key2, undefined)\n\t\t\t\t\telse if (key2 !== \"key\") vnode.dom.removeAttribute(key2)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction isAttribute(attr) {\n\t\treturn attr === \"href\" || attr === \"list\" || attr === \"form\" || attr === \"width\" || attr === \"height\"// || attr === \"type\"\n\t}\n\tfunction isCustomElement(vnode){\n\t\treturn vnode.attrs.is || vnode.tag.indexOf(\"-\") > -1\n\t}\n\tfunction hasIntegrationMethods(source) {\n\t\treturn source != null && (source.oncreate || source.onupdate || source.onbeforeremove || source.onremove)\n\t}\n\t//style\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) element.style.cssText = \"\", old = null\n\t\tif (style == null) element.style.cssText = \"\"\n\t\telse if (typeof style === \"string\") element.style.cssText = style\n\t\telse {\n\t\t\tif (typeof old === \"string\") element.style.cssText = \"\"\n\t\t\tfor (var key2 in style) {\n\t\t\t\telement.style[key2] = style[key2]\n\t\t\t}\n\t\t\tif (old != null && typeof old !== \"string\") {\n\t\t\t\tfor (var key2 in old) {\n\t\t\t\t\tif (!(key2 in style)) element.style[key2] = \"\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//event\n\tfunction updateEvent(vnode, key2, value) {\n\t\tvar element = vnode.dom\n\t\tvar callback = typeof onevent !== \"function\" ? value : function(e) {\n\t\t\tvar result = value.call(element, e)\n\t\t\tonevent.call(element, e)\n\t\t\treturn result\n\t\t}\n\t\tif (key2 in element) element[key2] = typeof value === \"function\" ? callback : null\n\t\telse {\n\t\t\tvar eventName = key2.slice(2)\n\t\t\tif (vnode.events === undefined) vnode.events = {}\n\t\t\tif (vnode.events[key2] === callback) return\n\t\t\tif (vnode.events[key2] != null) element.removeEventListener(eventName, vnode.events[key2], false)\n\t\t\tif (typeof value === \"function\") {\n\t\t\t\tvnode.events[key2] = callback\n\t\t\t\telement.addEventListener(eventName, vnode.events[key2], false)\n\t\t\t}\n\t\t}\n\t}\n\t//lifecycle\n\tfunction initLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.oninit === \"function\") source.oninit.call(vnode.state, vnode)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(source.oncreate.bind(vnode.state, vnode))\n\t}\n\tfunction updateLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(source.onupdate.bind(vnode.state, vnode))\n\t}\n\tfunction shouldNotUpdate(vnode, old) {\n\t\tvar forceVnodeUpdate, forceComponentUpdate\n\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") forceVnodeUpdate = vnode.attrs.onbeforeupdate.call(vnode.state, vnode, old)\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode._state.onbeforeupdate === \"function\") forceComponentUpdate = vnode._state.onbeforeupdate.call(vnode.state, vnode, old)\n\t\tif (!(forceVnodeUpdate === undefined && forceComponentUpdate === undefined) && !forceVnodeUpdate && !forceComponentUpdate) {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t\tvnode.instance = old.instance\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\tfunction render(dom, vnodes) {\n\t\tif (!dom) throw new Error(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = $doc.activeElement\n\t\tvar namespace = dom.namespaceURI\n\t\t// First time0 rendering into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\t\tif (!Array.isArray(vnodes)) vnodes = [vnodes]\n\t\tupdateNodes(dom, dom.vnodes, Vnode.normalizeChildren(vnodes), false, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\tdom.vnodes = vnodes\n\t\t// document.activeElement can return null in IE https://developer.mozilla.org/en-US/docs/Web/API/Document/activeElement\n\t\tif (active != null && $doc.activeElement !== active) active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n\treturn {render: render, setEventCallback: setEventCallback}\n}\nfunction throttle(callback) {\n\t//60fps translates to 16.6ms, round it down since setTimeout requires int\n\tvar time = 16\n\tvar last = 0, pending = null\n\tvar timeout = typeof requestAnimationFrame === \"function\" ? requestAnimationFrame : setTimeout\n\treturn function() {\n\t\tvar now = Date.now()\n\t\tif (last === 0 || now - last >= time) {\n\t\t\tlast = now\n\t\t\tcallback()\n\t\t}\n\t\telse if (pending === null) {\n\t\t\tpending = timeout(function() {\n\t\t\t\tpending = null\n\t\t\t\tcallback()\n\t\t\t\tlast = Date.now()\n\t\t\t}, time - (now - last))\n\t\t}\n\t}\n}\nvar _11 = function($window) {\n\tvar renderService = coreRenderer($window)\n\trenderService.setEventCallback(function(e) {\n\t\tif (e.redraw === false) e.redraw = undefined\n\t\telse redraw()\n\t})\n\tvar callbacks = []\n\tfunction subscribe(key1, callback) {\n\t\tunsubscribe(key1)\n\t\tcallbacks.push(key1, throttle(callback))\n\t}\n\tfunction unsubscribe(key1) {\n\t\tvar index = callbacks.indexOf(key1)\n\t\tif (index > -1) callbacks.splice(index, 2)\n\t}\n\tfunction redraw() {\n\t\tfor (var i = 1; i < callbacks.length; i += 2) {\n\t\t\tcallbacks[i]()\n\t\t}\n\t}\n\treturn {subscribe: subscribe, unsubscribe: unsubscribe, redraw: redraw, render: renderService.render}\n}\nvar redrawService = _11(window)\nrequestService.setCompletionCallback(redrawService.redraw)\nvar _16 = function(redrawService0) {\n\treturn function(root, component) {\n\t\tif (component === null) {\n\t\t\tredrawService0.render(root, [])\n\t\t\tredrawService0.unsubscribe(root)\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (component.view == null && typeof component !== \"function\") throw new Error(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t\n\t\tvar run0 = function() {\n\t\t\tredrawService0.render(root, Vnode(component))\n\t\t}\n\t\tredrawService0.subscribe(root, run0)\n\t\tredrawService0.redraw()\n\t}\n}\nm.mount = _16(redrawService)\nvar Promise = PromisePolyfill\nvar parseQueryString = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\tvar entries = string.split(\"&\"), data0 = {}, counters = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key5 = decodeURIComponent(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\t\tif (value === \"true\") value = true\n\t\telse if (value === \"false\") value = false\n\t\tvar levels = key5.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data0\n\t\tif (key5.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tvar isValue = j === levels.length - 1\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key5 = levels.slice(0, j).join()\n\t\t\t\tif (counters[key5] == null) counters[key5] = 0\n\t\t\t\tlevel = counters[key5]++\n\t\t\t}\n\t\t\tif (cursor[level] == null) {\n\t\t\t\tcursor[level] = isValue ? value : isNumber ? [] : {}\n\t\t\t}\n\t\t\tcursor = cursor[level]\n\t\t}\n\t}\n\treturn data0\n}\nvar coreRouter = function($window) {\n\tvar supportsPushState = typeof $window.history.pushState === \"function\"\n\tvar callAsync0 = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction normalize1(fragment0) {\n\t\tvar data = $window.location[fragment0].replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\tif (fragment0 === \"pathname\" && data[0] !== \"/\") data = \"/\" + data\n\t\treturn data\n\t}\n\tvar asyncId\n\tfunction debounceAsync(callback0) {\n\t\treturn function() {\n\t\t\tif (asyncId != null) return\n\t\t\tasyncId = callAsync0(function() {\n\t\t\t\tasyncId = null\n\t\t\t\tcallback0()\n\t\t\t})\n\t\t}\n\t}\n\tfunction parsePath(path, queryData, hashData) {\n\t\tvar queryIndex = path.indexOf(\"?\")\n\t\tvar hashIndex = path.indexOf(\"#\")\n\t\tvar pathEnd = queryIndex > -1 ? queryIndex : hashIndex > -1 ? hashIndex : path.length\n\t\tif (queryIndex > -1) {\n\t\t\tvar queryEnd = hashIndex > -1 ? hashIndex : path.length\n\t\t\tvar queryParams = parseQueryString(path.slice(queryIndex + 1, queryEnd))\n\t\t\tfor (var key4 in queryParams) queryData[key4] = queryParams[key4]\n\t\t}\n\t\tif (hashIndex > -1) {\n\t\t\tvar hashParams = parseQueryString(path.slice(hashIndex + 1))\n\t\t\tfor (var key4 in hashParams) hashData[key4] = hashParams[key4]\n\t\t}\n\t\treturn path.slice(0, pathEnd)\n\t}\n\tvar router = {prefix: \"#!\"}\n\trouter.getPath = function() {\n\t\tvar type2 = router.prefix.charAt(0)\n\t\tswitch (type2) {\n\t\t\tcase \"#\": return normalize1(\"hash\").slice(router.prefix.length)\n\t\t\tcase \"?\": return normalize1(\"search\").slice(router.prefix.length) + normalize1(\"hash\")\n\t\t\tdefault: return normalize1(\"pathname\").slice(router.prefix.length) + normalize1(\"search\") + normalize1(\"hash\")\n\t\t}\n\t}\n\trouter.setPath = function(path, data, options) {\n\t\tvar queryData = {}, hashData = {}\n\t\tpath = parsePath(path, queryData, hashData)\n\t\tif (data != null) {\n\t\t\tfor (var key4 in data) queryData[key4] = data[key4]\n\t\t\tpath = path.replace(/:([^\\/]+)/g, function(match2, token) {\n\t\t\t\tdelete queryData[token]\n\t\t\t\treturn data[token]\n\t\t\t})\n\t\t}\n\t\tvar query = buildQueryString(queryData)\n\t\tif (query) path += \"?\" + query\n\t\tvar hash = buildQueryString(hashData)\n\t\tif (hash) path += \"#\" + hash\n\t\tif (supportsPushState) {\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\t$window.onpopstate()\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, router.prefix + path)\n\t\t\telse $window.history.pushState(state, title, router.prefix + path)\n\t\t}\n\t\telse $window.location.href = router.prefix + path\n\t}\n\trouter.defineRoutes = function(routes, resolve, reject) {\n\t\tfunction resolveRoute() {\n\t\t\tvar path = router.getPath()\n\t\t\tvar params = {}\n\t\t\tvar pathname = parsePath(path, params, params)\n\t\t\tvar state = $window.history.state\n\t\t\tif (state != null) {\n\t\t\t\tfor (var k in state) params[k] = state[k]\n\t\t\t}\n\t\t\tfor (var route0 in routes) {\n\t\t\t\tvar matcher = new RegExp(\"^\" + route0.replace(/:[^\\/]+?\\.{3}/g, \"(.*?)\").replace(/:[^\\/]+/g, \"([^\\\\/]+)\") + \"\\/?$\")\n\t\t\t\tif (matcher.test(pathname)) {\n\t\t\t\t\tpathname.replace(matcher, function() {\n\t\t\t\t\t\tvar keys = route0.match(/:[^\\/]+/g) || []\n\t\t\t\t\t\tvar values = [].slice.call(arguments, 1, -2)\n\t\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\t\t\t\tparams[keys[i].replace(/:|\\./g, \"\")] = decodeURIComponent(values[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(routes[route0], params, path, route0)\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\treject(path, params)\n\t\t}\n\t\tif (supportsPushState) $window.onpopstate = debounceAsync(resolveRoute)\n\t\telse if (router.prefix.charAt(0) === \"#\") $window.onhashchange = resolveRoute\n\t\tresolveRoute()\n\t}\n\treturn router\n}\nvar _20 = function($window, redrawService0) {\n\tvar routeService = coreRouter($window)\n\tvar identity = function(v) {return v}\n\tvar render1, component, attrs3, currentPath, lastUpdate\n\tvar route = function(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\tvar run1 = function() {\n\t\t\tif (render1 != null) redrawService0.render(root, render1(Vnode(component, attrs3.key, attrs3)))\n\t\t}\n\t\tvar bail = function(path) {\n\t\t\tif (path !== defaultRoute) routeService.setPath(defaultRoute, null, {replace: true})\n\t\t\telse throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t}\n\t\trouteService.defineRoutes(routes, function(payload, params, path) {\n\t\t\tvar update = lastUpdate = function(routeResolver, comp) {\n\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\tattrs3 = params, currentPath = path, lastUpdate = null\n\t\t\t\trender1 = (routeResolver.render || identity).bind(routeResolver)\n\t\t\t\trun1()\n\t\t\t}\n\t\t\tif (payload.view || typeof payload === \"function\") update({}, payload)\n\t\t\telse {\n\t\t\t\tif (payload.onmatch) {\n\t\t\t\t\tPromise.resolve(payload.onmatch(params, path)).then(function(resolved) {\n\t\t\t\t\t\tupdate(payload, resolved)\n\t\t\t\t\t}, bail)\n\t\t\t\t}\n\t\t\t\telse update(payload, \"div\")\n\t\t\t}\n\t\t}, bail)\n\t\tredrawService0.subscribe(root, run1)\n\t}\n\troute.set = function(path, data, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\trouteService.setPath(path, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = function(prefix0) {routeService.prefix = prefix0}\n\troute.link = function(vnode1) {\n\t\tvnode1.dom.setAttribute(\"href\", routeService.prefix + vnode1.attrs.href)\n\t\tvnode1.dom.onclick = function(e) {\n\t\t\tif (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return\n\t\t\te.preventDefault()\n\t\t\te.redraw = false\n\t\t\tvar href = this.getAttribute(\"href\")\n\t\t\tif (href.indexOf(routeService.prefix) === 0) href = href.slice(routeService.prefix.length)\n\t\t\troute.set(href, undefined, undefined)\n\t\t}\n\t}\n\troute.param = function(key3) {\n\t\tif(typeof attrs3 !== \"undefined\" && typeof key3 !== \"undefined\") return attrs3[key3]\n\t\treturn attrs3\n\t}\n\treturn route\n}\nm.route = _20(window, redrawService)\nm.withAttr = function(attrName, callback1, context) {\n\treturn function(e) {\n\t\tcallback1.call(context || this, attrName in e.currentTarget ? e.currentTarget[attrName] : e.currentTarget.getAttribute(attrName))\n\t}\n}\nvar _28 = coreRenderer(window)\nm.render = _28.render\nm.redraw = redrawService.redraw\nm.request = requestService.request\nm.jsonp = requestService.jsonp\nm.parseQueryString = parseQueryString\nm.buildQueryString = buildQueryString\nm.version = \"1.1.6\"\nm.vnode = Vnode\nif (typeof module !== \"undefined\") module[\"exports\"] = m\nelse window.m = m\n}());",";(function () {\n\tvar m = (typeof global !== 'undefined') \n\t\t? (global.m || require('mithril'))\n\t\t: window.m\n\n\tif (!m) throw (\"mithril-datepicker can't find Mithril.js\")\n\t\n\tvar days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n\tvar months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n\tvar prevNextTitles = ['1 Mo', '1 Yr', '10 Yr']\n\tvar weekStart = 0\n\tvar locale = 'en-us'\n\tvar formatOptions = null\n\n\t/***************************************\n\t *\n\t * actions\n\t *\n\t ***************************************/\n\n\tfunction chooseDate(props, e) {\n\t\tvar box = e.target\n\t\tvar selectedDate = parseInt(box.textContent)\n\t\tvar dateObj = props.date\n\t\tif (box.classList.contains('other-scope')) {\n\t\t\tdateObj.setFullYear(dateObj.getFullYear(), dateObj.getMonth() + (selectedDate > 6 ? -1 : 1), selectedDate)\n\t\t} else {\n\t\t\tdateObj.setDate(selectedDate)\n\t\t}\n\t}\n\n\tfunction dismissAndCommit(props, onchange) {\n\t\tprops.view = 0\n\t\tprops.active = false\n\t\tif (onchange) onchange(props.date)\n\t}\n\t\n\tfunction prevNext(props, delta){\n\t\tvar newDate = new Date(props.date)\n\t\tswitch (props.view) {\n\t\t\tcase 0:\n\t\t\t\tnewDate.setMonth(newDate.getMonth() + delta)\n\t\t\t\tbreak\n\t\t\tcase 1:\n\t\t\t\tnewDate.setFullYear(newDate.getFullYear() + delta)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tnewDate.setFullYear(newDate.getFullYear() + (delta * 10))\n\t\t}\n\t\tprops.date = pushToLastDay(props.date, newDate)\n\t}\n\n\t/***************************************\n\t *\n\t * utility\n\t *\n\t ***************************************/\n\n\tfunction adjustedProps(date, delta) {\n\t\tvar month = date.getMonth() + delta, year = date.getFullYear()\n\t\tvar over = month > 11, under = month < 0\n\t\treturn {\n\t\t\tmonth: over ? 0 : under ? 11 : month,\n\t\t\tyear: over ? year + 1 : under ? year - 1 : year\n\t\t}\n\t}\n\n\tfunction lastDateInMonth(date, delta) {\n\t\tvar obj = adjustedProps(date, delta)\n\t\tif ([0, 2, 4, 6, 7, 9, 11].indexOf(obj.month) > -1) return 31 // array of 31-day props.months\n\t\tif (obj.month === 1) { // February\n\t\t\tif (!(obj.year % 400)) return 29\n\t\t\tif (!(obj.year % 100)) return 28\n\t\t\treturn (obj.year % 4) ? 28 : 29\n\t\t}\n\t\treturn 30\n\t}\n\n\tfunction pushToLastDay(oldDate, newDate) {\n\t\tif (oldDate.getDate() !== newDate.getDate()) {\n\t\t\tnewDate.setMonth(newDate.getMonth() - 1, lastDateInMonth(newDate, -1))\n\t\t}\n\t\treturn newDate\n\t}\n\n  // Removes extra LTR and RTL characters added by toLocaleDateString function in IE11\n\t// https://stackoverflow.com/questions/36225603/internet-explorer-returning-wrong-length-of-string\n\tfunction sanitizeLocaleDateString(str) {\n\t\treturn str.replace(/[^ -~]/g, '')\n\t}\n\n\tfunction stringsForLocale(locale) {\n\t\tvar date = new Date('jan 1 2017'), _months = [], _days = [] // 1/1/2017 was month:0 and weekday:0, so perfect\n\t\twhile (_days.length < 7) {\n\t\t\t_days.push(sanitizeLocaleDateString(date.toLocaleDateString(locale, { weekday: 'long' })))\n\t\t\tdate.setDate(date.getDate() + 1)\n\t\t}\n\t\twhile (_months.length < 12) {\n\t\t\t_months.push(sanitizeLocaleDateString(date.toLocaleDateString(locale, { month: 'long' })))\n\t\t\tdate.setMonth(date.getMonth() + 1)\n\t\t}\n\t\treturn { days: _days, months: _months }\n\t}\n\n\tfunction wrapAround(idx, array) {\n\t\tvar len = array.length\n\t\tvar n = idx >= len ? idx - len : idx\n\t\treturn array[n]\n\t}\n\n\t/***************************************\n\t *\n\t * generators\n\t *\n\t ***************************************/\n\n\tfunction daysFromLastMonth(props){\n\t\tvar month = props.date.getMonth(), year = props.date.getFullYear()\n\t\tvar firstDay = (new Date(year, month, 1)).getDay() - props.weekStart\n\t\tif (firstDay < 0) firstDay += 7\n\t\tvar array = []\n\t\tvar lastDate = lastDateInMonth(props.date, -1)\n\t\tvar offsetStart = lastDate - firstDay + 1\n\t\tfor (var i=offsetStart; i<=lastDate; i++) { array.push(i) }\n\t\treturn array\n\t}\n\n\tfunction daysFromThisMonth(props) {\n\t\tvar max = lastDateInMonth(props.date, 0)\n\t\tvar array = []\n\t\tfor (var i=1; i<=max; i++) {\n\t\t\tarray.push(i)\n\t\t}\n\t\treturn array\n\t}\n\n\tfunction daysFromNextMonth(prev, these) {\n\t\tvar soFar = prev.concat(these)\n\t\tvar mod = soFar.length % 7\n\t\tvar array = []\n\t\tif (mod > 0) {\n\t\t\tvar n = 7 - mod\n\t\t\tfor (var i=1; i<=n; i++) { array.push(i) }\n\t\t}\n\t\treturn array\n\t}\n\n\tfunction defaultDate() {\n\t\tvar now = new Date()\n\t\tnow.setHours(0, 0, 0, 0)\n\t\treturn now\n\t}\n\n\tfunction yearsForDecade(date) {\n\t\tvar year = date.getFullYear()\n\t\tvar start = year - (year % 10)\n\t\tvar array = []\n\t\tfor (var i=start; i<start+10; i++) { array.push(i) }\n\t\treturn array\n\t}\n\n\t/***************************************\n\t *\n\t * view helpers\n\t *\n\t ***************************************/\n\n\tfunction classForBox(a, b) { return a === b ? 'chosen' : '' }\n\n\tfunction displayDate(props) {\n\t\treturn sanitizeLocaleDateString(props.date\n\t\t\t.toLocaleDateString(props.locale, props.formatOptions || {\n\t\t\t\tweekday: 'short',\n\t\t\t\tmonth: 'short',\n\t\t\t\tday: 'numeric',\n\t\t\t\tyear: 'numeric'\n\t\t\t}))\n\t}\n\n\t/***************************************\n\t *\n\t * components\n\t *\n\t ***************************************/\n\t\n\tvar Header = {\n\t\tview: function (vnode) {\n\t\t\tvar props = vnode.attrs.props\n\t\t\tvar date = props.date\n\t\t\tvar theseMonths = props.months || months\n\t\t\treturn m('.header'\n\t\t\t\t, m('.button-bg', { class: 'v' + props.view })\n\t\t\t\t, m('.fake-border')\n\t\t\t\t, m('button.prev'\n\t\t\t\t\t, {\n\t\t\t\t\t\tonclick: prevNext.bind(null, props, -1),\n\t\t\t\t\t\ttype: 'button'\n\t\t\t\t\t}\n\t\t\t\t\t, prevNextTitles[props.view]\n\t\t\t\t)\n\t\t\t\t, m('button.segment', {\n\t\t\t\t\t\tonclick: function () { props.view = 0 },\n          \ttype: 'button'\n\t\t\t\t\t}, date.getDate())\n\t\t\t\t, m('button.segment', {\n\t\t\t\t\t\tonclick: function () { props.view = 1 },\n          \ttype: 'button'\n\t\t\t\t\t}, theseMonths[date.getMonth()].substr(0, 3))\n\t\t\t\t, m('button.segment', {\n\t\t\t\t\t\tonclick: function () { props.view = 2 },\n          \ttype: 'button'\n\t\t\t\t\t}, date.getFullYear())\n\t\t\t\t, m('button.next'\n\t\t\t\t\t, {\n\t\t\t\t\t\tonclick: prevNext.bind(null, props, 1),\n            type: 'button'\n\t\t\t\t\t}\n\t\t\t\t\t, prevNextTitles[props.view]\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\t}\n\n\tvar MonthView = {\n\t\tview: function (vnode) {\n\t\t\tvar props = vnode.attrs.props\n\t\t\tvar prevDates = daysFromLastMonth(props)\n\t\t\tvar theseDates = daysFromThisMonth(props)\n\t\t\tvar nextDates = daysFromNextMonth(prevDates, theseDates)\n\t\t\tvar theseWeekdays = props.days || days\n\t\t\treturn m('.calendar'\n\t\t\t\t, m('.weekdays'\n\t\t\t\t\t, theseWeekdays.map(function (_, idx) {\n\t\t\t\t\t\tvar day = wrapAround(idx + props.weekStart, theseWeekdays)\n\t\t\t\t\t\treturn m('.day.dummy', day.substring(0, 2))\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t, m('.weekdays'\n\t\t\t\t\t, {\n\t\t\t\t\t\tonclick: function(e){\n\t\t\t\t\t\t\tchooseDate(props, e)\n\t\t\t\t\t\t\tdismissAndCommit(props, vnode.attrs.onchange)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t, prevDates.map(function (date) {\n\t\t\t\t\t\treturn m('button.day.other-scope', {\n              type: 'button'\n\t\t\t\t\t\t}, date)\n\t\t\t\t\t})\n\t\t\t\t\t, theseDates.map(function (date) {\n\t\t\t\t\t\treturn m('button.day'\n\t\t\t\t\t\t\t, {\n\t\t\t\t\t\t\t\tclass: classForBox(props.date.getDate(), date),\n                type: 'button'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t, m('.number', date)\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t\t, nextDates.map(function (date) {\n\t\t\t\t\t\treturn m('button.day.other-scope', {\n              type: 'button'\n            }, date)\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t)\n\t\t\t\n\t\t}\n\t}\n\t\n\tvar YearView = {\n\t\tview: function (vnode) {\n\t\t\tvar props = vnode.attrs.props\n\t\t\tvar theseMonths = props.months || months\n\t\t\treturn m('.calendar'\n\t\t\t\t, m('.months'\n\t\t\t\t\t, theseMonths.map(function (month, idx) {\n\t\t\t\t\t\treturn m('button.month'\n\t\t\t\t\t\t\t, {\n\t\t\t\t\t\t\t\tclass: classForBox(props.date.getMonth(), idx),\n\t\t\t\t\t\t\t\tonclick: function () {\n\t\t\t\t\t\t\t\t\tvar newDate = new Date(props.date)\n\t\t\t\t\t\t\t\t\tnewDate.setMonth(idx)\n\t\t\t\t\t\t\t\t\tprops.date = pushToLastDay(props.date, newDate)\n\t\t\t\t\t\t\t\t\tprops.view = 0\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttype: 'button'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t, m('.number', month.substring(0, 3))\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\t}\n\t\n\tvar DecadeView = {\n\t\tview: function (vnode) {\n\t\t\tvar props = vnode.attrs.props\n\t\t\tvar decade = yearsForDecade(props.date)\n\t\t\treturn m('.calendar'\n\t\t\t\t, m('.years'\n\t\t\t\t\t, decade.map(function (year) {\n\t\t\t\t\t\treturn m('button.year'\n\t\t\t\t\t\t\t, {\n\t\t\t\t\t\t\t\tclass: classForBox(props.date.getFullYear(), year),\n\t\t\t\t\t\t\t\tonclick: function () {\n\t\t\t\t\t\t\t\t\tvar newDate = new Date(props.date)\n\t\t\t\t\t\t\t\t\tnewDate.setFullYear(year)\n\t\t\t\t\t\t\t\t\tprops.date = pushToLastDay(props.date, newDate)\n\t\t\t\t\t\t\t\t\tprops.view = 1\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttype: 'button'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t, m('.number', year)\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\t}\n\n\tvar Editor = {\n\t\toncreate: function (vnode) {\n\t\t\trequestAnimationFrame(function () { vnode.dom.classList.add('active') })\n\t\t},\n\t\tonbeforeremove: function (vnode) {\n\t\t\tvnode.dom.classList.remove('active')\n\t\t\treturn new Promise(function (done) { setTimeout(done, 200) })\n\t\t},\n\t\tview: function (vnode) {\n\t\t\tvar props = vnode.attrs.props\n\t\t\treturn m('.editor'\n\t\t\t\t, m(Header, { props: props })\n\t\t\t\t, m('.sled'\n\t\t\t\t\t, { class: 'p' + props.view }\n\t\t\t\t\t, m(MonthView, { props: props, onchange: vnode.attrs.onchange })\n\t\t\t\t\t, m(YearView, { props: props })\n\t\t\t\t\t, m(DecadeView, {props: props })\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\t}\n\n\tvar DatePicker = {\n\t\tlocalize: function (loc) {\n\t\t\tif (loc) {\n\t\t\t\tprevNextTitles = loc.prevNextTitles || prevNextTitles\n\t\t\t\tlocale = loc.locale || locale\n\t\t\t\tformatOptions = loc.formatOptions || formatOptions\n\t\t\t\tweekStart = typeof loc.weekStart === 'number'\n\t\t\t\t\t? loc.weekStart\n\t\t\t\t\t: weekStart\n\t\t\t\t\n\t\t\t\tvar strings = stringsForLocale(locale)\n\t\t\t\tdays = strings.days\n\t\t\t\tmonths = strings.months\n\t\t\t}\n\t\t},\n\t\toninit: function (vnode) {\n\t\t\tvar attrs = vnode.attrs\n\t\t\tvar props = {\n\t\t\t\tdate: new Date(attrs.date || defaultDate()),\n\t\t\t\tactive: false,\n\t\t\t\tview: 0\n\t\t\t}\n\n\t\t\tprops.prevNextTitles = attrs.prevNextTitles || prevNextTitles\n\t\t\tprops.locale = attrs.locale || locale\n\t\t\tprops.formatOptions = attrs.formatOptions || formatOptions\n\t\t\tprops.weekStart = typeof attrs.weekStart === 'number' ? attrs.weekStart : weekStart\n\n\t\t\tif (attrs.locale && attrs.locale !== locale) {\n\t\t\t\tvar strings = stringsForLocale(props.locale)\n\t\t\t\tprops.days = strings.days\n\t\t\t\tprops.months = strings.months\n\t\t\t}\n\n\t\t\tvnode.state.props = props\n\t\t},\n\t\tview: function(vnode){\n\t\t\tvar props = vnode.state.props\n\t\t\tvar displayText = displayDate(props)\n\t\t\treturn m('.mithril-date-picker-container'\n\t\t\t\t, { class: props.active ? 'active' : '' }\n\t\t\t\t, m('.mithril-date-picker'\n\t\t\t\t\t, m('.button.current-date'\n\t\t\t\t\t\t, {\n\t\t\t\t\t\t\tonclick: function(){\n\t\t\t\t\t\t\t\tif (props.active) props.view = 0\n\t\t\t\t\t\t\t\tprops.active = !props.active\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t, displayText\n\t\t\t\t\t)\n\t\t\t\t\t, props.active && m('.overlay', { onclick: dismissAndCommit.bind(null, props, vnode.attrs.onchange) })\n\t\t\t\t\t, props.active && m(Editor, { props: props, onchange: vnode.attrs.onchange })\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\t}\n\t\n\tif (typeof module === 'object') module.exports = DatePicker\n\telse if (typeof window !== 'undefined') window.DatePicker = DatePicker\n\telse global.DatePicker = DatePicker\n})()\n","/* eslint-disable */\r\n;(function() {\r\n\"use strict\"\r\n/* eslint-enable */\r\n\r\nvar guid = 0, HALT = {}\r\nfunction createStream() {\r\n\tfunction stream() {\r\n\t\tif (arguments.length > 0 && arguments[0] !== HALT) updateStream(stream, arguments[0])\r\n\t\treturn stream._state.value\r\n\t}\r\n\tinitStream(stream)\r\n\r\n\tif (arguments.length > 0 && arguments[0] !== HALT) updateStream(stream, arguments[0])\r\n\r\n\treturn stream\r\n}\r\nfunction initStream(stream) {\r\n\tstream.constructor = createStream\r\n\tstream._state = {id: guid++, value: undefined, state: 0, derive: undefined, recover: undefined, deps: {}, parents: [], endStream: undefined, unregister: undefined}\r\n\tstream.map = stream[\"fantasy-land/map\"] = map, stream[\"fantasy-land/ap\"] = ap, stream[\"fantasy-land/of\"] = createStream\r\n\tstream.valueOf = valueOf, stream.toJSON = toJSON, stream.toString = valueOf\r\n\r\n\tObject.defineProperties(stream, {\r\n\t\tend: {get: function() {\r\n\t\t\tif (!stream._state.endStream) {\r\n\t\t\t\tvar endStream = createStream()\r\n\t\t\t\tendStream.map(function(value) {\r\n\t\t\t\t\tif (value === true) {\r\n\t\t\t\t\t\tunregisterStream(stream)\r\n\t\t\t\t\t\tendStream._state.unregister = function(){unregisterStream(endStream)}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn value\r\n\t\t\t\t})\r\n\t\t\t\tstream._state.endStream = endStream\r\n\t\t\t}\r\n\t\t\treturn stream._state.endStream\r\n\t\t}}\r\n\t})\r\n}\r\nfunction updateStream(stream, value) {\r\n\tupdateState(stream, value)\r\n\tfor (var id in stream._state.deps) updateDependency(stream._state.deps[id], false)\r\n\tif (stream._state.unregister != null) stream._state.unregister()\r\n\tfinalize(stream)\r\n}\r\nfunction updateState(stream, value) {\r\n\tstream._state.value = value\r\n\tstream._state.changed = true\r\n\tif (stream._state.state !== 2) stream._state.state = 1\r\n}\r\nfunction updateDependency(stream, mustSync) {\r\n\tvar state = stream._state, parents = state.parents\r\n\tif (parents.length > 0 && parents.every(active) && (mustSync || parents.some(changed))) {\r\n\t\tvar value = stream._state.derive()\r\n\t\tif (value === HALT) return false\r\n\t\tupdateState(stream, value)\r\n\t}\r\n}\r\nfunction finalize(stream) {\r\n\tstream._state.changed = false\r\n\tfor (var id in stream._state.deps) stream._state.deps[id]._state.changed = false\r\n}\r\n\r\nfunction combine(fn, streams) {\r\n\tif (!streams.every(valid)) throw new Error(\"Ensure that each item passed to stream.combine/stream.merge is a stream\")\r\n\treturn initDependency(createStream(), streams, function() {\r\n\t\treturn fn.apply(this, streams.concat([streams.filter(changed)]))\r\n\t})\r\n}\r\n\r\nfunction initDependency(dep, streams, derive) {\r\n\tvar state = dep._state\r\n\tstate.derive = derive\r\n\tstate.parents = streams.filter(notEnded)\r\n\r\n\tregisterDependency(dep, state.parents)\r\n\tupdateDependency(dep, true)\r\n\r\n\treturn dep\r\n}\r\nfunction registerDependency(stream, parents) {\r\n\tfor (var i = 0; i < parents.length; i++) {\r\n\t\tparents[i]._state.deps[stream._state.id] = stream\r\n\t\tregisterDependency(stream, parents[i]._state.parents)\r\n\t}\r\n}\r\nfunction unregisterStream(stream) {\r\n\tfor (var i = 0; i < stream._state.parents.length; i++) {\r\n\t\tvar parent = stream._state.parents[i]\r\n\t\tdelete parent._state.deps[stream._state.id]\r\n\t}\r\n\tfor (var id in stream._state.deps) {\r\n\t\tvar dependent = stream._state.deps[id]\r\n\t\tvar index = dependent._state.parents.indexOf(stream)\r\n\t\tif (index > -1) dependent._state.parents.splice(index, 1)\r\n\t}\r\n\tstream._state.state = 2 //ended\r\n\tstream._state.deps = {}\r\n}\r\n\r\nfunction map(fn) {return combine(function(stream) {return fn(stream())}, [this])}\r\nfunction ap(stream) {return combine(function(s1, s2) {return s1()(s2())}, [stream, this])}\r\nfunction valueOf() {return this._state.value}\r\nfunction toJSON() {return this._state.value != null && typeof this._state.value.toJSON === \"function\" ? this._state.value.toJSON() : this._state.value}\r\n\r\nfunction valid(stream) {return stream._state }\r\nfunction active(stream) {return stream._state.state === 1}\r\nfunction changed(stream) {return stream._state.changed}\r\nfunction notEnded(stream) {return stream._state.state !== 2}\r\n\r\nfunction merge(streams) {\r\n\treturn combine(function() {\r\n\t\treturn streams.map(function(s) {return s()})\r\n\t}, streams)\r\n}\r\n\r\nfunction scan(reducer, seed, stream) {\r\n\tvar newStream = combine(function (s) {\r\n\t\treturn seed = reducer(seed, s._state.value)\r\n\t}, [stream])\r\n\r\n\tif (newStream._state.state === 0) newStream(seed)\r\n\r\n\treturn newStream\r\n}\r\n\r\nfunction scanMerge(tuples, seed) {\r\n\tvar streams = tuples.map(function(tuple) {\r\n\t\tvar stream = tuple[0]\r\n\t\tif (stream._state.state === 0) stream(undefined)\r\n\t\treturn stream\r\n\t})\r\n\r\n\tvar newStream = combine(function() {\r\n\t\tvar changed = arguments[arguments.length - 1]\r\n\r\n\t\tstreams.forEach(function(stream, idx) {\r\n\t\t\tif (changed.indexOf(stream) > -1) {\r\n\t\t\t\tseed = tuples[idx][1](seed, stream._state.value)\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn seed\r\n\t}, streams)\r\n\r\n\treturn newStream\r\n}\r\n\r\ncreateStream[\"fantasy-land/of\"] = createStream\r\ncreateStream.merge = merge\r\ncreateStream.combine = combine\r\ncreateStream.scan = scan\r\ncreateStream.scanMerge = scanMerge\r\ncreateStream.HALT = HALT\r\n\r\nif (typeof module !== \"undefined\") module[\"exports\"] = createStream\r\nelse if (typeof window.m === \"function\" && !(\"stream\" in window.m)) window.m.stream = createStream\r\nelse window.m = {stream : createStream}\r\n\r\n}());\r\n","var MILLISECONDS_IN_MINUTE = 60000\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nmodule.exports = function getTimezoneOffsetInMilliseconds (dirtyDate) {\n  var date = new Date(dirtyDate.getTime())\n  var baseTimezoneOffset = date.getTimezoneOffset()\n  date.setSeconds(0, 0)\n  var millisecondsPartOfTimezoneOffset = date.getTime() % MILLISECONDS_IN_MINUTE\n\n  return baseTimezoneOffset * MILLISECONDS_IN_MINUTE + millisecondsPartOfTimezoneOffset\n}\n","/**\n * @category Common Helpers\n * @summary Is the given argument an instance of Date?\n *\n * @description\n * Is the given argument an instance of Date?\n *\n * @param {*} argument - the argument to check\n * @returns {Boolean} the given argument is an instance of Date\n *\n * @example\n * // Is 'mayonnaise' a Date?\n * var result = isDate('mayonnaise')\n * //=> false\n */\nfunction isDate (argument) {\n  return argument instanceof Date\n}\n\nmodule.exports = isDate\n","var getTimezoneOffsetInMilliseconds = require('../_lib/getTimezoneOffsetInMilliseconds/index.js')\nvar isDate = require('../is_date/index.js')\n\nvar MILLISECONDS_IN_HOUR = 3600000\nvar MILLISECONDS_IN_MINUTE = 60000\nvar DEFAULT_ADDITIONAL_DIGITS = 2\n\nvar parseTokenDateTimeDelimeter = /[T ]/\nvar parseTokenPlainTime = /:/\n\n// year tokens\nvar parseTokenYY = /^(\\d{2})$/\nvar parseTokensYYY = [\n  /^([+-]\\d{2})$/, // 0 additional digits\n  /^([+-]\\d{3})$/, // 1 additional digit\n  /^([+-]\\d{4})$/ // 2 additional digits\n]\n\nvar parseTokenYYYY = /^(\\d{4})/\nvar parseTokensYYYYY = [\n  /^([+-]\\d{4})/, // 0 additional digits\n  /^([+-]\\d{5})/, // 1 additional digit\n  /^([+-]\\d{6})/ // 2 additional digits\n]\n\n// date tokens\nvar parseTokenMM = /^-(\\d{2})$/\nvar parseTokenDDD = /^-?(\\d{3})$/\nvar parseTokenMMDD = /^-?(\\d{2})-?(\\d{2})$/\nvar parseTokenWww = /^-?W(\\d{2})$/\nvar parseTokenWwwD = /^-?W(\\d{2})-?(\\d{1})$/\n\n// time tokens\nvar parseTokenHH = /^(\\d{2}([.,]\\d*)?)$/\nvar parseTokenHHMM = /^(\\d{2}):?(\\d{2}([.,]\\d*)?)$/\nvar parseTokenHHMMSS = /^(\\d{2}):?(\\d{2}):?(\\d{2}([.,]\\d*)?)$/\n\n// timezone tokens\nvar parseTokenTimezone = /([Z+-].*)$/\nvar parseTokenTimezoneZ = /^(Z)$/\nvar parseTokenTimezoneHH = /^([+-])(\\d{2})$/\nvar parseTokenTimezoneHHMM = /^([+-])(\\d{2}):?(\\d{2})$/\n\n/**\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If an argument is a string, the function tries to parse it.\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If all above fails, the function passes the given argument to Date constructor.\n *\n * @param {Date|String|Number} argument - the value to convert\n * @param {Object} [options] - the object with options\n * @param {0 | 1 | 2} [options.additionalDigits=2] - the additional number of digits in the extended year format\n * @returns {Date} the parsed date in the local time zone\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * var result = parse('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Parse string '+02014101',\n * // if the additional number of digits in the extended year format is 1:\n * var result = parse('+02014101', {additionalDigits: 1})\n * //=> Fri Apr 11 2014 00:00:00\n */\nfunction parse (argument, dirtyOptions) {\n  if (isDate(argument)) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime())\n  } else if (typeof argument !== 'string') {\n    return new Date(argument)\n  }\n\n  var options = dirtyOptions || {}\n  var additionalDigits = options.additionalDigits\n  if (additionalDigits == null) {\n    additionalDigits = DEFAULT_ADDITIONAL_DIGITS\n  } else {\n    additionalDigits = Number(additionalDigits)\n  }\n\n  var dateStrings = splitDateString(argument)\n\n  var parseYearResult = parseYear(dateStrings.date, additionalDigits)\n  var year = parseYearResult.year\n  var restDateString = parseYearResult.restDateString\n\n  var date = parseDate(restDateString, year)\n\n  if (date) {\n    var timestamp = date.getTime()\n    var time = 0\n    var offset\n\n    if (dateStrings.time) {\n      time = parseTime(dateStrings.time)\n    }\n\n    if (dateStrings.timezone) {\n      offset = parseTimezone(dateStrings.timezone) * MILLISECONDS_IN_MINUTE\n    } else {\n      var fullTime = timestamp + time\n      var fullTimeDate = new Date(fullTime)\n\n      offset = getTimezoneOffsetInMilliseconds(fullTimeDate)\n\n      // Adjust time when it's coming from DST\n      var fullTimeDateNextDay = new Date(fullTime)\n      fullTimeDateNextDay.setDate(fullTimeDate.getDate() + 1)\n      var offsetDiff =\n        getTimezoneOffsetInMilliseconds(fullTimeDateNextDay) -\n        getTimezoneOffsetInMilliseconds(fullTimeDate)\n      if (offsetDiff > 0) {\n        offset += offsetDiff\n      }\n    }\n\n    return new Date(timestamp + time + offset)\n  } else {\n    return new Date(argument)\n  }\n}\n\nfunction splitDateString (dateString) {\n  var dateStrings = {}\n  var array = dateString.split(parseTokenDateTimeDelimeter)\n  var timeString\n\n  if (parseTokenPlainTime.test(array[0])) {\n    dateStrings.date = null\n    timeString = array[0]\n  } else {\n    dateStrings.date = array[0]\n    timeString = array[1]\n  }\n\n  if (timeString) {\n    var token = parseTokenTimezone.exec(timeString)\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], '')\n      dateStrings.timezone = token[1]\n    } else {\n      dateStrings.time = timeString\n    }\n  }\n\n  return dateStrings\n}\n\nfunction parseYear (dateString, additionalDigits) {\n  var parseTokenYYY = parseTokensYYY[additionalDigits]\n  var parseTokenYYYYY = parseTokensYYYYY[additionalDigits]\n\n  var token\n\n  // YYYY or YYYYY\n  token = parseTokenYYYY.exec(dateString) || parseTokenYYYYY.exec(dateString)\n  if (token) {\n    var yearString = token[1]\n    return {\n      year: parseInt(yearString, 10),\n      restDateString: dateString.slice(yearString.length)\n    }\n  }\n\n  // YY or YYY\n  token = parseTokenYY.exec(dateString) || parseTokenYYY.exec(dateString)\n  if (token) {\n    var centuryString = token[1]\n    return {\n      year: parseInt(centuryString, 10) * 100,\n      restDateString: dateString.slice(centuryString.length)\n    }\n  }\n\n  // Invalid ISO-formatted year\n  return {\n    year: null\n  }\n}\n\nfunction parseDate (dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) {\n    return null\n  }\n\n  var token\n  var date\n  var month\n  var week\n\n  // YYYY\n  if (dateString.length === 0) {\n    date = new Date(0)\n    date.setUTCFullYear(year)\n    return date\n  }\n\n  // YYYY-MM\n  token = parseTokenMM.exec(dateString)\n  if (token) {\n    date = new Date(0)\n    month = parseInt(token[1], 10) - 1\n    date.setUTCFullYear(year, month)\n    return date\n  }\n\n  // YYYY-DDD or YYYYDDD\n  token = parseTokenDDD.exec(dateString)\n  if (token) {\n    date = new Date(0)\n    var dayOfYear = parseInt(token[1], 10)\n    date.setUTCFullYear(year, 0, dayOfYear)\n    return date\n  }\n\n  // YYYY-MM-DD or YYYYMMDD\n  token = parseTokenMMDD.exec(dateString)\n  if (token) {\n    date = new Date(0)\n    month = parseInt(token[1], 10) - 1\n    var day = parseInt(token[2], 10)\n    date.setUTCFullYear(year, month, day)\n    return date\n  }\n\n  // YYYY-Www or YYYYWww\n  token = parseTokenWww.exec(dateString)\n  if (token) {\n    week = parseInt(token[1], 10) - 1\n    return dayOfISOYear(year, week)\n  }\n\n  // YYYY-Www-D or YYYYWwwD\n  token = parseTokenWwwD.exec(dateString)\n  if (token) {\n    week = parseInt(token[1], 10) - 1\n    var dayOfWeek = parseInt(token[2], 10) - 1\n    return dayOfISOYear(year, week, dayOfWeek)\n  }\n\n  // Invalid ISO-formatted date\n  return null\n}\n\nfunction parseTime (timeString) {\n  var token\n  var hours\n  var minutes\n\n  // hh\n  token = parseTokenHH.exec(timeString)\n  if (token) {\n    hours = parseFloat(token[1].replace(',', '.'))\n    return (hours % 24) * MILLISECONDS_IN_HOUR\n  }\n\n  // hh:mm or hhmm\n  token = parseTokenHHMM.exec(timeString)\n  if (token) {\n    hours = parseInt(token[1], 10)\n    minutes = parseFloat(token[2].replace(',', '.'))\n    return (hours % 24) * MILLISECONDS_IN_HOUR +\n      minutes * MILLISECONDS_IN_MINUTE\n  }\n\n  // hh:mm:ss or hhmmss\n  token = parseTokenHHMMSS.exec(timeString)\n  if (token) {\n    hours = parseInt(token[1], 10)\n    minutes = parseInt(token[2], 10)\n    var seconds = parseFloat(token[3].replace(',', '.'))\n    return (hours % 24) * MILLISECONDS_IN_HOUR +\n      minutes * MILLISECONDS_IN_MINUTE +\n      seconds * 1000\n  }\n\n  // Invalid ISO-formatted time\n  return null\n}\n\nfunction parseTimezone (timezoneString) {\n  var token\n  var absoluteOffset\n\n  // Z\n  token = parseTokenTimezoneZ.exec(timezoneString)\n  if (token) {\n    return 0\n  }\n\n  // hh\n  token = parseTokenTimezoneHH.exec(timezoneString)\n  if (token) {\n    absoluteOffset = parseInt(token[2], 10) * 60\n    return (token[1] === '+') ? -absoluteOffset : absoluteOffset\n  }\n\n  // hh:mm or hhmm\n  token = parseTokenTimezoneHHMM.exec(timezoneString)\n  if (token) {\n    absoluteOffset = parseInt(token[2], 10) * 60 + parseInt(token[3], 10)\n    return (token[1] === '+') ? -absoluteOffset : absoluteOffset\n  }\n\n  return 0\n}\n\nfunction dayOfISOYear (isoYear, week, day) {\n  week = week || 0\n  day = day || 0\n  var date = new Date(0)\n  date.setUTCFullYear(isoYear, 0, 4)\n  var fourthOfJanuaryDay = date.getUTCDay() || 7\n  var diff = week * 7 + day + 1 - fourthOfJanuaryDay\n  date.setUTCDate(date.getUTCDate() + diff)\n  return date\n}\n\nmodule.exports = parse\n","var parse = require('../parse/index.js')\n\n/**\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added\n * @returns {Date} the new date with the days added\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * var result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nfunction addDays (dirtyDate, dirtyAmount) {\n  var date = parse(dirtyDate)\n  var amount = Number(dirtyAmount)\n  date.setDate(date.getDate() + amount)\n  return date\n}\n\nmodule.exports = addDays\n","var parse = require('../parse/index.js')\n\n/**\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added\n * @returns {Date} the new date with the milliseconds added\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * var result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\nfunction addMilliseconds (dirtyDate, dirtyAmount) {\n  var timestamp = parse(dirtyDate).getTime()\n  var amount = Number(dirtyAmount)\n  return new Date(timestamp + amount)\n}\n\nmodule.exports = addMilliseconds\n","var addMilliseconds = require('../add_milliseconds/index.js')\n\nvar MILLISECONDS_IN_HOUR = 3600000\n\n/**\n * @category Hour Helpers\n * @summary Add the specified number of hours to the given date.\n *\n * @description\n * Add the specified number of hours to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of hours to be added\n * @returns {Date} the new date with the hours added\n *\n * @example\n * // Add 2 hours to 10 July 2014 23:00:00:\n * var result = addHours(new Date(2014, 6, 10, 23, 0), 2)\n * //=> Fri Jul 11 2014 01:00:00\n */\nfunction addHours (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addMilliseconds(dirtyDate, amount * MILLISECONDS_IN_HOUR)\n}\n\nmodule.exports = addHours\n","var parse = require('../parse/index.js')\n\n/**\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @param {Object} [options] - the object with options\n * @param {Number} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * var result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * var result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), {weekStartsOn: 1})\n * //=> Mon Sep 01 2014 00:00:00\n */\nfunction startOfWeek (dirtyDate, dirtyOptions) {\n  var weekStartsOn = dirtyOptions ? (Number(dirtyOptions.weekStartsOn) || 0) : 0\n\n  var date = parse(dirtyDate)\n  var day = date.getDay()\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn\n\n  date.setDate(date.getDate() - diff)\n  date.setHours(0, 0, 0, 0)\n  return date\n}\n\nmodule.exports = startOfWeek\n","var startOfWeek = require('../start_of_week/index.js')\n\n/**\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * var result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nfunction startOfISOWeek (dirtyDate) {\n  return startOfWeek(dirtyDate, {weekStartsOn: 1})\n}\n\nmodule.exports = startOfISOWeek\n","var parse = require('../parse/index.js')\nvar startOfISOWeek = require('../start_of_iso_week/index.js')\n\n/**\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * var result = getISOYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nfunction getISOYear (dirtyDate) {\n  var date = parse(dirtyDate)\n  var year = date.getFullYear()\n\n  var fourthOfJanuaryOfNextYear = new Date(0)\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4)\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0)\n  var startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear)\n\n  var fourthOfJanuaryOfThisYear = new Date(0)\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4)\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0)\n  var startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear)\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year\n  } else {\n    return year - 1\n  }\n}\n\nmodule.exports = getISOYear\n","var getISOYear = require('../get_iso_year/index.js')\nvar startOfISOWeek = require('../start_of_iso_week/index.js')\n\n/**\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the start of an ISO year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * var result = startOfISOYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nfunction startOfISOYear (dirtyDate) {\n  var year = getISOYear(dirtyDate)\n  var fourthOfJanuary = new Date(0)\n  fourthOfJanuary.setFullYear(year, 0, 4)\n  fourthOfJanuary.setHours(0, 0, 0, 0)\n  var date = startOfISOWeek(fourthOfJanuary)\n  return date\n}\n\nmodule.exports = startOfISOYear\n","var parse = require('../parse/index.js')\n\n/**\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * var result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nfunction startOfDay (dirtyDate) {\n  var date = parse(dirtyDate)\n  date.setHours(0, 0, 0, 0)\n  return date\n}\n\nmodule.exports = startOfDay\n","var startOfDay = require('../start_of_day/index.js')\n\nvar MILLISECONDS_IN_MINUTE = 60000\nvar MILLISECONDS_IN_DAY = 86400000\n\n/**\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * var result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n */\nfunction differenceInCalendarDays (dirtyDateLeft, dirtyDateRight) {\n  var startOfDayLeft = startOfDay(dirtyDateLeft)\n  var startOfDayRight = startOfDay(dirtyDateRight)\n\n  var timestampLeft = startOfDayLeft.getTime() -\n    startOfDayLeft.getTimezoneOffset() * MILLISECONDS_IN_MINUTE\n  var timestampRight = startOfDayRight.getTime() -\n    startOfDayRight.getTimezoneOffset() * MILLISECONDS_IN_MINUTE\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY)\n}\n\nmodule.exports = differenceInCalendarDays\n","var parse = require('../parse/index.js')\nvar startOfISOYear = require('../start_of_iso_year/index.js')\nvar differenceInCalendarDays = require('../difference_in_calendar_days/index.js')\n\n/**\n * @category ISO Week-Numbering Year Helpers\n * @summary Set the ISO week-numbering year to the given date.\n *\n * @description\n * Set the ISO week-numbering year to the given date,\n * saving the week number and the weekday number.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} isoYear - the ISO week-numbering year of the new date\n * @returns {Date} the new date with the ISO week-numbering year setted\n *\n * @example\n * // Set ISO week-numbering year 2007 to 29 December 2008:\n * var result = setISOYear(new Date(2008, 11, 29), 2007)\n * //=> Mon Jan 01 2007 00:00:00\n */\nfunction setISOYear (dirtyDate, dirtyISOYear) {\n  var date = parse(dirtyDate)\n  var isoYear = Number(dirtyISOYear)\n  var diff = differenceInCalendarDays(date, startOfISOYear(date))\n  var fourthOfJanuary = new Date(0)\n  fourthOfJanuary.setFullYear(isoYear, 0, 4)\n  fourthOfJanuary.setHours(0, 0, 0, 0)\n  date = startOfISOYear(fourthOfJanuary)\n  date.setDate(date.getDate() + diff)\n  return date\n}\n\nmodule.exports = setISOYear\n","var getISOYear = require('../get_iso_year/index.js')\nvar setISOYear = require('../set_iso_year/index.js')\n\n/**\n * @category ISO Week-Numbering Year Helpers\n * @summary Add the specified number of ISO week-numbering years to the given date.\n *\n * @description\n * Add the specified number of ISO week-numbering years to the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of ISO week-numbering years to be added\n * @returns {Date} the new date with the ISO week-numbering years added\n *\n * @example\n * // Add 5 ISO week-numbering years to 2 July 2010:\n * var result = addISOYears(new Date(2010, 6, 2), 5)\n * //=> Fri Jun 26 2015 00:00:00\n */\nfunction addISOYears (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return setISOYear(dirtyDate, getISOYear(dirtyDate) + amount)\n}\n\nmodule.exports = addISOYears\n","var addMilliseconds = require('../add_milliseconds/index.js')\n\nvar MILLISECONDS_IN_MINUTE = 60000\n\n/**\n * @category Minute Helpers\n * @summary Add the specified number of minutes to the given date.\n *\n * @description\n * Add the specified number of minutes to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of minutes to be added\n * @returns {Date} the new date with the minutes added\n *\n * @example\n * // Add 30 minutes to 10 July 2014 12:00:00:\n * var result = addMinutes(new Date(2014, 6, 10, 12, 0), 30)\n * //=> Thu Jul 10 2014 12:30:00\n */\nfunction addMinutes (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addMilliseconds(dirtyDate, amount * MILLISECONDS_IN_MINUTE)\n}\n\nmodule.exports = addMinutes\n","var parse = require('../parse/index.js')\n\n/**\n * @category Month Helpers\n * @summary Get the number of days in a month of the given date.\n *\n * @description\n * Get the number of days in a month of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the number of days in a month\n *\n * @example\n * // How many days are in February 2000?\n * var result = getDaysInMonth(new Date(2000, 1))\n * //=> 29\n */\nfunction getDaysInMonth (dirtyDate) {\n  var date = parse(dirtyDate)\n  var year = date.getFullYear()\n  var monthIndex = date.getMonth()\n  var lastDayOfMonth = new Date(0)\n  lastDayOfMonth.setFullYear(year, monthIndex + 1, 0)\n  lastDayOfMonth.setHours(0, 0, 0, 0)\n  return lastDayOfMonth.getDate()\n}\n\nmodule.exports = getDaysInMonth\n","var parse = require('../parse/index.js')\nvar getDaysInMonth = require('../get_days_in_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added\n * @returns {Date} the new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * var result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\nfunction addMonths (dirtyDate, dirtyAmount) {\n  var date = parse(dirtyDate)\n  var amount = Number(dirtyAmount)\n  var desiredMonth = date.getMonth() + amount\n  var dateWithDesiredMonth = new Date(0)\n  dateWithDesiredMonth.setFullYear(date.getFullYear(), desiredMonth, 1)\n  dateWithDesiredMonth.setHours(0, 0, 0, 0)\n  var daysInMonth = getDaysInMonth(dateWithDesiredMonth)\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  date.setMonth(desiredMonth, Math.min(daysInMonth, date.getDate()))\n  return date\n}\n\nmodule.exports = addMonths\n","var addMonths = require('../add_months/index.js')\n\n/**\n * @category Quarter Helpers\n * @summary Add the specified number of year quarters to the given date.\n *\n * @description\n * Add the specified number of year quarters to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of quarters to be added\n * @returns {Date} the new date with the quarters added\n *\n * @example\n * // Add 1 quarter to 1 September 2014:\n * var result = addQuarters(new Date(2014, 8, 1), 1)\n * //=> Mon Dec 01 2014 00:00:00\n */\nfunction addQuarters (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  var months = amount * 3\n  return addMonths(dirtyDate, months)\n}\n\nmodule.exports = addQuarters\n","var addMilliseconds = require('../add_milliseconds/index.js')\n\n/**\n * @category Second Helpers\n * @summary Add the specified number of seconds to the given date.\n *\n * @description\n * Add the specified number of seconds to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of seconds to be added\n * @returns {Date} the new date with the seconds added\n *\n * @example\n * // Add 30 seconds to 10 July 2014 12:45:00:\n * var result = addSeconds(new Date(2014, 6, 10, 12, 45, 0), 30)\n * //=> Thu Jul 10 2014 12:45:30\n */\nfunction addSeconds (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addMilliseconds(dirtyDate, amount * 1000)\n}\n\nmodule.exports = addSeconds\n","var addDays = require('../add_days/index.js')\n\n/**\n * @category Week Helpers\n * @summary Add the specified number of weeks to the given date.\n *\n * @description\n * Add the specified number of week to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of weeks to be added\n * @returns {Date} the new date with the weeks added\n *\n * @example\n * // Add 4 weeks to 1 September 2014:\n * var result = addWeeks(new Date(2014, 8, 1), 4)\n * //=> Mon Sep 29 2014 00:00:00\n */\nfunction addWeeks (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  var days = amount * 7\n  return addDays(dirtyDate, days)\n}\n\nmodule.exports = addWeeks\n","var addMonths = require('../add_months/index.js')\n\n/**\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be added\n * @returns {Date} the new date with the years added\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * var result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\nfunction addYears (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addMonths(dirtyDate, amount * 12)\n}\n\nmodule.exports = addYears\n","var parse = require('../parse/index.js')\n\n/**\n * @category Range Helpers\n * @summary Is the given date range overlapping with another date range?\n *\n * @description\n * Is the given date range overlapping with another date range?\n *\n * @param {Date|String|Number} initialRangeStartDate - the start of the initial range\n * @param {Date|String|Number} initialRangeEndDate - the end of the initial range\n * @param {Date|String|Number} comparedRangeStartDate - the start of the range to compare it with\n * @param {Date|String|Number} comparedRangeEndDate - the end of the range to compare it with\n * @returns {Boolean} whether the date ranges are overlapping\n * @throws {Error} startDate of a date range cannot be after its endDate\n *\n * @example\n * // For overlapping date ranges:\n * areRangesOverlapping(\n *   new Date(2014, 0, 10), new Date(2014, 0, 20), new Date(2014, 0, 17), new Date(2014, 0, 21)\n * )\n * //=> true\n *\n * @example\n * // For non-overlapping date ranges:\n * areRangesOverlapping(\n *   new Date(2014, 0, 10), new Date(2014, 0, 20), new Date(2014, 0, 21), new Date(2014, 0, 22)\n * )\n * //=> false\n */\nfunction areRangesOverlapping (dirtyInitialRangeStartDate, dirtyInitialRangeEndDate, dirtyComparedRangeStartDate, dirtyComparedRangeEndDate) {\n  var initialStartTime = parse(dirtyInitialRangeStartDate).getTime()\n  var initialEndTime = parse(dirtyInitialRangeEndDate).getTime()\n  var comparedStartTime = parse(dirtyComparedRangeStartDate).getTime()\n  var comparedEndTime = parse(dirtyComparedRangeEndDate).getTime()\n\n  if (initialStartTime > initialEndTime || comparedStartTime > comparedEndTime) {\n    throw new Error('The start of the range cannot be after the end of the range')\n  }\n\n  return initialStartTime < comparedEndTime && comparedStartTime < initialEndTime\n}\n\nmodule.exports = areRangesOverlapping\n","var parse = require('../parse/index.js')\n\n/**\n * @category Common Helpers\n * @summary Return an index of the closest date from the array comparing to the given date.\n *\n * @description\n * Return an index of the closest date from the array comparing to the given date.\n *\n * @param {Date|String|Number} dateToCompare - the date to compare with\n * @param {Date[]|String[]|Number[]} datesArray - the array to search\n * @returns {Number} an index of the date closest to the given date\n * @throws {TypeError} the second argument must be an instance of Array\n *\n * @example\n * // Which date is closer to 6 September 2015?\n * var dateToCompare = new Date(2015, 8, 6)\n * var datesArray = [\n *   new Date(2015, 0, 1),\n *   new Date(2016, 0, 1),\n *   new Date(2017, 0, 1)\n * ]\n * var result = closestIndexTo(dateToCompare, datesArray)\n * //=> 1\n */\nfunction closestIndexTo (dirtyDateToCompare, dirtyDatesArray) {\n  if (!(dirtyDatesArray instanceof Array)) {\n    throw new TypeError(toString.call(dirtyDatesArray) + ' is not an instance of Array')\n  }\n\n  var dateToCompare = parse(dirtyDateToCompare)\n  var timeToCompare = dateToCompare.getTime()\n\n  var result\n  var minDistance\n\n  dirtyDatesArray.forEach(function (dirtyDate, index) {\n    var currentDate = parse(dirtyDate)\n    var distance = Math.abs(timeToCompare - currentDate.getTime())\n    if (result === undefined || distance < minDistance) {\n      result = index\n      minDistance = distance\n    }\n  })\n\n  return result\n}\n\nmodule.exports = closestIndexTo\n","var parse = require('../parse/index.js')\n\n/**\n * @category Common Helpers\n * @summary Return a date from the array closest to the given date.\n *\n * @description\n * Return a date from the array closest to the given date.\n *\n * @param {Date|String|Number} dateToCompare - the date to compare with\n * @param {Date[]|String[]|Number[]} datesArray - the array to search\n * @returns {Date} the date from the array closest to the given date\n * @throws {TypeError} the second argument must be an instance of Array\n *\n * @example\n * // Which date is closer to 6 September 2015: 1 January 2000 or 1 January 2030?\n * var dateToCompare = new Date(2015, 8, 6)\n * var result = closestTo(dateToCompare, [\n *   new Date(2000, 0, 1),\n *   new Date(2030, 0, 1)\n * ])\n * //=> Tue Jan 01 2030 00:00:00\n */\nfunction closestTo (dirtyDateToCompare, dirtyDatesArray) {\n  if (!(dirtyDatesArray instanceof Array)) {\n    throw new TypeError(toString.call(dirtyDatesArray) + ' is not an instance of Array')\n  }\n\n  var dateToCompare = parse(dirtyDateToCompare)\n  var timeToCompare = dateToCompare.getTime()\n\n  var result\n  var minDistance\n\n  dirtyDatesArray.forEach(function (dirtyDate) {\n    var currentDate = parse(dirtyDate)\n    var distance = Math.abs(timeToCompare - currentDate.getTime())\n    if (result === undefined || distance < minDistance) {\n      result = currentDate\n      minDistance = distance\n    }\n  })\n\n  return result\n}\n\nmodule.exports = closestTo\n","var parse = require('../parse/index.js')\n\n/**\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * @param {Date|String|Number} dateLeft - the first date to compare\n * @param {Date|String|Number} dateRight - the second date to compare\n * @returns {Number} the result of the comparison\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * var result = compareAsc(\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * )\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * var result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\nfunction compareAsc (dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft)\n  var timeLeft = dateLeft.getTime()\n  var dateRight = parse(dirtyDateRight)\n  var timeRight = dateRight.getTime()\n\n  if (timeLeft < timeRight) {\n    return -1\n  } else if (timeLeft > timeRight) {\n    return 1\n  } else {\n    return 0\n  }\n}\n\nmodule.exports = compareAsc\n","var parse = require('../parse/index.js')\n\n/**\n * @category Common Helpers\n * @summary Compare the two dates reverse chronologically and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return -1 if the first date is after the second,\n * 1 if the first date is before the second or 0 if dates are equal.\n *\n * @param {Date|String|Number} dateLeft - the first date to compare\n * @param {Date|String|Number} dateRight - the second date to compare\n * @returns {Number} the result of the comparison\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989 reverse chronologically:\n * var result = compareDesc(\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * )\n * //=> 1\n *\n * @example\n * // Sort the array of dates in reverse chronological order:\n * var result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareDesc)\n * //=> [\n * //   Sun Jul 02 1995 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Wed Feb 11 1987 00:00:00\n * // ]\n */\nfunction compareDesc (dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft)\n  var timeLeft = dateLeft.getTime()\n  var dateRight = parse(dirtyDateRight)\n  var timeRight = dateRight.getTime()\n\n  if (timeLeft > timeRight) {\n    return -1\n  } else if (timeLeft < timeRight) {\n    return 1\n  } else {\n    return 0\n  }\n}\n\nmodule.exports = compareDesc\n","var startOfISOWeek = require('../start_of_iso_week/index.js')\n\nvar MILLISECONDS_IN_MINUTE = 60000\nvar MILLISECONDS_IN_WEEK = 604800000\n\n/**\n * @category ISO Week Helpers\n * @summary Get the number of calendar ISO weeks between the given dates.\n *\n * @description\n * Get the number of calendar ISO weeks between the given dates.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar ISO weeks\n *\n * @example\n * // How many calendar ISO weeks are between 6 July 2014 and 21 July 2014?\n * var result = differenceInCalendarISOWeeks(\n *   new Date(2014, 6, 21),\n *   new Date(2014, 6, 6)\n * )\n * //=> 3\n */\nfunction differenceInCalendarISOWeeks (dirtyDateLeft, dirtyDateRight) {\n  var startOfISOWeekLeft = startOfISOWeek(dirtyDateLeft)\n  var startOfISOWeekRight = startOfISOWeek(dirtyDateRight)\n\n  var timestampLeft = startOfISOWeekLeft.getTime() -\n    startOfISOWeekLeft.getTimezoneOffset() * MILLISECONDS_IN_MINUTE\n  var timestampRight = startOfISOWeekRight.getTime() -\n    startOfISOWeekRight.getTimezoneOffset() * MILLISECONDS_IN_MINUTE\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_WEEK)\n}\n\nmodule.exports = differenceInCalendarISOWeeks\n","var getISOYear = require('../get_iso_year/index.js')\n\n/**\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the number of calendar ISO week-numbering years between the given dates.\n *\n * @description\n * Get the number of calendar ISO week-numbering years between the given dates.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar ISO week-numbering years\n *\n * @example\n * // How many calendar ISO week-numbering years are 1 January 2010 and 1 January 2012?\n * var result = differenceInCalendarISOYears(\n *   new Date(2012, 0, 1),\n *   new Date(2010, 0, 1)\n * )\n * //=> 2\n */\nfunction differenceInCalendarISOYears (dirtyDateLeft, dirtyDateRight) {\n  return getISOYear(dirtyDateLeft) - getISOYear(dirtyDateRight)\n}\n\nmodule.exports = differenceInCalendarISOYears\n","var parse = require('../parse/index.js')\n\n/**\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar months\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * var result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\nfunction differenceInCalendarMonths (dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft)\n  var dateRight = parse(dirtyDateRight)\n\n  var yearDiff = dateLeft.getFullYear() - dateRight.getFullYear()\n  var monthDiff = dateLeft.getMonth() - dateRight.getMonth()\n\n  return yearDiff * 12 + monthDiff\n}\n\nmodule.exports = differenceInCalendarMonths\n","var parse = require('../parse/index.js')\n\n/**\n * @category Quarter Helpers\n * @summary Get the year quarter of the given date.\n *\n * @description\n * Get the year quarter of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the quarter\n *\n * @example\n * // Which quarter is 2 July 2014?\n * var result = getQuarter(new Date(2014, 6, 2))\n * //=> 3\n */\nfunction getQuarter (dirtyDate) {\n  var date = parse(dirtyDate)\n  var quarter = Math.floor(date.getMonth() / 3) + 1\n  return quarter\n}\n\nmodule.exports = getQuarter\n","var getQuarter = require('../get_quarter/index.js')\nvar parse = require('../parse/index.js')\n\n/**\n * @category Quarter Helpers\n * @summary Get the number of calendar quarters between the given dates.\n *\n * @description\n * Get the number of calendar quarters between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar quarters\n *\n * @example\n * // How many calendar quarters are between 31 December 2013 and 2 July 2014?\n * var result = differenceInCalendarQuarters(\n *   new Date(2014, 6, 2),\n *   new Date(2013, 11, 31)\n * )\n * //=> 3\n */\nfunction differenceInCalendarQuarters (dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft)\n  var dateRight = parse(dirtyDateRight)\n\n  var yearDiff = dateLeft.getFullYear() - dateRight.getFullYear()\n  var quarterDiff = getQuarter(dateLeft) - getQuarter(dateRight)\n\n  return yearDiff * 4 + quarterDiff\n}\n\nmodule.exports = differenceInCalendarQuarters\n","var startOfWeek = require('../start_of_week/index.js')\n\nvar MILLISECONDS_IN_MINUTE = 60000\nvar MILLISECONDS_IN_WEEK = 604800000\n\n/**\n * @category Week Helpers\n * @summary Get the number of calendar weeks between the given dates.\n *\n * @description\n * Get the number of calendar weeks between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @param {Object} [options] - the object with options\n * @param {Number} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Number} the number of calendar weeks\n *\n * @example\n * // How many calendar weeks are between 5 July 2014 and 20 July 2014?\n * var result = differenceInCalendarWeeks(\n *   new Date(2014, 6, 20),\n *   new Date(2014, 6, 5)\n * )\n * //=> 3\n *\n * @example\n * // If the week starts on Monday,\n * // how many calendar weeks are between 5 July 2014 and 20 July 2014?\n * var result = differenceInCalendarWeeks(\n *   new Date(2014, 6, 20),\n *   new Date(2014, 6, 5),\n *   {weekStartsOn: 1}\n * )\n * //=> 2\n */\nfunction differenceInCalendarWeeks (dirtyDateLeft, dirtyDateRight, dirtyOptions) {\n  var startOfWeekLeft = startOfWeek(dirtyDateLeft, dirtyOptions)\n  var startOfWeekRight = startOfWeek(dirtyDateRight, dirtyOptions)\n\n  var timestampLeft = startOfWeekLeft.getTime() -\n    startOfWeekLeft.getTimezoneOffset() * MILLISECONDS_IN_MINUTE\n  var timestampRight = startOfWeekRight.getTime() -\n    startOfWeekRight.getTimezoneOffset() * MILLISECONDS_IN_MINUTE\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_WEEK)\n}\n\nmodule.exports = differenceInCalendarWeeks\n","var parse = require('../parse/index.js')\n\n/**\n * @category Year Helpers\n * @summary Get the number of calendar years between the given dates.\n *\n * @description\n * Get the number of calendar years between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar years\n *\n * @example\n * // How many calendar years are between 31 December 2013 and 11 February 2015?\n * var result = differenceInCalendarYears(\n *   new Date(2015, 1, 11),\n *   new Date(2013, 11, 31)\n * )\n * //=> 2\n */\nfunction differenceInCalendarYears (dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft)\n  var dateRight = parse(dirtyDateRight)\n\n  return dateLeft.getFullYear() - dateRight.getFullYear()\n}\n\nmodule.exports = differenceInCalendarYears\n","var parse = require('../parse/index.js')\nvar differenceInCalendarDays = require('../difference_in_calendar_days/index.js')\nvar compareAsc = require('../compare_asc/index.js')\n\n/**\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full days between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of full days\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * var result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n */\nfunction differenceInDays (dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft)\n  var dateRight = parse(dirtyDateRight)\n\n  var sign = compareAsc(dateLeft, dateRight)\n  var difference = Math.abs(differenceInCalendarDays(dateLeft, dateRight))\n  dateLeft.setDate(dateLeft.getDate() - sign * difference)\n\n  // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n  var isLastDayNotFull = compareAsc(dateLeft, dateRight) === -sign\n  return sign * (difference - isLastDayNotFull)\n}\n\nmodule.exports = differenceInDays\n","var parse = require('../parse/index.js')\n\n/**\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of milliseconds\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * var result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\nfunction differenceInMilliseconds (dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft)\n  var dateRight = parse(dirtyDateRight)\n  return dateLeft.getTime() - dateRight.getTime()\n}\n\nmodule.exports = differenceInMilliseconds\n","var differenceInMilliseconds = require('../difference_in_milliseconds/index.js')\n\nvar MILLISECONDS_IN_HOUR = 3600000\n\n/**\n * @category Hour Helpers\n * @summary Get the number of hours between the given dates.\n *\n * @description\n * Get the number of hours between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of hours\n *\n * @example\n * // How many hours are between 2 July 2014 06:50:00 and 2 July 2014 19:00:00?\n * var result = differenceInHours(\n *   new Date(2014, 6, 2, 19, 0),\n *   new Date(2014, 6, 2, 6, 50)\n * )\n * //=> 12\n */\nfunction differenceInHours (dirtyDateLeft, dirtyDateRight) {\n  var diff = differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) / MILLISECONDS_IN_HOUR\n  return diff > 0 ? Math.floor(diff) : Math.ceil(diff)\n}\n\nmodule.exports = differenceInHours\n","var addISOYears = require('../add_iso_years/index.js')\n\n/**\n * @category ISO Week-Numbering Year Helpers\n * @summary Subtract the specified number of ISO week-numbering years from the given date.\n *\n * @description\n * Subtract the specified number of ISO week-numbering years from the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of ISO week-numbering years to be subtracted\n * @returns {Date} the new date with the ISO week-numbering years subtracted\n *\n * @example\n * // Subtract 5 ISO week-numbering years from 1 September 2014:\n * var result = subISOYears(new Date(2014, 8, 1), 5)\n * //=> Mon Aug 31 2009 00:00:00\n */\nfunction subISOYears (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addISOYears(dirtyDate, -amount)\n}\n\nmodule.exports = subISOYears\n","var parse = require('../parse/index.js')\nvar differenceInCalendarISOYears = require('../difference_in_calendar_iso_years/index.js')\nvar compareAsc = require('../compare_asc/index.js')\nvar subISOYears = require('../sub_iso_years/index.js')\n\n/**\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the number of full ISO week-numbering years between the given dates.\n *\n * @description\n * Get the number of full ISO week-numbering years between the given dates.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of full ISO week-numbering years\n *\n * @example\n * // How many full ISO week-numbering years are between 1 January 2010 and 1 January 2012?\n * var result = differenceInISOYears(\n *   new Date(2012, 0, 1),\n *   new Date(2010, 0, 1)\n * )\n * //=> 1\n */\nfunction differenceInISOYears (dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft)\n  var dateRight = parse(dirtyDateRight)\n\n  var sign = compareAsc(dateLeft, dateRight)\n  var difference = Math.abs(differenceInCalendarISOYears(dateLeft, dateRight))\n  dateLeft = subISOYears(dateLeft, sign * difference)\n\n  // Math.abs(diff in full ISO years - diff in calendar ISO years) === 1\n  // if last calendar ISO year is not full\n  // If so, result must be decreased by 1 in absolute value\n  var isLastISOYearNotFull = compareAsc(dateLeft, dateRight) === -sign\n  return sign * (difference - isLastISOYearNotFull)\n}\n\nmodule.exports = differenceInISOYears\n","var differenceInMilliseconds = require('../difference_in_milliseconds/index.js')\n\nvar MILLISECONDS_IN_MINUTE = 60000\n\n/**\n * @category Minute Helpers\n * @summary Get the number of minutes between the given dates.\n *\n * @description\n * Get the number of minutes between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of minutes\n *\n * @example\n * // How many minutes are between 2 July 2014 12:07:59 and 2 July 2014 12:20:00?\n * var result = differenceInMinutes(\n *   new Date(2014, 6, 2, 12, 20, 0),\n *   new Date(2014, 6, 2, 12, 7, 59)\n * )\n * //=> 12\n */\nfunction differenceInMinutes (dirtyDateLeft, dirtyDateRight) {\n  var diff = differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) / MILLISECONDS_IN_MINUTE\n  return diff > 0 ? Math.floor(diff) : Math.ceil(diff)\n}\n\nmodule.exports = differenceInMinutes\n","var parse = require('../parse/index.js')\nvar differenceInCalendarMonths = require('../difference_in_calendar_months/index.js')\nvar compareAsc = require('../compare_asc/index.js')\n\n/**\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @description\n * Get the number of full months between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of full months\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * var result = differenceInMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 7\n */\nfunction differenceInMonths (dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft)\n  var dateRight = parse(dirtyDateRight)\n\n  var sign = compareAsc(dateLeft, dateRight)\n  var difference = Math.abs(differenceInCalendarMonths(dateLeft, dateRight))\n  dateLeft.setMonth(dateLeft.getMonth() - sign * difference)\n\n  // Math.abs(diff in full months - diff in calendar months) === 1 if last calendar month is not full\n  // If so, result must be decreased by 1 in absolute value\n  var isLastMonthNotFull = compareAsc(dateLeft, dateRight) === -sign\n  return sign * (difference - isLastMonthNotFull)\n}\n\nmodule.exports = differenceInMonths\n","var differenceInMonths = require('../difference_in_months/index.js')\n\n/**\n * @category Quarter Helpers\n * @summary Get the number of full quarters between the given dates.\n *\n * @description\n * Get the number of full quarters between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of full quarters\n *\n * @example\n * // How many full quarters are between 31 December 2013 and 2 July 2014?\n * var result = differenceInQuarters(\n *   new Date(2014, 6, 2),\n *   new Date(2013, 11, 31)\n * )\n * //=> 2\n */\nfunction differenceInQuarters (dirtyDateLeft, dirtyDateRight) {\n  var diff = differenceInMonths(dirtyDateLeft, dirtyDateRight) / 3\n  return diff > 0 ? Math.floor(diff) : Math.ceil(diff)\n}\n\nmodule.exports = differenceInQuarters\n","var differenceInMilliseconds = require('../difference_in_milliseconds/index.js')\n\n/**\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of seconds\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * var result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\nfunction differenceInSeconds (dirtyDateLeft, dirtyDateRight) {\n  var diff = differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) / 1000\n  return diff > 0 ? Math.floor(diff) : Math.ceil(diff)\n}\n\nmodule.exports = differenceInSeconds\n","var differenceInDays = require('../difference_in_days/index.js')\n\n/**\n * @category Week Helpers\n * @summary Get the number of full weeks between the given dates.\n *\n * @description\n * Get the number of full weeks between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of full weeks\n *\n * @example\n * // How many full weeks are between 5 July 2014 and 20 July 2014?\n * var result = differenceInWeeks(\n *   new Date(2014, 6, 20),\n *   new Date(2014, 6, 5)\n * )\n * //=> 2\n */\nfunction differenceInWeeks (dirtyDateLeft, dirtyDateRight) {\n  var diff = differenceInDays(dirtyDateLeft, dirtyDateRight) / 7\n  return diff > 0 ? Math.floor(diff) : Math.ceil(diff)\n}\n\nmodule.exports = differenceInWeeks\n","var parse = require('../parse/index.js')\nvar differenceInCalendarYears = require('../difference_in_calendar_years/index.js')\nvar compareAsc = require('../compare_asc/index.js')\n\n/**\n * @category Year Helpers\n * @summary Get the number of full years between the given dates.\n *\n * @description\n * Get the number of full years between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of full years\n *\n * @example\n * // How many full years are between 31 December 2013 and 11 February 2015?\n * var result = differenceInYears(\n *   new Date(2015, 1, 11),\n *   new Date(2013, 11, 31)\n * )\n * //=> 1\n */\nfunction differenceInYears (dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft)\n  var dateRight = parse(dirtyDateRight)\n\n  var sign = compareAsc(dateLeft, dateRight)\n  var difference = Math.abs(differenceInCalendarYears(dateLeft, dateRight))\n  dateLeft.setFullYear(dateLeft.getFullYear() - sign * difference)\n\n  // Math.abs(diff in full years - diff in calendar years) === 1 if last calendar year is not full\n  // If so, result must be decreased by 1 in absolute value\n  var isLastYearNotFull = compareAsc(dateLeft, dateRight) === -sign\n  return sign * (difference - isLastYearNotFull)\n}\n\nmodule.exports = differenceInYears\n","function buildDistanceInWordsLocale () {\n  var distanceInWordsLocale = {\n    lessThanXSeconds: {\n      one: 'less than a second',\n      other: 'less than {{count}} seconds'\n    },\n\n    xSeconds: {\n      one: '1 second',\n      other: '{{count}} seconds'\n    },\n\n    halfAMinute: 'half a minute',\n\n    lessThanXMinutes: {\n      one: 'less than a minute',\n      other: 'less than {{count}} minutes'\n    },\n\n    xMinutes: {\n      one: '1 minute',\n      other: '{{count}} minutes'\n    },\n\n    aboutXHours: {\n      one: 'about 1 hour',\n      other: 'about {{count}} hours'\n    },\n\n    xHours: {\n      one: '1 hour',\n      other: '{{count}} hours'\n    },\n\n    xDays: {\n      one: '1 day',\n      other: '{{count}} days'\n    },\n\n    aboutXMonths: {\n      one: 'about 1 month',\n      other: 'about {{count}} months'\n    },\n\n    xMonths: {\n      one: '1 month',\n      other: '{{count}} months'\n    },\n\n    aboutXYears: {\n      one: 'about 1 year',\n      other: 'about {{count}} years'\n    },\n\n    xYears: {\n      one: '1 year',\n      other: '{{count}} years'\n    },\n\n    overXYears: {\n      one: 'over 1 year',\n      other: 'over {{count}} years'\n    },\n\n    almostXYears: {\n      one: 'almost 1 year',\n      other: 'almost {{count}} years'\n    }\n  }\n\n  function localize (token, count, options) {\n    options = options || {}\n\n    var result\n    if (typeof distanceInWordsLocale[token] === 'string') {\n      result = distanceInWordsLocale[token]\n    } else if (count === 1) {\n      result = distanceInWordsLocale[token].one\n    } else {\n      result = distanceInWordsLocale[token].other.replace('{{count}}', count)\n    }\n\n    if (options.addSuffix) {\n      if (options.comparison > 0) {\n        return 'in ' + result\n      } else {\n        return result + ' ago'\n      }\n    }\n\n    return result\n  }\n\n  return {\n    localize: localize\n  }\n}\n\nmodule.exports = buildDistanceInWordsLocale\n","var commonFormatterKeys = [\n  'M', 'MM', 'Q', 'D', 'DD', 'DDD', 'DDDD', 'd',\n  'E', 'W', 'WW', 'YY', 'YYYY', 'GG', 'GGGG',\n  'H', 'HH', 'h', 'hh', 'm', 'mm',\n  's', 'ss', 'S', 'SS', 'SSS',\n  'Z', 'ZZ', 'X', 'x'\n]\n\nfunction buildFormattingTokensRegExp (formatters) {\n  var formatterKeys = []\n  for (var key in formatters) {\n    if (formatters.hasOwnProperty(key)) {\n      formatterKeys.push(key)\n    }\n  }\n\n  var formattingTokens = commonFormatterKeys\n    .concat(formatterKeys)\n    .sort()\n    .reverse()\n  var formattingTokensRegExp = new RegExp(\n    '(\\\\[[^\\\\[]*\\\\])|(\\\\\\\\)?' + '(' + formattingTokens.join('|') + '|.)', 'g'\n  )\n\n  return formattingTokensRegExp\n}\n\nmodule.exports = buildFormattingTokensRegExp\n","var buildFormattingTokensRegExp = require('../../_lib/build_formatting_tokens_reg_exp/index.js')\n\nfunction buildFormatLocale () {\n  // Note: in English, the names of days of the week and months are capitalized.\n  // If you are making a new locale based on this one, check if the same is true for the language you're working on.\n  // Generally, formatted dates should look like they are in the middle of a sentence,\n  // e.g. in Spanish language the weekdays and months should be in the lowercase.\n  var months3char = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n  var monthsFull = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n  var weekdays2char = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa']\n  var weekdays3char = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\n  var weekdaysFull = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n  var meridiemUppercase = ['AM', 'PM']\n  var meridiemLowercase = ['am', 'pm']\n  var meridiemFull = ['a.m.', 'p.m.']\n\n  var formatters = {\n    // Month: Jan, Feb, ..., Dec\n    'MMM': function (date) {\n      return months3char[date.getMonth()]\n    },\n\n    // Month: January, February, ..., December\n    'MMMM': function (date) {\n      return monthsFull[date.getMonth()]\n    },\n\n    // Day of week: Su, Mo, ..., Sa\n    'dd': function (date) {\n      return weekdays2char[date.getDay()]\n    },\n\n    // Day of week: Sun, Mon, ..., Sat\n    'ddd': function (date) {\n      return weekdays3char[date.getDay()]\n    },\n\n    // Day of week: Sunday, Monday, ..., Saturday\n    'dddd': function (date) {\n      return weekdaysFull[date.getDay()]\n    },\n\n    // AM, PM\n    'A': function (date) {\n      return (date.getHours() / 12) >= 1 ? meridiemUppercase[1] : meridiemUppercase[0]\n    },\n\n    // am, pm\n    'a': function (date) {\n      return (date.getHours() / 12) >= 1 ? meridiemLowercase[1] : meridiemLowercase[0]\n    },\n\n    // a.m., p.m.\n    'aa': function (date) {\n      return (date.getHours() / 12) >= 1 ? meridiemFull[1] : meridiemFull[0]\n    }\n  }\n\n  // Generate ordinal version of formatters: M -> Mo, D -> Do, etc.\n  var ordinalFormatters = ['M', 'D', 'DDD', 'd', 'Q', 'W']\n  ordinalFormatters.forEach(function (formatterToken) {\n    formatters[formatterToken + 'o'] = function (date, formatters) {\n      return ordinal(formatters[formatterToken](date))\n    }\n  })\n\n  return {\n    formatters: formatters,\n    formattingTokensRegExp: buildFormattingTokensRegExp(formatters)\n  }\n}\n\nfunction ordinal (number) {\n  var rem100 = number % 100\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st'\n      case 2:\n        return number + 'nd'\n      case 3:\n        return number + 'rd'\n    }\n  }\n  return number + 'th'\n}\n\nmodule.exports = buildFormatLocale\n","var buildDistanceInWordsLocale = require('./build_distance_in_words_locale/index.js')\nvar buildFormatLocale = require('./build_format_locale/index.js')\n\n/**\n * @category Locales\n * @summary English locale.\n */\nmodule.exports = {\n  distanceInWords: buildDistanceInWordsLocale(),\n  format: buildFormatLocale()\n}\n","var compareDesc = require('../compare_desc/index.js')\nvar parse = require('../parse/index.js')\nvar differenceInSeconds = require('../difference_in_seconds/index.js')\nvar differenceInMonths = require('../difference_in_months/index.js')\nvar enLocale = require('../locale/en/index.js')\n\nvar MINUTES_IN_DAY = 1440\nvar MINUTES_IN_ALMOST_TWO_DAYS = 2520\nvar MINUTES_IN_MONTH = 43200\nvar MINUTES_IN_TWO_MONTHS = 86400\n\n/**\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words.\n *\n * | Distance between dates                                            | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance between dates | Result               |\n * |------------------------|----------------------|\n * | 0 secs ... 5 secs      | less than 5 seconds  |\n * | 5 secs ... 10 secs     | less than 10 seconds |\n * | 10 secs ... 20 secs    | less than 20 seconds |\n * | 20 secs ... 40 secs    | half a minute        |\n * | 40 secs ... 60 secs    | less than a minute   |\n * | 60 secs ... 90 secs    | 1 minute             |\n *\n * @param {Date|String|Number} dateToCompare - the date to compare with\n * @param {Date|String|Number} date - the other date\n * @param {Object} [options] - the object with options\n * @param {Boolean} [options.includeSeconds=false] - distances less than a minute are more detailed\n * @param {Boolean} [options.addSuffix=false] - result indicates if the second date is earlier or later than the first\n * @param {Object} [options.locale=enLocale] - the locale object\n * @returns {String} the distance in words\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * var result = distanceInWords(\n *   new Date(2014, 6, 2),\n *   new Date(2015, 0, 1)\n * )\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00, including seconds?\n * var result = distanceInWords(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0),\n *   {includeSeconds: true}\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * var result = distanceInWords(\n *   new Date(2016, 0, 1),\n *   new Date(2015, 0, 1),\n *   {addSuffix: true}\n * )\n * //=> 'about 1 year ago'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * var eoLocale = require('date-fns/locale/eo')\n * var result = distanceInWords(\n *   new Date(2016, 7, 1),\n *   new Date(2015, 0, 1),\n *   {locale: eoLocale}\n * )\n * //=> 'pli ol 1 jaro'\n */\nfunction distanceInWords (dirtyDateToCompare, dirtyDate, dirtyOptions) {\n  var options = dirtyOptions || {}\n\n  var comparison = compareDesc(dirtyDateToCompare, dirtyDate)\n\n  var locale = options.locale\n  var localize = enLocale.distanceInWords.localize\n  if (locale && locale.distanceInWords && locale.distanceInWords.localize) {\n    localize = locale.distanceInWords.localize\n  }\n\n  var localizeOptions = {\n    addSuffix: Boolean(options.addSuffix),\n    comparison: comparison\n  }\n\n  var dateLeft, dateRight\n  if (comparison > 0) {\n    dateLeft = parse(dirtyDateToCompare)\n    dateRight = parse(dirtyDate)\n  } else {\n    dateLeft = parse(dirtyDate)\n    dateRight = parse(dirtyDateToCompare)\n  }\n\n  var seconds = differenceInSeconds(dateRight, dateLeft)\n  var offset = dateRight.getTimezoneOffset() - dateLeft.getTimezoneOffset()\n  var minutes = Math.round(seconds / 60) - offset\n  var months\n\n  // 0 up to 2 mins\n  if (minutes < 2) {\n    if (options.includeSeconds) {\n      if (seconds < 5) {\n        return localize('lessThanXSeconds', 5, localizeOptions)\n      } else if (seconds < 10) {\n        return localize('lessThanXSeconds', 10, localizeOptions)\n      } else if (seconds < 20) {\n        return localize('lessThanXSeconds', 20, localizeOptions)\n      } else if (seconds < 40) {\n        return localize('halfAMinute', null, localizeOptions)\n      } else if (seconds < 60) {\n        return localize('lessThanXMinutes', 1, localizeOptions)\n      } else {\n        return localize('xMinutes', 1, localizeOptions)\n      }\n    } else {\n      if (minutes === 0) {\n        return localize('lessThanXMinutes', 1, localizeOptions)\n      } else {\n        return localize('xMinutes', minutes, localizeOptions)\n      }\n    }\n\n  // 2 mins up to 0.75 hrs\n  } else if (minutes < 45) {\n    return localize('xMinutes', minutes, localizeOptions)\n\n  // 0.75 hrs up to 1.5 hrs\n  } else if (minutes < 90) {\n    return localize('aboutXHours', 1, localizeOptions)\n\n  // 1.5 hrs up to 24 hrs\n  } else if (minutes < MINUTES_IN_DAY) {\n    var hours = Math.round(minutes / 60)\n    return localize('aboutXHours', hours, localizeOptions)\n\n  // 1 day up to 1.75 days\n  } else if (minutes < MINUTES_IN_ALMOST_TWO_DAYS) {\n    return localize('xDays', 1, localizeOptions)\n\n  // 1.75 days up to 30 days\n  } else if (minutes < MINUTES_IN_MONTH) {\n    var days = Math.round(minutes / MINUTES_IN_DAY)\n    return localize('xDays', days, localizeOptions)\n\n  // 1 month up to 2 months\n  } else if (minutes < MINUTES_IN_TWO_MONTHS) {\n    months = Math.round(minutes / MINUTES_IN_MONTH)\n    return localize('aboutXMonths', months, localizeOptions)\n  }\n\n  months = differenceInMonths(dateRight, dateLeft)\n\n  // 2 months up to 12 months\n  if (months < 12) {\n    var nearestMonth = Math.round(minutes / MINUTES_IN_MONTH)\n    return localize('xMonths', nearestMonth, localizeOptions)\n\n  // 1 year up to max Date\n  } else {\n    var monthsSinceStartOfYear = months % 12\n    var years = Math.floor(months / 12)\n\n    // N years up to 1 years 3 months\n    if (monthsSinceStartOfYear < 3) {\n      return localize('aboutXYears', years, localizeOptions)\n\n    // N years 3 months up to N years 9 months\n    } else if (monthsSinceStartOfYear < 9) {\n      return localize('overXYears', years, localizeOptions)\n\n    // N years 9 months up to N year 12 months\n    } else {\n      return localize('almostXYears', years + 1, localizeOptions)\n    }\n  }\n}\n\nmodule.exports = distanceInWords\n","var compareDesc = require('../compare_desc/index.js')\nvar parse = require('../parse/index.js')\nvar differenceInSeconds = require('../difference_in_seconds/index.js')\nvar enLocale = require('../locale/en/index.js')\n\nvar MINUTES_IN_DAY = 1440\nvar MINUTES_IN_MONTH = 43200\nvar MINUTES_IN_YEAR = 525600\n\n/**\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words, using strict units.\n * This is like `distanceInWords`, but does not use helpers like 'almost', 'over',\n * 'less than' and the like.\n *\n * | Distance between dates | Result              |\n * |------------------------|---------------------|\n * | 0 ... 59 secs          | [0..59] seconds     |\n * | 1 ... 59 mins          | [1..59] minutes     |\n * | 1 ... 23 hrs           | [1..23] hours       |\n * | 1 ... 29 days          | [1..29] days        |\n * | 1 ... 11 months        | [1..11] months      |\n * | 1 ... N years          | [1..N]  years       |\n *\n * @param {Date|String|Number} dateToCompare - the date to compare with\n * @param {Date|String|Number} date - the other date\n * @param {Object} [options] - the object with options\n * @param {Boolean} [options.addSuffix=false] - result indicates if the second date is earlier or later than the first\n * @param {'s'|'m'|'h'|'d'|'M'|'Y'} [options.unit] - if specified, will force a unit\n * @param {'floor'|'ceil'|'round'} [options.partialMethod='floor'] - which way to round partial units\n * @param {Object} [options.locale=enLocale] - the locale object\n * @returns {String} the distance in words\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * var result = distanceInWordsStrict(\n *   new Date(2014, 6, 2),\n *   new Date(2015, 0, 2)\n * )\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00?\n * var result = distanceInWordsStrict(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0),\n * )\n * //=> '15 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * var result = distanceInWordsStrict(\n *   new Date(2016, 0, 1),\n *   new Date(2015, 0, 1),\n *   {addSuffix: true}\n * )\n * //=> '1 year ago'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, in minutes?\n * var result = distanceInWordsStrict(\n *   new Date(2016, 0, 1),\n *   new Date(2015, 0, 1),\n *   {unit: 'm'}\n * )\n * //=> '525600 minutes'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 28 January 2015, in months, rounded up?\n * var result = distanceInWordsStrict(\n *   new Date(2015, 0, 28),\n *   new Date(2015, 0, 1),\n *   {unit: 'M', partialMethod: 'ceil'}\n * )\n * //=> '1 month'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * var eoLocale = require('date-fns/locale/eo')\n * var result = distanceInWordsStrict(\n *   new Date(2016, 7, 1),\n *   new Date(2015, 0, 1),\n *   {locale: eoLocale}\n * )\n * //=> '1 jaro'\n */\nfunction distanceInWordsStrict (dirtyDateToCompare, dirtyDate, dirtyOptions) {\n  var options = dirtyOptions || {}\n\n  var comparison = compareDesc(dirtyDateToCompare, dirtyDate)\n\n  var locale = options.locale\n  var localize = enLocale.distanceInWords.localize\n  if (locale && locale.distanceInWords && locale.distanceInWords.localize) {\n    localize = locale.distanceInWords.localize\n  }\n\n  var localizeOptions = {\n    addSuffix: Boolean(options.addSuffix),\n    comparison: comparison\n  }\n\n  var dateLeft, dateRight\n  if (comparison > 0) {\n    dateLeft = parse(dirtyDateToCompare)\n    dateRight = parse(dirtyDate)\n  } else {\n    dateLeft = parse(dirtyDate)\n    dateRight = parse(dirtyDateToCompare)\n  }\n\n  var unit\n  var mathPartial = Math[options.partialMethod ? String(options.partialMethod) : 'floor']\n  var seconds = differenceInSeconds(dateRight, dateLeft)\n  var offset = dateRight.getTimezoneOffset() - dateLeft.getTimezoneOffset()\n  var minutes = mathPartial(seconds / 60) - offset\n  var hours, days, months, years\n\n  if (options.unit) {\n    unit = String(options.unit)\n  } else {\n    if (minutes < 1) {\n      unit = 's'\n    } else if (minutes < 60) {\n      unit = 'm'\n    } else if (minutes < MINUTES_IN_DAY) {\n      unit = 'h'\n    } else if (minutes < MINUTES_IN_MONTH) {\n      unit = 'd'\n    } else if (minutes < MINUTES_IN_YEAR) {\n      unit = 'M'\n    } else {\n      unit = 'Y'\n    }\n  }\n\n  // 0 up to 60 seconds\n  if (unit === 's') {\n    return localize('xSeconds', seconds, localizeOptions)\n\n  // 1 up to 60 mins\n  } else if (unit === 'm') {\n    return localize('xMinutes', minutes, localizeOptions)\n\n  // 1 up to 24 hours\n  } else if (unit === 'h') {\n    hours = mathPartial(minutes / 60)\n    return localize('xHours', hours, localizeOptions)\n\n  // 1 up to 30 days\n  } else if (unit === 'd') {\n    days = mathPartial(minutes / MINUTES_IN_DAY)\n    return localize('xDays', days, localizeOptions)\n\n  // 1 up to 12 months\n  } else if (unit === 'M') {\n    months = mathPartial(minutes / MINUTES_IN_MONTH)\n    return localize('xMonths', months, localizeOptions)\n\n  // 1 year up to max Date\n  } else if (unit === 'Y') {\n    years = mathPartial(minutes / MINUTES_IN_YEAR)\n    return localize('xYears', years, localizeOptions)\n  }\n\n  throw new Error('Unknown unit: ' + unit)\n}\n\nmodule.exports = distanceInWordsStrict\n","var distanceInWords = require('../distance_in_words/index.js')\n\n/**\n * @category Common Helpers\n * @summary Return the distance between the given date and now in words.\n *\n * @description\n * Return the distance between the given date and now in words.\n *\n * | Distance to now                                                   | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance to now     | Result               |\n * |---------------------|----------------------|\n * | 0 secs ... 5 secs   | less than 5 seconds  |\n * | 5 secs ... 10 secs  | less than 10 seconds |\n * | 10 secs ... 20 secs | less than 20 seconds |\n * | 20 secs ... 40 secs | half a minute        |\n * | 40 secs ... 60 secs | less than a minute   |\n * | 60 secs ... 90 secs | 1 minute             |\n *\n * @param {Date|String|Number} date - the given date\n * @param {Object} [options] - the object with options\n * @param {Boolean} [options.includeSeconds=false] - distances less than a minute are more detailed\n * @param {Boolean} [options.addSuffix=false] - result specifies if the second date is earlier or later than the first\n * @param {Object} [options.locale=enLocale] - the locale object\n * @returns {String} the distance in words\n *\n * @example\n * // If today is 1 January 2015, what is the distance to 2 July 2014?\n * var result = distanceInWordsToNow(\n *   new Date(2014, 6, 2)\n * )\n * //=> '6 months'\n *\n * @example\n * // If now is 1 January 2015 00:00:00,\n * // what is the distance to 1 January 2015 00:00:15, including seconds?\n * var result = distanceInWordsToNow(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   {includeSeconds: true}\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 January 2016, with a suffix?\n * var result = distanceInWordsToNow(\n *   new Date(2016, 0, 1),\n *   {addSuffix: true}\n * )\n * //=> 'in about 1 year'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 August 2016 in Esperanto?\n * var eoLocale = require('date-fns/locale/eo')\n * var result = distanceInWordsToNow(\n *   new Date(2016, 7, 1),\n *   {locale: eoLocale}\n * )\n * //=> 'pli ol 1 jaro'\n */\nfunction distanceInWordsToNow (dirtyDate, dirtyOptions) {\n  return distanceInWords(Date.now(), dirtyDate, dirtyOptions)\n}\n\nmodule.exports = distanceInWordsToNow\n","var parse = require('../parse/index.js')\n\n/**\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the end of a day\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * var result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\nfunction endOfDay (dirtyDate) {\n  var date = parse(dirtyDate)\n  date.setHours(23, 59, 59, 999)\n  return date\n}\n\nmodule.exports = endOfDay\n","var parse = require('../parse/index.js')\n\n/**\n * @category Week Helpers\n * @summary Return the end of a week for the given date.\n *\n * @description\n * Return the end of a week for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @param {Object} [options] - the object with options\n * @param {Number} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the end of a week\n *\n * @example\n * // The end of a week for 2 September 2014 11:55:00:\n * var result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sat Sep 06 2014 23:59:59.999\n *\n * @example\n * // If the week starts on Monday, the end of the week for 2 September 2014 11:55:00:\n * var result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0), {weekStartsOn: 1})\n * //=> Sun Sep 07 2014 23:59:59.999\n */\nfunction endOfWeek (dirtyDate, dirtyOptions) {\n  var weekStartsOn = dirtyOptions ? (Number(dirtyOptions.weekStartsOn) || 0) : 0\n\n  var date = parse(dirtyDate)\n  var day = date.getDay()\n  var diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn)\n\n  date.setDate(date.getDate() + diff)\n  date.setHours(23, 59, 59, 999)\n  return date\n}\n\nmodule.exports = endOfWeek\n","var parse = require('../parse/index.js')\n\n/**\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * var result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nfunction endOfMonth (dirtyDate) {\n  var date = parse(dirtyDate)\n  var month = date.getMonth()\n  date.setFullYear(date.getFullYear(), month + 1, 0)\n  date.setHours(23, 59, 59, 999)\n  return date\n}\n\nmodule.exports = endOfMonth\n","var endOfDay = require('../end_of_day/index.js')\n\n/**\n * @category Day Helpers\n * @summary Return the end of today.\n *\n * @description\n * Return the end of today.\n *\n * @returns {Date} the end of today\n *\n * @example\n * // If today is 6 October 2014:\n * var result = endOfToday()\n * //=> Mon Oct 6 2014 23:59:59.999\n */\nfunction endOfToday () {\n  return endOfDay(new Date())\n}\n\nmodule.exports = endOfToday\n","var parse = require('../parse/index.js')\n\n/**\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * var result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nfunction startOfYear (dirtyDate) {\n  var cleanDate = parse(dirtyDate)\n  var date = new Date(0)\n  date.setFullYear(cleanDate.getFullYear(), 0, 1)\n  date.setHours(0, 0, 0, 0)\n  return date\n}\n\nmodule.exports = startOfYear\n","var parse = require('../parse/index.js')\nvar startOfYear = require('../start_of_year/index.js')\nvar differenceInCalendarDays = require('../difference_in_calendar_days/index.js')\n\n/**\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * var result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nfunction getDayOfYear (dirtyDate) {\n  var date = parse(dirtyDate)\n  var diff = differenceInCalendarDays(date, startOfYear(date))\n  var dayOfYear = diff + 1\n  return dayOfYear\n}\n\nmodule.exports = getDayOfYear\n","var parse = require('../parse/index.js')\nvar startOfISOWeek = require('../start_of_iso_week/index.js')\nvar startOfISOYear = require('../start_of_iso_year/index.js')\n\nvar MILLISECONDS_IN_WEEK = 604800000\n\n/**\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * var result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nfunction getISOWeek (dirtyDate) {\n  var date = parse(dirtyDate)\n  var diff = startOfISOWeek(date).getTime() - startOfISOYear(date).getTime()\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1\n}\n\nmodule.exports = getISOWeek\n","var isDate = require('../is_date/index.js')\n\n/**\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param {Date} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} argument must be an instance of Date\n *\n * @example\n * // For the valid date:\n * var result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the invalid date:\n * var result = isValid(new Date(''))\n * //=> false\n */\nfunction isValid (dirtyDate) {\n  if (isDate(dirtyDate)) {\n    return !isNaN(dirtyDate)\n  } else {\n    throw new TypeError(toString.call(dirtyDate) + ' is not an instance of Date')\n  }\n}\n\nmodule.exports = isValid\n","var getDayOfYear = require('../get_day_of_year/index.js')\nvar getISOWeek = require('../get_iso_week/index.js')\nvar getISOYear = require('../get_iso_year/index.js')\nvar parse = require('../parse/index.js')\nvar isValid = require('../is_valid/index.js')\nvar enLocale = require('../locale/en/index.js')\n\n/**\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format.\n *\n * Accepted tokens:\n * | Unit                    | Token | Result examples                  |\n * |-------------------------|-------|----------------------------------|\n * | Month                   | M     | 1, 2, ..., 12                    |\n * |                         | Mo    | 1st, 2nd, ..., 12th              |\n * |                         | MM    | 01, 02, ..., 12                  |\n * |                         | MMM   | Jan, Feb, ..., Dec               |\n * |                         | MMMM  | January, February, ..., December |\n * | Quarter                 | Q     | 1, 2, 3, 4                       |\n * |                         | Qo    | 1st, 2nd, 3rd, 4th               |\n * | Day of month            | D     | 1, 2, ..., 31                    |\n * |                         | Do    | 1st, 2nd, ..., 31st              |\n * |                         | DD    | 01, 02, ..., 31                  |\n * | Day of year             | DDD   | 1, 2, ..., 366                   |\n * |                         | DDDo  | 1st, 2nd, ..., 366th             |\n * |                         | DDDD  | 001, 002, ..., 366               |\n * | Day of week             | d     | 0, 1, ..., 6                     |\n * |                         | do    | 0th, 1st, ..., 6th               |\n * |                         | dd    | Su, Mo, ..., Sa                  |\n * |                         | ddd   | Sun, Mon, ..., Sat               |\n * |                         | dddd  | Sunday, Monday, ..., Saturday    |\n * | Day of ISO week         | E     | 1, 2, ..., 7                     |\n * | ISO week                | W     | 1, 2, ..., 53                    |\n * |                         | Wo    | 1st, 2nd, ..., 53rd              |\n * |                         | WW    | 01, 02, ..., 53                  |\n * | Year                    | YY    | 00, 01, ..., 99                  |\n * |                         | YYYY  | 1900, 1901, ..., 2099            |\n * | ISO week-numbering year | GG    | 00, 01, ..., 99                  |\n * |                         | GGGG  | 1900, 1901, ..., 2099            |\n * | AM/PM                   | A     | AM, PM                           |\n * |                         | a     | am, pm                           |\n * |                         | aa    | a.m., p.m.                       |\n * | Hour                    | H     | 0, 1, ... 23                     |\n * |                         | HH    | 00, 01, ... 23                   |\n * |                         | h     | 1, 2, ..., 12                    |\n * |                         | hh    | 01, 02, ..., 12                  |\n * | Minute                  | m     | 0, 1, ..., 59                    |\n * |                         | mm    | 00, 01, ..., 59                  |\n * | Second                  | s     | 0, 1, ..., 59                    |\n * |                         | ss    | 00, 01, ..., 59                  |\n * | 1/10 of second          | S     | 0, 1, ..., 9                     |\n * | 1/100 of second         | SS    | 00, 01, ..., 99                  |\n * | Millisecond             | SSS   | 000, 001, ..., 999               |\n * | Timezone                | Z     | -01:00, +00:00, ... +12:00       |\n * |                         | ZZ    | -0100, +0000, ..., +1200         |\n * | Seconds timestamp       | X     | 512969520                        |\n * | Milliseconds timestamp  | x     | 512969520900                     |\n *\n * The characters wrapped in square brackets are escaped.\n *\n * The result may vary by locale.\n *\n * @param {Date|String|Number} date - the original date\n * @param {String} [format='YYYY-MM-DDTHH:mm:ss.SSSZ'] - the string of tokens\n * @param {Object} [options] - the object with options\n * @param {Object} [options.locale=enLocale] - the locale object\n * @returns {String} the formatted date string\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * var result = format(\n *   new Date(2014, 1, 11),\n *   'MM/DD/YYYY'\n * )\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * var eoLocale = require('date-fns/locale/eo')\n * var result = format(\n *   new Date(2014, 6, 2),\n *   'Do [de] MMMM YYYY',\n *   {locale: eoLocale}\n * )\n * //=> '2-a de julio 2014'\n */\nfunction format (dirtyDate, dirtyFormatStr, dirtyOptions) {\n  var formatStr = dirtyFormatStr ? String(dirtyFormatStr) : 'YYYY-MM-DDTHH:mm:ss.SSSZ'\n  var options = dirtyOptions || {}\n\n  var locale = options.locale\n  var localeFormatters = enLocale.format.formatters\n  var formattingTokensRegExp = enLocale.format.formattingTokensRegExp\n  if (locale && locale.format && locale.format.formatters) {\n    localeFormatters = locale.format.formatters\n\n    if (locale.format.formattingTokensRegExp) {\n      formattingTokensRegExp = locale.format.formattingTokensRegExp\n    }\n  }\n\n  var date = parse(dirtyDate)\n\n  if (!isValid(date)) {\n    return 'Invalid Date'\n  }\n\n  var formatFn = buildFormatFn(formatStr, localeFormatters, formattingTokensRegExp)\n\n  return formatFn(date)\n}\n\nvar formatters = {\n  // Month: 1, 2, ..., 12\n  'M': function (date) {\n    return date.getMonth() + 1\n  },\n\n  // Month: 01, 02, ..., 12\n  'MM': function (date) {\n    return addLeadingZeros(date.getMonth() + 1, 2)\n  },\n\n  // Quarter: 1, 2, 3, 4\n  'Q': function (date) {\n    return Math.ceil((date.getMonth() + 1) / 3)\n  },\n\n  // Day of month: 1, 2, ..., 31\n  'D': function (date) {\n    return date.getDate()\n  },\n\n  // Day of month: 01, 02, ..., 31\n  'DD': function (date) {\n    return addLeadingZeros(date.getDate(), 2)\n  },\n\n  // Day of year: 1, 2, ..., 366\n  'DDD': function (date) {\n    return getDayOfYear(date)\n  },\n\n  // Day of year: 001, 002, ..., 366\n  'DDDD': function (date) {\n    return addLeadingZeros(getDayOfYear(date), 3)\n  },\n\n  // Day of week: 0, 1, ..., 6\n  'd': function (date) {\n    return date.getDay()\n  },\n\n  // Day of ISO week: 1, 2, ..., 7\n  'E': function (date) {\n    return date.getDay() || 7\n  },\n\n  // ISO week: 1, 2, ..., 53\n  'W': function (date) {\n    return getISOWeek(date)\n  },\n\n  // ISO week: 01, 02, ..., 53\n  'WW': function (date) {\n    return addLeadingZeros(getISOWeek(date), 2)\n  },\n\n  // Year: 00, 01, ..., 99\n  'YY': function (date) {\n    return addLeadingZeros(date.getFullYear(), 4).substr(2)\n  },\n\n  // Year: 1900, 1901, ..., 2099\n  'YYYY': function (date) {\n    return addLeadingZeros(date.getFullYear(), 4)\n  },\n\n  // ISO week-numbering year: 00, 01, ..., 99\n  'GG': function (date) {\n    return String(getISOYear(date)).substr(2)\n  },\n\n  // ISO week-numbering year: 1900, 1901, ..., 2099\n  'GGGG': function (date) {\n    return getISOYear(date)\n  },\n\n  // Hour: 0, 1, ... 23\n  'H': function (date) {\n    return date.getHours()\n  },\n\n  // Hour: 00, 01, ..., 23\n  'HH': function (date) {\n    return addLeadingZeros(date.getHours(), 2)\n  },\n\n  // Hour: 1, 2, ..., 12\n  'h': function (date) {\n    var hours = date.getHours()\n    if (hours === 0) {\n      return 12\n    } else if (hours > 12) {\n      return hours % 12\n    } else {\n      return hours\n    }\n  },\n\n  // Hour: 01, 02, ..., 12\n  'hh': function (date) {\n    return addLeadingZeros(formatters['h'](date), 2)\n  },\n\n  // Minute: 0, 1, ..., 59\n  'm': function (date) {\n    return date.getMinutes()\n  },\n\n  // Minute: 00, 01, ..., 59\n  'mm': function (date) {\n    return addLeadingZeros(date.getMinutes(), 2)\n  },\n\n  // Second: 0, 1, ..., 59\n  's': function (date) {\n    return date.getSeconds()\n  },\n\n  // Second: 00, 01, ..., 59\n  'ss': function (date) {\n    return addLeadingZeros(date.getSeconds(), 2)\n  },\n\n  // 1/10 of second: 0, 1, ..., 9\n  'S': function (date) {\n    return Math.floor(date.getMilliseconds() / 100)\n  },\n\n  // 1/100 of second: 00, 01, ..., 99\n  'SS': function (date) {\n    return addLeadingZeros(Math.floor(date.getMilliseconds() / 10), 2)\n  },\n\n  // Millisecond: 000, 001, ..., 999\n  'SSS': function (date) {\n    return addLeadingZeros(date.getMilliseconds(), 3)\n  },\n\n  // Timezone: -01:00, +00:00, ... +12:00\n  'Z': function (date) {\n    return formatTimezone(date.getTimezoneOffset(), ':')\n  },\n\n  // Timezone: -0100, +0000, ... +1200\n  'ZZ': function (date) {\n    return formatTimezone(date.getTimezoneOffset())\n  },\n\n  // Seconds timestamp: 512969520\n  'X': function (date) {\n    return Math.floor(date.getTime() / 1000)\n  },\n\n  // Milliseconds timestamp: 512969520900\n  'x': function (date) {\n    return date.getTime()\n  }\n}\n\nfunction buildFormatFn (formatStr, localeFormatters, formattingTokensRegExp) {\n  var array = formatStr.match(formattingTokensRegExp)\n  var length = array.length\n\n  var i\n  var formatter\n  for (i = 0; i < length; i++) {\n    formatter = localeFormatters[array[i]] || formatters[array[i]]\n    if (formatter) {\n      array[i] = formatter\n    } else {\n      array[i] = removeFormattingTokens(array[i])\n    }\n  }\n\n  return function (date) {\n    var output = ''\n    for (var i = 0; i < length; i++) {\n      if (array[i] instanceof Function) {\n        output += array[i](date, formatters)\n      } else {\n        output += array[i]\n      }\n    }\n    return output\n  }\n}\n\nfunction removeFormattingTokens (input) {\n  if (input.match(/\\[[\\s\\S]/)) {\n    return input.replace(/^\\[|]$/g, '')\n  }\n  return input.replace(/\\\\/g, '')\n}\n\nfunction formatTimezone (offset, delimeter) {\n  delimeter = delimeter || ''\n  var sign = offset > 0 ? '-' : '+'\n  var absOffset = Math.abs(offset)\n  var hours = Math.floor(absOffset / 60)\n  var minutes = absOffset % 60\n  return sign + addLeadingZeros(hours, 2) + delimeter + addLeadingZeros(minutes, 2)\n}\n\nfunction addLeadingZeros (number, targetLength) {\n  var output = Math.abs(number).toString()\n  while (output.length < targetLength) {\n    output = '0' + output\n  }\n  return output\n}\n\nmodule.exports = format\n","var parse = require('../parse/index.js')\n\n/**\n * @category Year Helpers\n * @summary Is the given date in the leap year?\n *\n * @description\n * Is the given date in the leap year?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is in the leap year\n *\n * @example\n * // Is 1 September 2012 in the leap year?\n * var result = isLeapYear(new Date(2012, 8, 1))\n * //=> true\n */\nfunction isLeapYear (dirtyDate) {\n  var date = parse(dirtyDate)\n  var year = date.getFullYear()\n  return year % 400 === 0 || year % 4 === 0 && year % 100 !== 0\n}\n\nmodule.exports = isLeapYear\n","var parse = require('../parse/index.js')\n\n/**\n * @category Weekday Helpers\n * @summary Get the day of the ISO week of the given date.\n *\n * @description\n * Get the day of the ISO week of the given date,\n * which is 7 for Sunday, 1 for Monday etc.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the day of ISO week\n *\n * @example\n * // Which day of the ISO week is 26 February 2012?\n * var result = getISODay(new Date(2012, 1, 26))\n * //=> 7\n */\nfunction getISODay (dirtyDate) {\n  var date = parse(dirtyDate)\n  var day = date.getDay()\n\n  if (day === 0) {\n    day = 7\n  }\n\n  return day\n}\n\nmodule.exports = getISODay\n","var startOfISOYear = require('../start_of_iso_year/index.js')\nvar addWeeks = require('../add_weeks/index.js')\n\nvar MILLISECONDS_IN_WEEK = 604800000\n\n/**\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the number of weeks in an ISO week-numbering year of the given date.\n *\n * @description\n * Get the number of weeks in an ISO week-numbering year of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the number of ISO weeks in a year\n *\n * @example\n * // How many weeks are in ISO week-numbering year 2015?\n * var result = getISOWeeksInYear(new Date(2015, 1, 11))\n * //=> 53\n */\nfunction getISOWeeksInYear (dirtyDate) {\n  var thisYear = startOfISOYear(dirtyDate)\n  var nextYear = startOfISOYear(addWeeks(thisYear, 60))\n  var diff = nextYear.valueOf() - thisYear.valueOf()\n  // Round the number of weeks to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK)\n}\n\nmodule.exports = getISOWeeksInYear\n","var parse = require('../parse/index.js')\nvar endOfDay = require('../end_of_day/index.js')\nvar endOfMonth = require('../end_of_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Is the given date the last day of a month?\n *\n * @description\n * Is the given date the last day of a month?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is the last day of a month\n *\n * @example\n * // Is 28 February 2014 the last day of a month?\n * var result = isLastDayOfMonth(new Date(2014, 1, 28))\n * //=> true\n */\nfunction isLastDayOfMonth (dirtyDate) {\n  var date = parse(dirtyDate)\n  return endOfDay(date).getTime() === endOfMonth(date).getTime()\n}\n\nmodule.exports = isLastDayOfMonth\n","var parse = require('../parse/index.js')\n\n/**\n * @category Hour Helpers\n * @summary Return the start of an hour for the given date.\n *\n * @description\n * Return the start of an hour for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the start of an hour\n *\n * @example\n * // The start of an hour for 2 September 2014 11:55:00:\n * var result = startOfHour(new Date(2014, 8, 2, 11, 55))\n * //=> Tue Sep 02 2014 11:00:00\n */\nfunction startOfHour (dirtyDate) {\n  var date = parse(dirtyDate)\n  date.setMinutes(0, 0, 0)\n  return date\n}\n\nmodule.exports = startOfHour\n","var startOfHour = require('../start_of_hour/index.js')\n\n/**\n * @category Hour Helpers\n * @summary Are the given dates in the same hour?\n *\n * @description\n * Are the given dates in the same hour?\n *\n * @param {Date|String|Number} dateLeft - the first date to check\n * @param {Date|String|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same hour\n *\n * @example\n * // Are 4 September 2014 06:00:00 and 4 September 06:30:00 in the same hour?\n * var result = isSameHour(\n *   new Date(2014, 8, 4, 6, 0),\n *   new Date(2014, 8, 4, 6, 30)\n * )\n * //=> true\n */\nfunction isSameHour (dirtyDateLeft, dirtyDateRight) {\n  var dateLeftStartOfHour = startOfHour(dirtyDateLeft)\n  var dateRightStartOfHour = startOfHour(dirtyDateRight)\n\n  return dateLeftStartOfHour.getTime() === dateRightStartOfHour.getTime()\n}\n\nmodule.exports = isSameHour\n","var startOfWeek = require('../start_of_week/index.js')\n\n/**\n * @category Week Helpers\n * @summary Are the given dates in the same week?\n *\n * @description\n * Are the given dates in the same week?\n *\n * @param {Date|String|Number} dateLeft - the first date to check\n * @param {Date|String|Number} dateRight - the second date to check\n * @param {Object} [options] - the object with options\n * @param {Number} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Boolean} the dates are in the same week\n *\n * @example\n * // Are 31 August 2014 and 4 September 2014 in the same week?\n * var result = isSameWeek(\n *   new Date(2014, 7, 31),\n *   new Date(2014, 8, 4)\n * )\n * //=> true\n *\n * @example\n * // If week starts with Monday,\n * // are 31 August 2014 and 4 September 2014 in the same week?\n * var result = isSameWeek(\n *   new Date(2014, 7, 31),\n *   new Date(2014, 8, 4),\n *   {weekStartsOn: 1}\n * )\n * //=> false\n */\nfunction isSameWeek (dirtyDateLeft, dirtyDateRight, dirtyOptions) {\n  var dateLeftStartOfWeek = startOfWeek(dirtyDateLeft, dirtyOptions)\n  var dateRightStartOfWeek = startOfWeek(dirtyDateRight, dirtyOptions)\n\n  return dateLeftStartOfWeek.getTime() === dateRightStartOfWeek.getTime()\n}\n\nmodule.exports = isSameWeek\n","var isSameWeek = require('../is_same_week/index.js')\n\n/**\n * @category ISO Week Helpers\n * @summary Are the given dates in the same ISO week?\n *\n * @description\n * Are the given dates in the same ISO week?\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} dateLeft - the first date to check\n * @param {Date|String|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same ISO week\n *\n * @example\n * // Are 1 September 2014 and 7 September 2014 in the same ISO week?\n * var result = isSameISOWeek(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 8, 7)\n * )\n * //=> true\n */\nfunction isSameISOWeek (dirtyDateLeft, dirtyDateRight) {\n  return isSameWeek(dirtyDateLeft, dirtyDateRight, {weekStartsOn: 1})\n}\n\nmodule.exports = isSameISOWeek\n","var startOfISOYear = require('../start_of_iso_year/index.js')\n\n/**\n * @category ISO Week-Numbering Year Helpers\n * @summary Are the given dates in the same ISO week-numbering year?\n *\n * @description\n * Are the given dates in the same ISO week-numbering year?\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} dateLeft - the first date to check\n * @param {Date|String|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same ISO week-numbering year\n *\n * @example\n * // Are 29 December 2003 and 2 January 2005 in the same ISO week-numbering year?\n * var result = isSameISOYear(\n *   new Date(2003, 11, 29),\n *   new Date(2005, 0, 2)\n * )\n * //=> true\n */\nfunction isSameISOYear (dirtyDateLeft, dirtyDateRight) {\n  var dateLeftStartOfYear = startOfISOYear(dirtyDateLeft)\n  var dateRightStartOfYear = startOfISOYear(dirtyDateRight)\n\n  return dateLeftStartOfYear.getTime() === dateRightStartOfYear.getTime()\n}\n\nmodule.exports = isSameISOYear\n","var parse = require('../parse/index.js')\n\n/**\n * @category Minute Helpers\n * @summary Return the start of a minute for the given date.\n *\n * @description\n * Return the start of a minute for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the start of a minute\n *\n * @example\n * // The start of a minute for 1 December 2014 22:15:45.400:\n * var result = startOfMinute(new Date(2014, 11, 1, 22, 15, 45, 400))\n * //=> Mon Dec 01 2014 22:15:00\n */\nfunction startOfMinute (dirtyDate) {\n  var date = parse(dirtyDate)\n  date.setSeconds(0, 0)\n  return date\n}\n\nmodule.exports = startOfMinute\n","var startOfMinute = require('../start_of_minute/index.js')\n\n/**\n * @category Minute Helpers\n * @summary Are the given dates in the same minute?\n *\n * @description\n * Are the given dates in the same minute?\n *\n * @param {Date|String|Number} dateLeft - the first date to check\n * @param {Date|String|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same minute\n *\n * @example\n * // Are 4 September 2014 06:30:00 and 4 September 2014 06:30:15\n * // in the same minute?\n * var result = isSameMinute(\n *   new Date(2014, 8, 4, 6, 30),\n *   new Date(2014, 8, 4, 6, 30, 15)\n * )\n * //=> true\n */\nfunction isSameMinute (dirtyDateLeft, dirtyDateRight) {\n  var dateLeftStartOfMinute = startOfMinute(dirtyDateLeft)\n  var dateRightStartOfMinute = startOfMinute(dirtyDateRight)\n\n  return dateLeftStartOfMinute.getTime() === dateRightStartOfMinute.getTime()\n}\n\nmodule.exports = isSameMinute\n","var parse = require('../parse/index.js')\n\n/**\n * @category Month Helpers\n * @summary Are the given dates in the same month?\n *\n * @description\n * Are the given dates in the same month?\n *\n * @param {Date|String|Number} dateLeft - the first date to check\n * @param {Date|String|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same month\n *\n * @example\n * // Are 2 September 2014 and 25 September 2014 in the same month?\n * var result = isSameMonth(\n *   new Date(2014, 8, 2),\n *   new Date(2014, 8, 25)\n * )\n * //=> true\n */\nfunction isSameMonth (dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft)\n  var dateRight = parse(dirtyDateRight)\n  return dateLeft.getFullYear() === dateRight.getFullYear() &&\n    dateLeft.getMonth() === dateRight.getMonth()\n}\n\nmodule.exports = isSameMonth\n","var parse = require('../parse/index.js')\n\n/**\n * @category Quarter Helpers\n * @summary Return the start of a year quarter for the given date.\n *\n * @description\n * Return the start of a year quarter for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the start of a quarter\n *\n * @example\n * // The start of a quarter for 2 September 2014 11:55:00:\n * var result = startOfQuarter(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Jul 01 2014 00:00:00\n */\nfunction startOfQuarter (dirtyDate) {\n  var date = parse(dirtyDate)\n  var currentMonth = date.getMonth()\n  var month = currentMonth - currentMonth % 3\n  date.setMonth(month, 1)\n  date.setHours(0, 0, 0, 0)\n  return date\n}\n\nmodule.exports = startOfQuarter\n","var startOfQuarter = require('../start_of_quarter/index.js')\n\n/**\n * @category Quarter Helpers\n * @summary Are the given dates in the same year quarter?\n *\n * @description\n * Are the given dates in the same year quarter?\n *\n * @param {Date|String|Number} dateLeft - the first date to check\n * @param {Date|String|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same quarter\n *\n * @example\n * // Are 1 January 2014 and 8 March 2014 in the same quarter?\n * var result = isSameQuarter(\n *   new Date(2014, 0, 1),\n *   new Date(2014, 2, 8)\n * )\n * //=> true\n */\nfunction isSameQuarter (dirtyDateLeft, dirtyDateRight) {\n  var dateLeftStartOfQuarter = startOfQuarter(dirtyDateLeft)\n  var dateRightStartOfQuarter = startOfQuarter(dirtyDateRight)\n\n  return dateLeftStartOfQuarter.getTime() === dateRightStartOfQuarter.getTime()\n}\n\nmodule.exports = isSameQuarter\n","var parse = require('../parse/index.js')\n\n/**\n * @category Second Helpers\n * @summary Return the start of a second for the given date.\n *\n * @description\n * Return the start of a second for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the start of a second\n *\n * @example\n * // The start of a second for 1 December 2014 22:15:45.400:\n * var result = startOfSecond(new Date(2014, 11, 1, 22, 15, 45, 400))\n * //=> Mon Dec 01 2014 22:15:45.000\n */\nfunction startOfSecond (dirtyDate) {\n  var date = parse(dirtyDate)\n  date.setMilliseconds(0)\n  return date\n}\n\nmodule.exports = startOfSecond\n","var startOfSecond = require('../start_of_second/index.js')\n\n/**\n * @category Second Helpers\n * @summary Are the given dates in the same second?\n *\n * @description\n * Are the given dates in the same second?\n *\n * @param {Date|String|Number} dateLeft - the first date to check\n * @param {Date|String|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same second\n *\n * @example\n * // Are 4 September 2014 06:30:15.000 and 4 September 2014 06:30.15.500\n * // in the same second?\n * var result = isSameSecond(\n *   new Date(2014, 8, 4, 6, 30, 15),\n *   new Date(2014, 8, 4, 6, 30, 15, 500)\n * )\n * //=> true\n */\nfunction isSameSecond (dirtyDateLeft, dirtyDateRight) {\n  var dateLeftStartOfSecond = startOfSecond(dirtyDateLeft)\n  var dateRightStartOfSecond = startOfSecond(dirtyDateRight)\n\n  return dateLeftStartOfSecond.getTime() === dateRightStartOfSecond.getTime()\n}\n\nmodule.exports = isSameSecond\n","var parse = require('../parse/index.js')\n\n/**\n * @category Year Helpers\n * @summary Are the given dates in the same year?\n *\n * @description\n * Are the given dates in the same year?\n *\n * @param {Date|String|Number} dateLeft - the first date to check\n * @param {Date|String|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same year\n *\n * @example\n * // Are 2 September 2014 and 25 September 2014 in the same year?\n * var result = isSameYear(\n *   new Date(2014, 8, 2),\n *   new Date(2014, 8, 25)\n * )\n * //=> true\n */\nfunction isSameYear (dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft)\n  var dateRight = parse(dirtyDateRight)\n  return dateLeft.getFullYear() === dateRight.getFullYear()\n}\n\nmodule.exports = isSameYear\n","var isSameHour = require('../is_same_hour/index.js')\n\n/**\n * @category Hour Helpers\n * @summary Is the given date in the same hour as the current date?\n *\n * @description\n * Is the given date in the same hour as the current date?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is in this hour\n *\n * @example\n * // If now is 25 September 2014 18:30:15.500,\n * // is 25 September 2014 18:00:00 in this hour?\n * var result = isThisHour(new Date(2014, 8, 25, 18))\n * //=> true\n */\nfunction isThisHour (dirtyDate) {\n  return isSameHour(new Date(), dirtyDate)\n}\n\nmodule.exports = isThisHour\n","var isSameISOWeek = require('../is_same_iso_week/index.js')\n\n/**\n * @category ISO Week Helpers\n * @summary Is the given date in the same ISO week as the current date?\n *\n * @description\n * Is the given date in the same ISO week as the current date?\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is in this ISO week\n *\n * @example\n * // If today is 25 September 2014, is 22 September 2014 in this ISO week?\n * var result = isThisISOWeek(new Date(2014, 8, 22))\n * //=> true\n */\nfunction isThisISOWeek (dirtyDate) {\n  return isSameISOWeek(new Date(), dirtyDate)\n}\n\nmodule.exports = isThisISOWeek\n","var isSameISOYear = require('../is_same_iso_year/index.js')\n\n/**\n * @category ISO Week-Numbering Year Helpers\n * @summary Is the given date in the same ISO week-numbering year as the current date?\n *\n * @description\n * Is the given date in the same ISO week-numbering year as the current date?\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is in this ISO week-numbering year\n *\n * @example\n * // If today is 25 September 2014,\n * // is 30 December 2013 in this ISO week-numbering year?\n * var result = isThisISOYear(new Date(2013, 11, 30))\n * //=> true\n */\nfunction isThisISOYear (dirtyDate) {\n  return isSameISOYear(new Date(), dirtyDate)\n}\n\nmodule.exports = isThisISOYear\n","var isSameMinute = require('../is_same_minute/index.js')\n\n/**\n * @category Minute Helpers\n * @summary Is the given date in the same minute as the current date?\n *\n * @description\n * Is the given date in the same minute as the current date?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is in this minute\n *\n * @example\n * // If now is 25 September 2014 18:30:15.500,\n * // is 25 September 2014 18:30:00 in this minute?\n * var result = isThisMinute(new Date(2014, 8, 25, 18, 30))\n * //=> true\n */\nfunction isThisMinute (dirtyDate) {\n  return isSameMinute(new Date(), dirtyDate)\n}\n\nmodule.exports = isThisMinute\n","var isSameMonth = require('../is_same_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Is the given date in the same month as the current date?\n *\n * @description\n * Is the given date in the same month as the current date?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is in this month\n *\n * @example\n * // If today is 25 September 2014, is 15 September 2014 in this month?\n * var result = isThisMonth(new Date(2014, 8, 15))\n * //=> true\n */\nfunction isThisMonth (dirtyDate) {\n  return isSameMonth(new Date(), dirtyDate)\n}\n\nmodule.exports = isThisMonth\n","var isSameQuarter = require('../is_same_quarter/index.js')\n\n/**\n * @category Quarter Helpers\n * @summary Is the given date in the same quarter as the current date?\n *\n * @description\n * Is the given date in the same quarter as the current date?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is in this quarter\n *\n * @example\n * // If today is 25 September 2014, is 2 July 2014 in this quarter?\n * var result = isThisQuarter(new Date(2014, 6, 2))\n * //=> true\n */\nfunction isThisQuarter (dirtyDate) {\n  return isSameQuarter(new Date(), dirtyDate)\n}\n\nmodule.exports = isThisQuarter\n","var isSameSecond = require('../is_same_second/index.js')\n\n/**\n * @category Second Helpers\n * @summary Is the given date in the same second as the current date?\n *\n * @description\n * Is the given date in the same second as the current date?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is in this second\n *\n * @example\n * // If now is 25 September 2014 18:30:15.500,\n * // is 25 September 2014 18:30:15.000 in this second?\n * var result = isThisSecond(new Date(2014, 8, 25, 18, 30, 15))\n * //=> true\n */\nfunction isThisSecond (dirtyDate) {\n  return isSameSecond(new Date(), dirtyDate)\n}\n\nmodule.exports = isThisSecond\n","var isSameWeek = require('../is_same_week/index.js')\n\n/**\n * @category Week Helpers\n * @summary Is the given date in the same week as the current date?\n *\n * @description\n * Is the given date in the same week as the current date?\n *\n * @param {Date|String|Number} date - the date to check\n * @param {Object} [options] - the object with options\n * @param {Number} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Boolean} the date is in this week\n *\n * @example\n * // If today is 25 September 2014, is 21 September 2014 in this week?\n * var result = isThisWeek(new Date(2014, 8, 21))\n * //=> true\n *\n * @example\n * // If today is 25 September 2014 and week starts with Monday\n * // is 21 September 2014 in this week?\n * var result = isThisWeek(new Date(2014, 8, 21), {weekStartsOn: 1})\n * //=> false\n */\nfunction isThisWeek (dirtyDate, dirtyOptions) {\n  return isSameWeek(new Date(), dirtyDate, dirtyOptions)\n}\n\nmodule.exports = isThisWeek\n","var isSameYear = require('../is_same_year/index.js')\n\n/**\n * @category Year Helpers\n * @summary Is the given date in the same year as the current date?\n *\n * @description\n * Is the given date in the same year as the current date?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is in this year\n *\n * @example\n * // If today is 25 September 2014, is 2 July 2014 in this year?\n * var result = isThisYear(new Date(2014, 6, 2))\n * //=> true\n */\nfunction isThisYear (dirtyDate) {\n  return isSameYear(new Date(), dirtyDate)\n}\n\nmodule.exports = isThisYear\n","var parse = require('../parse/index.js')\n\n/**\n * @category Week Helpers\n * @summary Return the last day of a week for the given date.\n *\n * @description\n * Return the last day of a week for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @param {Object} [options] - the object with options\n * @param {Number} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the last day of a week\n *\n * @example\n * // The last day of a week for 2 September 2014 11:55:00:\n * var result = lastDayOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sat Sep 06 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the last day of the week for 2 September 2014 11:55:00:\n * var result = lastDayOfWeek(new Date(2014, 8, 2, 11, 55, 0), {weekStartsOn: 1})\n * //=> Sun Sep 07 2014 00:00:00\n */\nfunction lastDayOfWeek (dirtyDate, dirtyOptions) {\n  var weekStartsOn = dirtyOptions ? (Number(dirtyOptions.weekStartsOn) || 0) : 0\n\n  var date = parse(dirtyDate)\n  var day = date.getDay()\n  var diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn)\n\n  date.setHours(0, 0, 0, 0)\n  date.setDate(date.getDate() + diff)\n  return date\n}\n\nmodule.exports = lastDayOfWeek\n","var getISOYear = require('../get_iso_year/index.js')\nvar startOfISOWeek = require('../start_of_iso_week/index.js')\n\n/**\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the last day of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the last day of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the end of an ISO week-numbering year\n *\n * @example\n * // The last day of an ISO week-numbering year for 2 July 2005:\n * var result = lastDayOfISOYear(new Date(2005, 6, 2))\n * //=> Sun Jan 01 2006 00:00:00\n */\nfunction lastDayOfISOYear (dirtyDate) {\n  var year = getISOYear(dirtyDate)\n  var fourthOfJanuary = new Date(0)\n  fourthOfJanuary.setFullYear(year + 1, 0, 4)\n  fourthOfJanuary.setHours(0, 0, 0, 0)\n  var date = startOfISOWeek(fourthOfJanuary)\n  date.setDate(date.getDate() - 1)\n  return date\n}\n\nmodule.exports = lastDayOfISOYear\n","var parse = require('../parse/index.js')\n\n/**\n * @category Day Helpers\n * @summary Set the day of the month to the given date.\n *\n * @description\n * Set the day of the month to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} dayOfMonth - the day of the month of the new date\n * @returns {Date} the new date with the day of the month setted\n *\n * @example\n * // Set the 30th day of the month to 1 September 2014:\n * var result = setDate(new Date(2014, 8, 1), 30)\n * //=> Tue Sep 30 2014 00:00:00\n */\nfunction setDate (dirtyDate, dirtyDayOfMonth) {\n  var date = parse(dirtyDate)\n  var dayOfMonth = Number(dirtyDayOfMonth)\n  date.setDate(dayOfMonth)\n  return date\n}\n\nmodule.exports = setDate\n","var parse = require('../parse/index.js')\nvar addDays = require('../add_days/index.js')\n\n/**\n * @category Weekday Helpers\n * @summary Set the day of the week to the given date.\n *\n * @description\n * Set the day of the week to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} day - the day of the week of the new date\n * @param {Object} [options] - the object with options\n * @param {Number} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the new date with the day of the week setted\n *\n * @example\n * // Set Sunday to 1 September 2014:\n * var result = setDay(new Date(2014, 8, 1), 0)\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If week starts with Monday, set Sunday to 1 September 2014:\n * var result = setDay(new Date(2014, 8, 1), 0, {weekStartsOn: 1})\n * //=> Sun Sep 07 2014 00:00:00\n */\nfunction setDay (dirtyDate, dirtyDay, dirtyOptions) {\n  var weekStartsOn = dirtyOptions ? (Number(dirtyOptions.weekStartsOn) || 0) : 0\n  var date = parse(dirtyDate)\n  var day = Number(dirtyDay)\n  var currentDay = date.getDay()\n\n  var remainder = day % 7\n  var dayIndex = (remainder + 7) % 7\n\n  var diff = (dayIndex < weekStartsOn ? 7 : 0) + day - currentDay\n  return addDays(date, diff)\n}\n\nmodule.exports = setDay\n","var parse = require('../parse/index.js')\n\n/**\n * @category Day Helpers\n * @summary Set the day of the year to the given date.\n *\n * @description\n * Set the day of the year to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} dayOfYear - the day of the year of the new date\n * @returns {Date} the new date with the day of the year setted\n *\n * @example\n * // Set the 2nd day of the year to 2 July 2014:\n * var result = setDayOfYear(new Date(2014, 6, 2), 2)\n * //=> Thu Jan 02 2014 00:00:00\n */\nfunction setDayOfYear (dirtyDate, dirtyDayOfYear) {\n  var date = parse(dirtyDate)\n  var dayOfYear = Number(dirtyDayOfYear)\n  date.setMonth(0)\n  date.setDate(dayOfYear)\n  return date\n}\n\nmodule.exports = setDayOfYear\n","var parse = require('../parse/index.js')\n\n/**\n * @category Hour Helpers\n * @summary Set the hours to the given date.\n *\n * @description\n * Set the hours to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} hours - the hours of the new date\n * @returns {Date} the new date with the hours setted\n *\n * @example\n * // Set 4 hours to 1 September 2014 11:30:00:\n * var result = setHours(new Date(2014, 8, 1, 11, 30), 4)\n * //=> Mon Sep 01 2014 04:30:00\n */\nfunction setHours (dirtyDate, dirtyHours) {\n  var date = parse(dirtyDate)\n  var hours = Number(dirtyHours)\n  date.setHours(hours)\n  return date\n}\n\nmodule.exports = setHours\n","var parse = require('../parse/index.js')\nvar addDays = require('../add_days/index.js')\nvar getISODay = require('../get_iso_day/index.js')\n\n/**\n * @category Weekday Helpers\n * @summary Set the day of the ISO week to the given date.\n *\n * @description\n * Set the day of the ISO week to the given date.\n * ISO week starts with Monday.\n * 7 is the index of Sunday, 1 is the index of Monday etc.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} day - the day of the ISO week of the new date\n * @returns {Date} the new date with the day of the ISO week setted\n *\n * @example\n * // Set Sunday to 1 September 2014:\n * var result = setISODay(new Date(2014, 8, 1), 7)\n * //=> Sun Sep 07 2014 00:00:00\n */\nfunction setISODay (dirtyDate, dirtyDay) {\n  var date = parse(dirtyDate)\n  var day = Number(dirtyDay)\n  var currentDay = getISODay(date)\n  var diff = day - currentDay\n  return addDays(date, diff)\n}\n\nmodule.exports = setISODay\n","var parse = require('../parse/index.js')\nvar getISOWeek = require('../get_iso_week/index.js')\n\n/**\n * @category ISO Week Helpers\n * @summary Set the ISO week to the given date.\n *\n * @description\n * Set the ISO week to the given date, saving the weekday number.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} isoWeek - the ISO week of the new date\n * @returns {Date} the new date with the ISO week setted\n *\n * @example\n * // Set the 53rd ISO week to 7 August 2004:\n * var result = setISOWeek(new Date(2004, 7, 7), 53)\n * //=> Sat Jan 01 2005 00:00:00\n */\nfunction setISOWeek (dirtyDate, dirtyISOWeek) {\n  var date = parse(dirtyDate)\n  var isoWeek = Number(dirtyISOWeek)\n  var diff = getISOWeek(date) - isoWeek\n  date.setDate(date.getDate() - diff * 7)\n  return date\n}\n\nmodule.exports = setISOWeek\n","var parse = require('../parse/index.js')\n\n/**\n * @category Millisecond Helpers\n * @summary Set the milliseconds to the given date.\n *\n * @description\n * Set the milliseconds to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} milliseconds - the milliseconds of the new date\n * @returns {Date} the new date with the milliseconds setted\n *\n * @example\n * // Set 300 milliseconds to 1 September 2014 11:30:40.500:\n * var result = setMilliseconds(new Date(2014, 8, 1, 11, 30, 40, 500), 300)\n * //=> Mon Sep 01 2014 11:30:40.300\n */\nfunction setMilliseconds (dirtyDate, dirtyMilliseconds) {\n  var date = parse(dirtyDate)\n  var milliseconds = Number(dirtyMilliseconds)\n  date.setMilliseconds(milliseconds)\n  return date\n}\n\nmodule.exports = setMilliseconds\n","var parse = require('../parse/index.js')\n\n/**\n * @category Minute Helpers\n * @summary Set the minutes to the given date.\n *\n * @description\n * Set the minutes to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} minutes - the minutes of the new date\n * @returns {Date} the new date with the minutes setted\n *\n * @example\n * // Set 45 minutes to 1 September 2014 11:30:40:\n * var result = setMinutes(new Date(2014, 8, 1, 11, 30, 40), 45)\n * //=> Mon Sep 01 2014 11:45:40\n */\nfunction setMinutes (dirtyDate, dirtyMinutes) {\n  var date = parse(dirtyDate)\n  var minutes = Number(dirtyMinutes)\n  date.setMinutes(minutes)\n  return date\n}\n\nmodule.exports = setMinutes\n","var parse = require('../parse/index.js')\nvar getDaysInMonth = require('../get_days_in_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Set the month to the given date.\n *\n * @description\n * Set the month to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} month - the month of the new date\n * @returns {Date} the new date with the month setted\n *\n * @example\n * // Set February to 1 September 2014:\n * var result = setMonth(new Date(2014, 8, 1), 1)\n * //=> Sat Feb 01 2014 00:00:00\n */\nfunction setMonth (dirtyDate, dirtyMonth) {\n  var date = parse(dirtyDate)\n  var month = Number(dirtyMonth)\n  var year = date.getFullYear()\n  var day = date.getDate()\n\n  var dateWithDesiredMonth = new Date(0)\n  dateWithDesiredMonth.setFullYear(year, month, 15)\n  dateWithDesiredMonth.setHours(0, 0, 0, 0)\n  var daysInMonth = getDaysInMonth(dateWithDesiredMonth)\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  date.setMonth(month, Math.min(day, daysInMonth))\n  return date\n}\n\nmodule.exports = setMonth\n","var parse = require('../parse/index.js')\nvar setMonth = require('../set_month/index.js')\n\n/**\n * @category Quarter Helpers\n * @summary Set the year quarter to the given date.\n *\n * @description\n * Set the year quarter to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} quarter - the quarter of the new date\n * @returns {Date} the new date with the quarter setted\n *\n * @example\n * // Set the 2nd quarter to 2 July 2014:\n * var result = setQuarter(new Date(2014, 6, 2), 2)\n * //=> Wed Apr 02 2014 00:00:00\n */\nfunction setQuarter (dirtyDate, dirtyQuarter) {\n  var date = parse(dirtyDate)\n  var quarter = Number(dirtyQuarter)\n  var oldQuarter = Math.floor(date.getMonth() / 3) + 1\n  var diff = quarter - oldQuarter\n  return setMonth(date, date.getMonth() + diff * 3)\n}\n\nmodule.exports = setQuarter\n","var parse = require('../parse/index.js')\n\n/**\n * @category Second Helpers\n * @summary Set the seconds to the given date.\n *\n * @description\n * Set the seconds to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} seconds - the seconds of the new date\n * @returns {Date} the new date with the seconds setted\n *\n * @example\n * // Set 45 seconds to 1 September 2014 11:30:40:\n * var result = setSeconds(new Date(2014, 8, 1, 11, 30, 40), 45)\n * //=> Mon Sep 01 2014 11:30:45\n */\nfunction setSeconds (dirtyDate, dirtySeconds) {\n  var date = parse(dirtyDate)\n  var seconds = Number(dirtySeconds)\n  date.setSeconds(seconds)\n  return date\n}\n\nmodule.exports = setSeconds\n","var parse = require('../parse/index.js')\n\n/**\n * @category Year Helpers\n * @summary Set the year to the given date.\n *\n * @description\n * Set the year to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} year - the year of the new date\n * @returns {Date} the new date with the year setted\n *\n * @example\n * // Set year 2013 to 1 September 2014:\n * var result = setYear(new Date(2014, 8, 1), 2013)\n * //=> Sun Sep 01 2013 00:00:00\n */\nfunction setYear (dirtyDate, dirtyYear) {\n  var date = parse(dirtyDate)\n  var year = Number(dirtyYear)\n  date.setFullYear(year)\n  return date\n}\n\nmodule.exports = setYear\n","var parse = require('../parse/index.js')\n\n/**\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the start of a month\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * var result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nfunction startOfMonth (dirtyDate) {\n  var date = parse(dirtyDate)\n  date.setDate(1)\n  date.setHours(0, 0, 0, 0)\n  return date\n}\n\nmodule.exports = startOfMonth\n","var startOfDay = require('../start_of_day/index.js')\n\n/**\n * @category Day Helpers\n * @summary Return the start of today.\n *\n * @description\n * Return the start of today.\n *\n * @returns {Date} the start of today\n *\n * @example\n * // If today is 6 October 2014:\n * var result = startOfToday()\n * //=> Mon Oct 6 2014 00:00:00\n */\nfunction startOfToday () {\n  return startOfDay(new Date())\n}\n\nmodule.exports = startOfToday\n","var addDays = require('../add_days/index.js')\n\n/**\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @description\n * Subtract the specified number of days from the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be subtracted\n * @returns {Date} the new date with the days subtracted\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * var result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\nfunction subDays (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addDays(dirtyDate, -amount)\n}\n\nmodule.exports = subDays\n","var addHours = require('../add_hours/index.js')\n\n/**\n * @category Hour Helpers\n * @summary Subtract the specified number of hours from the given date.\n *\n * @description\n * Subtract the specified number of hours from the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of hours to be subtracted\n * @returns {Date} the new date with the hours subtracted\n *\n * @example\n * // Subtract 2 hours from 11 July 2014 01:00:00:\n * var result = subHours(new Date(2014, 6, 11, 1, 0), 2)\n * //=> Thu Jul 10 2014 23:00:00\n */\nfunction subHours (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addHours(dirtyDate, -amount)\n}\n\nmodule.exports = subHours\n","var addMilliseconds = require('../add_milliseconds/index.js')\n\n/**\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted\n * @returns {Date} the new date with the milliseconds subtracted\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * var result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\nfunction subMilliseconds (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addMilliseconds(dirtyDate, -amount)\n}\n\nmodule.exports = subMilliseconds\n","var addMinutes = require('../add_minutes/index.js')\n\n/**\n * @category Minute Helpers\n * @summary Subtract the specified number of minutes from the given date.\n *\n * @description\n * Subtract the specified number of minutes from the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of minutes to be subtracted\n * @returns {Date} the new date with the mintues subtracted\n *\n * @example\n * // Subtract 30 minutes from 10 July 2014 12:00:00:\n * var result = subMinutes(new Date(2014, 6, 10, 12, 0), 30)\n * //=> Thu Jul 10 2014 11:30:00\n */\nfunction subMinutes (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addMinutes(dirtyDate, -amount)\n}\n\nmodule.exports = subMinutes\n","var addMonths = require('../add_months/index.js')\n\n/**\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be subtracted\n * @returns {Date} the new date with the months subtracted\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * var result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\nfunction subMonths (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addMonths(dirtyDate, -amount)\n}\n\nmodule.exports = subMonths\n","var addQuarters = require('../add_quarters/index.js')\n\n/**\n * @category Quarter Helpers\n * @summary Subtract the specified number of year quarters from the given date.\n *\n * @description\n * Subtract the specified number of year quarters from the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of quarters to be subtracted\n * @returns {Date} the new date with the quarters subtracted\n *\n * @example\n * // Subtract 3 quarters from 1 September 2014:\n * var result = subQuarters(new Date(2014, 8, 1), 3)\n * //=> Sun Dec 01 2013 00:00:00\n */\nfunction subQuarters (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addQuarters(dirtyDate, -amount)\n}\n\nmodule.exports = subQuarters\n","var addSeconds = require('../add_seconds/index.js')\n\n/**\n * @category Second Helpers\n * @summary Subtract the specified number of seconds from the given date.\n *\n * @description\n * Subtract the specified number of seconds from the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of seconds to be subtracted\n * @returns {Date} the new date with the seconds subtracted\n *\n * @example\n * // Subtract 30 seconds from 10 July 2014 12:45:00:\n * var result = subSeconds(new Date(2014, 6, 10, 12, 45, 0), 30)\n * //=> Thu Jul 10 2014 12:44:30\n */\nfunction subSeconds (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addSeconds(dirtyDate, -amount)\n}\n\nmodule.exports = subSeconds\n","var addWeeks = require('../add_weeks/index.js')\n\n/**\n * @category Week Helpers\n * @summary Subtract the specified number of weeks from the given date.\n *\n * @description\n * Subtract the specified number of weeks from the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of weeks to be subtracted\n * @returns {Date} the new date with the weeks subtracted\n *\n * @example\n * // Subtract 4 weeks from 1 September 2014:\n * var result = subWeeks(new Date(2014, 8, 1), 4)\n * //=> Mon Aug 04 2014 00:00:00\n */\nfunction subWeeks (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addWeeks(dirtyDate, -amount)\n}\n\nmodule.exports = subWeeks\n","var addYears = require('../add_years/index.js')\n\n/**\n * @category Year Helpers\n * @summary Subtract the specified number of years from the given date.\n *\n * @description\n * Subtract the specified number of years from the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be subtracted\n * @returns {Date} the new date with the years subtracted\n *\n * @example\n * // Subtract 5 years from 1 September 2014:\n * var result = subYears(new Date(2014, 8, 1), 5)\n * //=> Tue Sep 01 2009 00:00:00\n */\nfunction subYears (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addYears(dirtyDate, -amount)\n}\n\nmodule.exports = subYears\n","module.exports = {\n  addDays: require('./add_days/index.js'),\n  addHours: require('./add_hours/index.js'),\n  addISOYears: require('./add_iso_years/index.js'),\n  addMilliseconds: require('./add_milliseconds/index.js'),\n  addMinutes: require('./add_minutes/index.js'),\n  addMonths: require('./add_months/index.js'),\n  addQuarters: require('./add_quarters/index.js'),\n  addSeconds: require('./add_seconds/index.js'),\n  addWeeks: require('./add_weeks/index.js'),\n  addYears: require('./add_years/index.js'),\n  areRangesOverlapping: require('./are_ranges_overlapping/index.js'),\n  closestIndexTo: require('./closest_index_to/index.js'),\n  closestTo: require('./closest_to/index.js'),\n  compareAsc: require('./compare_asc/index.js'),\n  compareDesc: require('./compare_desc/index.js'),\n  differenceInCalendarDays: require('./difference_in_calendar_days/index.js'),\n  differenceInCalendarISOWeeks: require('./difference_in_calendar_iso_weeks/index.js'),\n  differenceInCalendarISOYears: require('./difference_in_calendar_iso_years/index.js'),\n  differenceInCalendarMonths: require('./difference_in_calendar_months/index.js'),\n  differenceInCalendarQuarters: require('./difference_in_calendar_quarters/index.js'),\n  differenceInCalendarWeeks: require('./difference_in_calendar_weeks/index.js'),\n  differenceInCalendarYears: require('./difference_in_calendar_years/index.js'),\n  differenceInDays: require('./difference_in_days/index.js'),\n  differenceInHours: require('./difference_in_hours/index.js'),\n  differenceInISOYears: require('./difference_in_iso_years/index.js'),\n  differenceInMilliseconds: require('./difference_in_milliseconds/index.js'),\n  differenceInMinutes: require('./difference_in_minutes/index.js'),\n  differenceInMonths: require('./difference_in_months/index.js'),\n  differenceInQuarters: require('./difference_in_quarters/index.js'),\n  differenceInSeconds: require('./difference_in_seconds/index.js'),\n  differenceInWeeks: require('./difference_in_weeks/index.js'),\n  differenceInYears: require('./difference_in_years/index.js'),\n  distanceInWords: require('./distance_in_words/index.js'),\n  distanceInWordsStrict: require('./distance_in_words_strict/index.js'),\n  distanceInWordsToNow: require('./distance_in_words_to_now/index.js'),\n  eachDay: require('./each_day/index.js'),\n  endOfDay: require('./end_of_day/index.js'),\n  endOfHour: require('./end_of_hour/index.js'),\n  endOfISOWeek: require('./end_of_iso_week/index.js'),\n  endOfISOYear: require('./end_of_iso_year/index.js'),\n  endOfMinute: require('./end_of_minute/index.js'),\n  endOfMonth: require('./end_of_month/index.js'),\n  endOfQuarter: require('./end_of_quarter/index.js'),\n  endOfSecond: require('./end_of_second/index.js'),\n  endOfToday: require('./end_of_today/index.js'),\n  endOfTomorrow: require('./end_of_tomorrow/index.js'),\n  endOfWeek: require('./end_of_week/index.js'),\n  endOfYear: require('./end_of_year/index.js'),\n  endOfYesterday: require('./end_of_yesterday/index.js'),\n  format: require('./format/index.js'),\n  getDate: require('./get_date/index.js'),\n  getDay: require('./get_day/index.js'),\n  getDayOfYear: require('./get_day_of_year/index.js'),\n  getDaysInMonth: require('./get_days_in_month/index.js'),\n  getDaysInYear: require('./get_days_in_year/index.js'),\n  getHours: require('./get_hours/index.js'),\n  getISODay: require('./get_iso_day/index.js'),\n  getISOWeek: require('./get_iso_week/index.js'),\n  getISOWeeksInYear: require('./get_iso_weeks_in_year/index.js'),\n  getISOYear: require('./get_iso_year/index.js'),\n  getMilliseconds: require('./get_milliseconds/index.js'),\n  getMinutes: require('./get_minutes/index.js'),\n  getMonth: require('./get_month/index.js'),\n  getOverlappingDaysInRanges: require('./get_overlapping_days_in_ranges/index.js'),\n  getQuarter: require('./get_quarter/index.js'),\n  getSeconds: require('./get_seconds/index.js'),\n  getTime: require('./get_time/index.js'),\n  getYear: require('./get_year/index.js'),\n  isAfter: require('./is_after/index.js'),\n  isBefore: require('./is_before/index.js'),\n  isDate: require('./is_date/index.js'),\n  isEqual: require('./is_equal/index.js'),\n  isFirstDayOfMonth: require('./is_first_day_of_month/index.js'),\n  isFriday: require('./is_friday/index.js'),\n  isFuture: require('./is_future/index.js'),\n  isLastDayOfMonth: require('./is_last_day_of_month/index.js'),\n  isLeapYear: require('./is_leap_year/index.js'),\n  isMonday: require('./is_monday/index.js'),\n  isPast: require('./is_past/index.js'),\n  isSameDay: require('./is_same_day/index.js'),\n  isSameHour: require('./is_same_hour/index.js'),\n  isSameISOWeek: require('./is_same_iso_week/index.js'),\n  isSameISOYear: require('./is_same_iso_year/index.js'),\n  isSameMinute: require('./is_same_minute/index.js'),\n  isSameMonth: require('./is_same_month/index.js'),\n  isSameQuarter: require('./is_same_quarter/index.js'),\n  isSameSecond: require('./is_same_second/index.js'),\n  isSameWeek: require('./is_same_week/index.js'),\n  isSameYear: require('./is_same_year/index.js'),\n  isSaturday: require('./is_saturday/index.js'),\n  isSunday: require('./is_sunday/index.js'),\n  isThisHour: require('./is_this_hour/index.js'),\n  isThisISOWeek: require('./is_this_iso_week/index.js'),\n  isThisISOYear: require('./is_this_iso_year/index.js'),\n  isThisMinute: require('./is_this_minute/index.js'),\n  isThisMonth: require('./is_this_month/index.js'),\n  isThisQuarter: require('./is_this_quarter/index.js'),\n  isThisSecond: require('./is_this_second/index.js'),\n  isThisWeek: require('./is_this_week/index.js'),\n  isThisYear: require('./is_this_year/index.js'),\n  isThursday: require('./is_thursday/index.js'),\n  isToday: require('./is_today/index.js'),\n  isTomorrow: require('./is_tomorrow/index.js'),\n  isTuesday: require('./is_tuesday/index.js'),\n  isValid: require('./is_valid/index.js'),\n  isWednesday: require('./is_wednesday/index.js'),\n  isWeekend: require('./is_weekend/index.js'),\n  isWithinRange: require('./is_within_range/index.js'),\n  isYesterday: require('./is_yesterday/index.js'),\n  lastDayOfISOWeek: require('./last_day_of_iso_week/index.js'),\n  lastDayOfISOYear: require('./last_day_of_iso_year/index.js'),\n  lastDayOfMonth: require('./last_day_of_month/index.js'),\n  lastDayOfQuarter: require('./last_day_of_quarter/index.js'),\n  lastDayOfWeek: require('./last_day_of_week/index.js'),\n  lastDayOfYear: require('./last_day_of_year/index.js'),\n  max: require('./max/index.js'),\n  min: require('./min/index.js'),\n  parse: require('./parse/index.js'),\n  setDate: require('./set_date/index.js'),\n  setDay: require('./set_day/index.js'),\n  setDayOfYear: require('./set_day_of_year/index.js'),\n  setHours: require('./set_hours/index.js'),\n  setISODay: require('./set_iso_day/index.js'),\n  setISOWeek: require('./set_iso_week/index.js'),\n  setISOYear: require('./set_iso_year/index.js'),\n  setMilliseconds: require('./set_milliseconds/index.js'),\n  setMinutes: require('./set_minutes/index.js'),\n  setMonth: require('./set_month/index.js'),\n  setQuarter: require('./set_quarter/index.js'),\n  setSeconds: require('./set_seconds/index.js'),\n  setYear: require('./set_year/index.js'),\n  startOfDay: require('./start_of_day/index.js'),\n  startOfHour: require('./start_of_hour/index.js'),\n  startOfISOWeek: require('./start_of_iso_week/index.js'),\n  startOfISOYear: require('./start_of_iso_year/index.js'),\n  startOfMinute: require('./start_of_minute/index.js'),\n  startOfMonth: require('./start_of_month/index.js'),\n  startOfQuarter: require('./start_of_quarter/index.js'),\n  startOfSecond: require('./start_of_second/index.js'),\n  startOfToday: require('./start_of_today/index.js'),\n  startOfTomorrow: require('./start_of_tomorrow/index.js'),\n  startOfWeek: require('./start_of_week/index.js'),\n  startOfYear: require('./start_of_year/index.js'),\n  startOfYesterday: require('./start_of_yesterday/index.js'),\n  subDays: require('./sub_days/index.js'),\n  subHours: require('./sub_hours/index.js'),\n  subISOYears: require('./sub_iso_years/index.js'),\n  subMilliseconds: require('./sub_milliseconds/index.js'),\n  subMinutes: require('./sub_minutes/index.js'),\n  subMonths: require('./sub_months/index.js'),\n  subQuarters: require('./sub_quarters/index.js'),\n  subSeconds: require('./sub_seconds/index.js'),\n  subWeeks: require('./sub_weeks/index.js'),\n  subYears: require('./sub_years/index.js')\n}\n","var parse = require('../parse/index.js')\n\n/**\n * @category Day Helpers\n * @summary Return the array of dates within the specified range.\n *\n * @description\n * Return the array of dates within the specified range.\n *\n * @param {Date|String|Number} startDate - the first date\n * @param {Date|String|Number} endDate - the last date\n * @param {Number} [step=1] - the step between each day\n * @returns {Date[]} the array with starts of days from the day of startDate to the day of endDate\n * @throws {Error} startDate cannot be after endDate\n *\n * @example\n * // Each day between 6 October 2014 and 10 October 2014:\n * var result = eachDay(\n *   new Date(2014, 9, 6),\n *   new Date(2014, 9, 10)\n * )\n * //=> [\n * //   Mon Oct 06 2014 00:00:00,\n * //   Tue Oct 07 2014 00:00:00,\n * //   Wed Oct 08 2014 00:00:00,\n * //   Thu Oct 09 2014 00:00:00,\n * //   Fri Oct 10 2014 00:00:00\n * // ]\n */\nfunction eachDay (dirtyStartDate, dirtyEndDate, dirtyStep) {\n  var startDate = parse(dirtyStartDate)\n  var endDate = parse(dirtyEndDate)\n  var step = dirtyStep !== undefined ? dirtyStep : 1\n\n  var endTime = endDate.getTime()\n\n  if (startDate.getTime() > endTime) {\n    throw new Error('The first date cannot be after the second date')\n  }\n\n  var dates = []\n\n  var currentDate = startDate\n  currentDate.setHours(0, 0, 0, 0)\n\n  while (currentDate.getTime() <= endTime) {\n    dates.push(parse(currentDate))\n    currentDate.setDate(currentDate.getDate() + step)\n  }\n\n  return dates\n}\n\nmodule.exports = eachDay\n","var parse = require('../parse/index.js')\n\n/**\n * @category Hour Helpers\n * @summary Return the end of an hour for the given date.\n *\n * @description\n * Return the end of an hour for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the end of an hour\n *\n * @example\n * // The end of an hour for 2 September 2014 11:55:00:\n * var result = endOfHour(new Date(2014, 8, 2, 11, 55))\n * //=> Tue Sep 02 2014 11:59:59.999\n */\nfunction endOfHour (dirtyDate) {\n  var date = parse(dirtyDate)\n  date.setMinutes(59, 59, 999)\n  return date\n}\n\nmodule.exports = endOfHour\n","var endOfWeek = require('../end_of_week/index.js')\n\n/**\n * @category ISO Week Helpers\n * @summary Return the end of an ISO week for the given date.\n *\n * @description\n * Return the end of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the end of an ISO week\n *\n * @example\n * // The end of an ISO week for 2 September 2014 11:55:00:\n * var result = endOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Sep 07 2014 23:59:59.999\n */\nfunction endOfISOWeek (dirtyDate) {\n  return endOfWeek(dirtyDate, {weekStartsOn: 1})\n}\n\nmodule.exports = endOfISOWeek\n","var getISOYear = require('../get_iso_year/index.js')\nvar startOfISOWeek = require('../start_of_iso_week/index.js')\n\n/**\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the end of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the end of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the end of an ISO week-numbering year\n *\n * @example\n * // The end of an ISO week-numbering year for 2 July 2005:\n * var result = endOfISOYear(new Date(2005, 6, 2))\n * //=> Sun Jan 01 2006 23:59:59.999\n */\nfunction endOfISOYear (dirtyDate) {\n  var year = getISOYear(dirtyDate)\n  var fourthOfJanuaryOfNextYear = new Date(0)\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4)\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0)\n  var date = startOfISOWeek(fourthOfJanuaryOfNextYear)\n  date.setMilliseconds(date.getMilliseconds() - 1)\n  return date\n}\n\nmodule.exports = endOfISOYear\n","var parse = require('../parse/index.js')\n\n/**\n * @category Minute Helpers\n * @summary Return the end of a minute for the given date.\n *\n * @description\n * Return the end of a minute for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the end of a minute\n *\n * @example\n * // The end of a minute for 1 December 2014 22:15:45.400:\n * var result = endOfMinute(new Date(2014, 11, 1, 22, 15, 45, 400))\n * //=> Mon Dec 01 2014 22:15:59.999\n */\nfunction endOfMinute (dirtyDate) {\n  var date = parse(dirtyDate)\n  date.setSeconds(59, 999)\n  return date\n}\n\nmodule.exports = endOfMinute\n","var parse = require('../parse/index.js')\n\n/**\n * @category Quarter Helpers\n * @summary Return the end of a year quarter for the given date.\n *\n * @description\n * Return the end of a year quarter for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the end of a quarter\n *\n * @example\n * // The end of a quarter for 2 September 2014 11:55:00:\n * var result = endOfQuarter(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nfunction endOfQuarter (dirtyDate) {\n  var date = parse(dirtyDate)\n  var currentMonth = date.getMonth()\n  var month = currentMonth - currentMonth % 3 + 3\n  date.setMonth(month, 0)\n  date.setHours(23, 59, 59, 999)\n  return date\n}\n\nmodule.exports = endOfQuarter\n","var parse = require('../parse/index.js')\n\n/**\n * @category Second Helpers\n * @summary Return the end of a second for the given date.\n *\n * @description\n * Return the end of a second for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the end of a second\n *\n * @example\n * // The end of a second for 1 December 2014 22:15:45.400:\n * var result = endOfSecond(new Date(2014, 11, 1, 22, 15, 45, 400))\n * //=> Mon Dec 01 2014 22:15:45.999\n */\nfunction endOfSecond (dirtyDate) {\n  var date = parse(dirtyDate)\n  date.setMilliseconds(999)\n  return date\n}\n\nmodule.exports = endOfSecond\n","/**\n * @category Day Helpers\n * @summary Return the end of tomorrow.\n *\n * @description\n * Return the end of tomorrow.\n *\n * @returns {Date} the end of tomorrow\n *\n * @example\n * // If today is 6 October 2014:\n * var result = endOfTomorrow()\n * //=> Tue Oct 7 2014 23:59:59.999\n */\nfunction endOfTomorrow () {\n  var now = new Date()\n  var year = now.getFullYear()\n  var month = now.getMonth()\n  var day = now.getDate()\n\n  var date = new Date(0)\n  date.setFullYear(year, month, day + 1)\n  date.setHours(23, 59, 59, 999)\n  return date\n}\n\nmodule.exports = endOfTomorrow\n","var parse = require('../parse/index.js')\n\n/**\n * @category Year Helpers\n * @summary Return the end of a year for the given date.\n *\n * @description\n * Return the end of a year for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the end of a year\n *\n * @example\n * // The end of a year for 2 September 2014 11:55:00:\n * var result = endOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Dec 31 2014 23:59:59.999\n */\nfunction endOfYear (dirtyDate) {\n  var date = parse(dirtyDate)\n  var year = date.getFullYear()\n  date.setFullYear(year + 1, 0, 0)\n  date.setHours(23, 59, 59, 999)\n  return date\n}\n\nmodule.exports = endOfYear\n","/**\n * @category Day Helpers\n * @summary Return the end of yesterday.\n *\n * @description\n * Return the end of yesterday.\n *\n * @returns {Date} the end of yesterday\n *\n * @example\n * // If today is 6 October 2014:\n * var result = endOfYesterday()\n * //=> Sun Oct 5 2014 23:59:59.999\n */\nfunction endOfYesterday () {\n  var now = new Date()\n  var year = now.getFullYear()\n  var month = now.getMonth()\n  var day = now.getDate()\n\n  var date = new Date(0)\n  date.setFullYear(year, month, day - 1)\n  date.setHours(23, 59, 59, 999)\n  return date\n}\n\nmodule.exports = endOfYesterday\n","var parse = require('../parse/index.js')\n\n/**\n * @category Day Helpers\n * @summary Get the day of the month of the given date.\n *\n * @description\n * Get the day of the month of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the day of month\n *\n * @example\n * // Which day of the month is 29 February 2012?\n * var result = getDate(new Date(2012, 1, 29))\n * //=> 29\n */\nfunction getDate (dirtyDate) {\n  var date = parse(dirtyDate)\n  var dayOfMonth = date.getDate()\n  return dayOfMonth\n}\n\nmodule.exports = getDate\n","var parse = require('../parse/index.js')\n\n/**\n * @category Weekday Helpers\n * @summary Get the day of the week of the given date.\n *\n * @description\n * Get the day of the week of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the day of week\n *\n * @example\n * // Which day of the week is 29 February 2012?\n * var result = getDay(new Date(2012, 1, 29))\n * //=> 3\n */\nfunction getDay (dirtyDate) {\n  var date = parse(dirtyDate)\n  var day = date.getDay()\n  return day\n}\n\nmodule.exports = getDay\n","var isLeapYear = require('../is_leap_year/index.js')\n\n/**\n * @category Year Helpers\n * @summary Get the number of days in a year of the given date.\n *\n * @description\n * Get the number of days in a year of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the number of days in a year\n *\n * @example\n * // How many days are in 2012?\n * var result = getDaysInYear(new Date(2012, 0, 1))\n * //=> 366\n */\nfunction getDaysInYear (dirtyDate) {\n  return isLeapYear(dirtyDate) ? 366 : 365\n}\n\nmodule.exports = getDaysInYear\n","var parse = require('../parse/index.js')\n\n/**\n * @category Hour Helpers\n * @summary Get the hours of the given date.\n *\n * @description\n * Get the hours of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the hours\n *\n * @example\n * // Get the hours of 29 February 2012 11:45:00:\n * var result = getHours(new Date(2012, 1, 29, 11, 45))\n * //=> 11\n */\nfunction getHours (dirtyDate) {\n  var date = parse(dirtyDate)\n  var hours = date.getHours()\n  return hours\n}\n\nmodule.exports = getHours\n","var parse = require('../parse/index.js')\n\n/**\n * @category Millisecond Helpers\n * @summary Get the milliseconds of the given date.\n *\n * @description\n * Get the milliseconds of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the milliseconds\n *\n * @example\n * // Get the milliseconds of 29 February 2012 11:45:05.123:\n * var result = getMilliseconds(new Date(2012, 1, 29, 11, 45, 5, 123))\n * //=> 123\n */\nfunction getMilliseconds (dirtyDate) {\n  var date = parse(dirtyDate)\n  var milliseconds = date.getMilliseconds()\n  return milliseconds\n}\n\nmodule.exports = getMilliseconds\n","var parse = require('../parse/index.js')\n\n/**\n * @category Minute Helpers\n * @summary Get the minutes of the given date.\n *\n * @description\n * Get the minutes of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the minutes\n *\n * @example\n * // Get the minutes of 29 February 2012 11:45:05:\n * var result = getMinutes(new Date(2012, 1, 29, 11, 45, 5))\n * //=> 45\n */\nfunction getMinutes (dirtyDate) {\n  var date = parse(dirtyDate)\n  var minutes = date.getMinutes()\n  return minutes\n}\n\nmodule.exports = getMinutes\n","var parse = require('../parse/index.js')\n\n/**\n * @category Month Helpers\n * @summary Get the month of the given date.\n *\n * @description\n * Get the month of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the month\n *\n * @example\n * // Which month is 29 February 2012?\n * var result = getMonth(new Date(2012, 1, 29))\n * //=> 1\n */\nfunction getMonth (dirtyDate) {\n  var date = parse(dirtyDate)\n  var month = date.getMonth()\n  return month\n}\n\nmodule.exports = getMonth\n","var parse = require('../parse/index.js')\n\nvar MILLISECONDS_IN_DAY = 24 * 60 * 60 * 1000\n\n/**\n * @category Range Helpers\n * @summary Get the number of days that overlap in two date ranges\n *\n * @description\n * Get the number of days that overlap in two date ranges\n *\n * @param {Date|String|Number} initialRangeStartDate - the start of the initial range\n * @param {Date|String|Number} initialRangeEndDate - the end of the initial range\n * @param {Date|String|Number} comparedRangeStartDate - the start of the range to compare it with\n * @param {Date|String|Number} comparedRangeEndDate - the end of the range to compare it with\n * @returns {Number} the number of days that overlap in two date ranges\n * @throws {Error} startDate of a date range cannot be after its endDate\n *\n * @example\n * // For overlapping date ranges adds 1 for each started overlapping day:\n * getOverlappingDaysInRanges(\n *   new Date(2014, 0, 10), new Date(2014, 0, 20), new Date(2014, 0, 17), new Date(2014, 0, 21)\n * )\n * //=> 3\n *\n * @example\n * // For non-overlapping date ranges returns 0:\n * getOverlappingDaysInRanges(\n *   new Date(2014, 0, 10), new Date(2014, 0, 20), new Date(2014, 0, 21), new Date(2014, 0, 22)\n * )\n * //=> 0\n */\nfunction getOverlappingDaysInRanges (dirtyInitialRangeStartDate, dirtyInitialRangeEndDate, dirtyComparedRangeStartDate, dirtyComparedRangeEndDate) {\n  var initialStartTime = parse(dirtyInitialRangeStartDate).getTime()\n  var initialEndTime = parse(dirtyInitialRangeEndDate).getTime()\n  var comparedStartTime = parse(dirtyComparedRangeStartDate).getTime()\n  var comparedEndTime = parse(dirtyComparedRangeEndDate).getTime()\n\n  if (initialStartTime > initialEndTime || comparedStartTime > comparedEndTime) {\n    throw new Error('The start of the range cannot be after the end of the range')\n  }\n\n  var isOverlapping = initialStartTime < comparedEndTime && comparedStartTime < initialEndTime\n\n  if (!isOverlapping) {\n    return 0\n  }\n\n  var overlapStartDate = comparedStartTime < initialStartTime\n    ? initialStartTime\n    : comparedStartTime\n\n  var overlapEndDate = comparedEndTime > initialEndTime\n    ? initialEndTime\n    : comparedEndTime\n\n  var differenceInMs = overlapEndDate - overlapStartDate\n\n  return Math.ceil(differenceInMs / MILLISECONDS_IN_DAY)\n}\n\nmodule.exports = getOverlappingDaysInRanges\n","var parse = require('../parse/index.js')\n\n/**\n * @category Second Helpers\n * @summary Get the seconds of the given date.\n *\n * @description\n * Get the seconds of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the seconds\n *\n * @example\n * // Get the seconds of 29 February 2012 11:45:05.123:\n * var result = getSeconds(new Date(2012, 1, 29, 11, 45, 5, 123))\n * //=> 5\n */\nfunction getSeconds (dirtyDate) {\n  var date = parse(dirtyDate)\n  var seconds = date.getSeconds()\n  return seconds\n}\n\nmodule.exports = getSeconds\n","var parse = require('../parse/index.js')\n\n/**\n * @category Timestamp Helpers\n * @summary Get the milliseconds timestamp of the given date.\n *\n * @description\n * Get the milliseconds timestamp of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the timestamp\n *\n * @example\n * // Get the timestamp of 29 February 2012 11:45:05.123:\n * var result = getTime(new Date(2012, 1, 29, 11, 45, 5, 123))\n * //=> 1330515905123\n */\nfunction getTime (dirtyDate) {\n  var date = parse(dirtyDate)\n  var timestamp = date.getTime()\n  return timestamp\n}\n\nmodule.exports = getTime\n","var parse = require('../parse/index.js')\n\n/**\n * @category Year Helpers\n * @summary Get the year of the given date.\n *\n * @description\n * Get the year of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the year\n *\n * @example\n * // Which year is 2 July 2014?\n * var result = getYear(new Date(2014, 6, 2))\n * //=> 2014\n */\nfunction getYear (dirtyDate) {\n  var date = parse(dirtyDate)\n  var year = date.getFullYear()\n  return year\n}\n\nmodule.exports = getYear\n","var parse = require('../parse/index.js')\n\n/**\n * @category Common Helpers\n * @summary Is the first date after the second one?\n *\n * @description\n * Is the first date after the second one?\n *\n * @param {Date|String|Number} date - the date that should be after the other one to return true\n * @param {Date|String|Number} dateToCompare - the date to compare with\n * @returns {Boolean} the first date is after the second date\n *\n * @example\n * // Is 10 July 1989 after 11 February 1987?\n * var result = isAfter(new Date(1989, 6, 10), new Date(1987, 1, 11))\n * //=> true\n */\nfunction isAfter (dirtyDate, dirtyDateToCompare) {\n  var date = parse(dirtyDate)\n  var dateToCompare = parse(dirtyDateToCompare)\n  return date.getTime() > dateToCompare.getTime()\n}\n\nmodule.exports = isAfter\n","var parse = require('../parse/index.js')\n\n/**\n * @category Common Helpers\n * @summary Is the first date before the second one?\n *\n * @description\n * Is the first date before the second one?\n *\n * @param {Date|String|Number} date - the date that should be before the other one to return true\n * @param {Date|String|Number} dateToCompare - the date to compare with\n * @returns {Boolean} the first date is before the second date\n *\n * @example\n * // Is 10 July 1989 before 11 February 1987?\n * var result = isBefore(new Date(1989, 6, 10), new Date(1987, 1, 11))\n * //=> false\n */\nfunction isBefore (dirtyDate, dirtyDateToCompare) {\n  var date = parse(dirtyDate)\n  var dateToCompare = parse(dirtyDateToCompare)\n  return date.getTime() < dateToCompare.getTime()\n}\n\nmodule.exports = isBefore\n","var parse = require('../parse/index.js')\n\n/**\n * @category Common Helpers\n * @summary Are the given dates equal?\n *\n * @description\n * Are the given dates equal?\n *\n * @param {Date|String|Number} dateLeft - the first date to compare\n * @param {Date|String|Number} dateRight - the second date to compare\n * @returns {Boolean} the dates are equal\n *\n * @example\n * // Are 2 July 2014 06:30:45.000 and 2 July 2014 06:30:45.500 equal?\n * var result = isEqual(\n *   new Date(2014, 6, 2, 6, 30, 45, 0)\n *   new Date(2014, 6, 2, 6, 30, 45, 500)\n * )\n * //=> false\n */\nfunction isEqual (dirtyLeftDate, dirtyRightDate) {\n  var dateLeft = parse(dirtyLeftDate)\n  var dateRight = parse(dirtyRightDate)\n  return dateLeft.getTime() === dateRight.getTime()\n}\n\nmodule.exports = isEqual\n","var parse = require('../parse/index.js')\n\n/**\n * @category Month Helpers\n * @summary Is the given date the first day of a month?\n *\n * @description\n * Is the given date the first day of a month?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is the first day of a month\n *\n * @example\n * // Is 1 September 2014 the first day of a month?\n * var result = isFirstDayOfMonth(new Date(2014, 8, 1))\n * //=> true\n */\nfunction isFirstDayOfMonth (dirtyDate) {\n  return parse(dirtyDate).getDate() === 1\n}\n\nmodule.exports = isFirstDayOfMonth\n","var parse = require('../parse/index.js')\n\n/**\n * @category Weekday Helpers\n * @summary Is the given date Friday?\n *\n * @description\n * Is the given date Friday?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is Friday\n *\n * @example\n * // Is 26 September 2014 Friday?\n * var result = isFriday(new Date(2014, 8, 26))\n * //=> true\n */\nfunction isFriday (dirtyDate) {\n  return parse(dirtyDate).getDay() === 5\n}\n\nmodule.exports = isFriday\n","var parse = require('../parse/index.js')\n\n/**\n * @category Common Helpers\n * @summary Is the given date in the future?\n *\n * @description\n * Is the given date in the future?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is in the future\n *\n * @example\n * // If today is 6 October 2014, is 31 December 2014 in the future?\n * var result = isFuture(new Date(2014, 11, 31))\n * //=> true\n */\nfunction isFuture (dirtyDate) {\n  return parse(dirtyDate).getTime() > new Date().getTime()\n}\n\nmodule.exports = isFuture\n","var parse = require('../parse/index.js')\n\n/**\n * @category Weekday Helpers\n * @summary Is the given date Monday?\n *\n * @description\n * Is the given date Monday?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is Monday\n *\n * @example\n * // Is 22 September 2014 Monday?\n * var result = isMonday(new Date(2014, 8, 22))\n * //=> true\n */\nfunction isMonday (dirtyDate) {\n  return parse(dirtyDate).getDay() === 1\n}\n\nmodule.exports = isMonday\n","var parse = require('../parse/index.js')\n\n/**\n * @category Common Helpers\n * @summary Is the given date in the past?\n *\n * @description\n * Is the given date in the past?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is in the past\n *\n * @example\n * // If today is 6 October 2014, is 2 July 2014 in the past?\n * var result = isPast(new Date(2014, 6, 2))\n * //=> true\n */\nfunction isPast (dirtyDate) {\n  return parse(dirtyDate).getTime() < new Date().getTime()\n}\n\nmodule.exports = isPast\n","var startOfDay = require('../start_of_day/index.js')\n\n/**\n * @category Day Helpers\n * @summary Are the given dates in the same day?\n *\n * @description\n * Are the given dates in the same day?\n *\n * @param {Date|String|Number} dateLeft - the first date to check\n * @param {Date|String|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same day\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * var result = isSameDay(\n *   new Date(2014, 8, 4, 6, 0),\n *   new Date(2014, 8, 4, 18, 0)\n * )\n * //=> true\n */\nfunction isSameDay (dirtyDateLeft, dirtyDateRight) {\n  var dateLeftStartOfDay = startOfDay(dirtyDateLeft)\n  var dateRightStartOfDay = startOfDay(dirtyDateRight)\n\n  return dateLeftStartOfDay.getTime() === dateRightStartOfDay.getTime()\n}\n\nmodule.exports = isSameDay\n","var parse = require('../parse/index.js')\n\n/**\n * @category Weekday Helpers\n * @summary Is the given date Saturday?\n *\n * @description\n * Is the given date Saturday?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is Saturday\n *\n * @example\n * // Is 27 September 2014 Saturday?\n * var result = isSaturday(new Date(2014, 8, 27))\n * //=> true\n */\nfunction isSaturday (dirtyDate) {\n  return parse(dirtyDate).getDay() === 6\n}\n\nmodule.exports = isSaturday\n","var parse = require('../parse/index.js')\n\n/**\n * @category Weekday Helpers\n * @summary Is the given date Sunday?\n *\n * @description\n * Is the given date Sunday?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is Sunday\n *\n * @example\n * // Is 21 September 2014 Sunday?\n * var result = isSunday(new Date(2014, 8, 21))\n * //=> true\n */\nfunction isSunday (dirtyDate) {\n  return parse(dirtyDate).getDay() === 0\n}\n\nmodule.exports = isSunday\n","var parse = require('../parse/index.js')\n\n/**\n * @category Weekday Helpers\n * @summary Is the given date Thursday?\n *\n * @description\n * Is the given date Thursday?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is Thursday\n *\n * @example\n * // Is 25 September 2014 Thursday?\n * var result = isThursday(new Date(2014, 8, 25))\n * //=> true\n */\nfunction isThursday (dirtyDate) {\n  return parse(dirtyDate).getDay() === 4\n}\n\nmodule.exports = isThursday\n","var startOfDay = require('../start_of_day/index.js')\n\n/**\n * @category Day Helpers\n * @summary Is the given date today?\n *\n * @description\n * Is the given date today?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is today\n *\n * @example\n * // If today is 6 October 2014, is 6 October 14:00:00 today?\n * var result = isToday(new Date(2014, 9, 6, 14, 0))\n * //=> true\n */\nfunction isToday (dirtyDate) {\n  return startOfDay(dirtyDate).getTime() === startOfDay(new Date()).getTime()\n}\n\nmodule.exports = isToday\n","var startOfDay = require('../start_of_day/index.js')\n\n/**\n * @category Day Helpers\n * @summary Is the given date tomorrow?\n *\n * @description\n * Is the given date tomorrow?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is tomorrow\n *\n * @example\n * // If today is 6 October 2014, is 7 October 14:00:00 tomorrow?\n * var result = isTomorrow(new Date(2014, 9, 7, 14, 0))\n * //=> true\n */\nfunction isTomorrow (dirtyDate) {\n  var tomorrow = new Date()\n  tomorrow.setDate(tomorrow.getDate() + 1)\n  return startOfDay(dirtyDate).getTime() === startOfDay(tomorrow).getTime()\n}\n\nmodule.exports = isTomorrow\n","var parse = require('../parse/index.js')\n\n/**\n * @category Weekday Helpers\n * @summary Is the given date Tuesday?\n *\n * @description\n * Is the given date Tuesday?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is Tuesday\n *\n * @example\n * // Is 23 September 2014 Tuesday?\n * var result = isTuesday(new Date(2014, 8, 23))\n * //=> true\n */\nfunction isTuesday (dirtyDate) {\n  return parse(dirtyDate).getDay() === 2\n}\n\nmodule.exports = isTuesday\n","var parse = require('../parse/index.js')\n\n/**\n * @category Weekday Helpers\n * @summary Is the given date Wednesday?\n *\n * @description\n * Is the given date Wednesday?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is Wednesday\n *\n * @example\n * // Is 24 September 2014 Wednesday?\n * var result = isWednesday(new Date(2014, 8, 24))\n * //=> true\n */\nfunction isWednesday (dirtyDate) {\n  return parse(dirtyDate).getDay() === 3\n}\n\nmodule.exports = isWednesday\n","var parse = require('../parse/index.js')\n\n/**\n * @category Weekday Helpers\n * @summary Does the given date fall on a weekend?\n *\n * @description\n * Does the given date fall on a weekend?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date falls on a weekend\n *\n * @example\n * // Does 5 October 2014 fall on a weekend?\n * var result = isWeekend(new Date(2014, 9, 5))\n * //=> true\n */\nfunction isWeekend (dirtyDate) {\n  var date = parse(dirtyDate)\n  var day = date.getDay()\n  return day === 0 || day === 6\n}\n\nmodule.exports = isWeekend\n","var parse = require('../parse/index.js')\n\n/**\n * @category Range Helpers\n * @summary Is the given date within the range?\n *\n * @description\n * Is the given date within the range?\n *\n * @param {Date|String|Number} date - the date to check\n * @param {Date|String|Number} startDate - the start of range\n * @param {Date|String|Number} endDate - the end of range\n * @returns {Boolean} the date is within the range\n * @throws {Error} startDate cannot be after endDate\n *\n * @example\n * // For the date within the range:\n * isWithinRange(\n *   new Date(2014, 0, 3), new Date(2014, 0, 1), new Date(2014, 0, 7)\n * )\n * //=> true\n *\n * @example\n * // For the date outside of the range:\n * isWithinRange(\n *   new Date(2014, 0, 10), new Date(2014, 0, 1), new Date(2014, 0, 7)\n * )\n * //=> false\n */\nfunction isWithinRange (dirtyDate, dirtyStartDate, dirtyEndDate) {\n  var time = parse(dirtyDate).getTime()\n  var startTime = parse(dirtyStartDate).getTime()\n  var endTime = parse(dirtyEndDate).getTime()\n\n  if (startTime > endTime) {\n    throw new Error('The start of the range cannot be after the end of the range')\n  }\n\n  return time >= startTime && time <= endTime\n}\n\nmodule.exports = isWithinRange\n","var startOfDay = require('../start_of_day/index.js')\n\n/**\n * @category Day Helpers\n * @summary Is the given date yesterday?\n *\n * @description\n * Is the given date yesterday?\n *\n * @param {Date|String|Number} date - the date to check\n * @returns {Boolean} the date is yesterday\n *\n * @example\n * // If today is 6 October 2014, is 5 October 14:00:00 yesterday?\n * var result = isYesterday(new Date(2014, 9, 5, 14, 0))\n * //=> true\n */\nfunction isYesterday (dirtyDate) {\n  var yesterday = new Date()\n  yesterday.setDate(yesterday.getDate() - 1)\n  return startOfDay(dirtyDate).getTime() === startOfDay(yesterday).getTime()\n}\n\nmodule.exports = isYesterday\n","var lastDayOfWeek = require('../last_day_of_week/index.js')\n\n/**\n * @category ISO Week Helpers\n * @summary Return the last day of an ISO week for the given date.\n *\n * @description\n * Return the last day of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the last day of an ISO week\n *\n * @example\n * // The last day of an ISO week for 2 September 2014 11:55:00:\n * var result = lastDayOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Sep 07 2014 00:00:00\n */\nfunction lastDayOfISOWeek (dirtyDate) {\n  return lastDayOfWeek(dirtyDate, {weekStartsOn: 1})\n}\n\nmodule.exports = lastDayOfISOWeek\n","var parse = require('../parse/index.js')\n\n/**\n * @category Month Helpers\n * @summary Return the last day of a month for the given date.\n *\n * @description\n * Return the last day of a month for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the last day of a month\n *\n * @example\n * // The last day of a month for 2 September 2014 11:55:00:\n * var result = lastDayOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 00:00:00\n */\nfunction lastDayOfMonth (dirtyDate) {\n  var date = parse(dirtyDate)\n  var month = date.getMonth()\n  date.setFullYear(date.getFullYear(), month + 1, 0)\n  date.setHours(0, 0, 0, 0)\n  return date\n}\n\nmodule.exports = lastDayOfMonth\n","var parse = require('../parse/index.js')\n\n/**\n * @category Quarter Helpers\n * @summary Return the last day of a year quarter for the given date.\n *\n * @description\n * Return the last day of a year quarter for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the last day of a quarter\n *\n * @example\n * // The last day of a quarter for 2 September 2014 11:55:00:\n * var result = lastDayOfQuarter(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 00:00:00\n */\nfunction lastDayOfQuarter (dirtyDate) {\n  var date = parse(dirtyDate)\n  var currentMonth = date.getMonth()\n  var month = currentMonth - currentMonth % 3 + 3\n  date.setMonth(month, 0)\n  date.setHours(0, 0, 0, 0)\n  return date\n}\n\nmodule.exports = lastDayOfQuarter\n","var parse = require('../parse/index.js')\n\n/**\n * @category Year Helpers\n * @summary Return the last day of a year for the given date.\n *\n * @description\n * Return the last day of a year for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|String|Number} date - the original date\n * @returns {Date} the last day of a year\n *\n * @example\n * // The last day of a year for 2 September 2014 11:55:00:\n * var result = lastDayOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Dec 31 2014 00:00:00\n */\nfunction lastDayOfYear (dirtyDate) {\n  var date = parse(dirtyDate)\n  var year = date.getFullYear()\n  date.setFullYear(year + 1, 0, 0)\n  date.setHours(0, 0, 0, 0)\n  return date\n}\n\nmodule.exports = lastDayOfYear\n","var parse = require('../parse/index.js')\n\n/**\n * @category Common Helpers\n * @summary Return the latest of the given dates.\n *\n * @description\n * Return the latest of the given dates.\n *\n * @param {...(Date|String|Number)} dates - the dates to compare\n * @returns {Date} the latest of the dates\n *\n * @example\n * // Which of these dates is the latest?\n * var result = max(\n *   new Date(1989, 6, 10),\n *   new Date(1987, 1, 11),\n *   new Date(1995, 6, 2),\n *   new Date(1990, 0, 1)\n * )\n * //=> Sun Jul 02 1995 00:00:00\n */\nfunction max () {\n  var dirtyDates = Array.prototype.slice.call(arguments)\n  var dates = dirtyDates.map(function (dirtyDate) {\n    return parse(dirtyDate)\n  })\n  var latestTimestamp = Math.max.apply(null, dates)\n  return new Date(latestTimestamp)\n}\n\nmodule.exports = max\n","var parse = require('../parse/index.js')\n\n/**\n * @category Common Helpers\n * @summary Return the earliest of the given dates.\n *\n * @description\n * Return the earliest of the given dates.\n *\n * @param {...(Date|String|Number)} dates - the dates to compare\n * @returns {Date} the earliest of the dates\n *\n * @example\n * // Which of these dates is the earliest?\n * var result = min(\n *   new Date(1989, 6, 10),\n *   new Date(1987, 1, 11),\n *   new Date(1995, 6, 2),\n *   new Date(1990, 0, 1)\n * )\n * //=> Wed Feb 11 1987 00:00:00\n */\nfunction min () {\n  var dirtyDates = Array.prototype.slice.call(arguments)\n  var dates = dirtyDates.map(function (dirtyDate) {\n    return parse(dirtyDate)\n  })\n  var earliestTimestamp = Math.min.apply(null, dates)\n  return new Date(earliestTimestamp)\n}\n\nmodule.exports = min\n","/**\n * @category Day Helpers\n * @summary Return the start of tomorrow.\n *\n * @description\n * Return the start of tomorrow.\n *\n * @returns {Date} the start of tomorrow\n *\n * @example\n * // If today is 6 October 2014:\n * var result = startOfTomorrow()\n * //=> Tue Oct 7 2014 00:00:00\n */\nfunction startOfTomorrow () {\n  var now = new Date()\n  var year = now.getFullYear()\n  var month = now.getMonth()\n  var day = now.getDate()\n\n  var date = new Date(0)\n  date.setFullYear(year, month, day + 1)\n  date.setHours(0, 0, 0, 0)\n  return date\n}\n\nmodule.exports = startOfTomorrow\n","/**\n * @category Day Helpers\n * @summary Return the start of yesterday.\n *\n * @description\n * Return the start of yesterday.\n *\n * @returns {Date} the start of yesterday\n *\n * @example\n * // If today is 6 October 2014:\n * var result = startOfYesterday()\n * //=> Sun Oct 5 2014 00:00:00\n */\nfunction startOfYesterday () {\n  var now = new Date()\n  var year = now.getFullYear()\n  var month = now.getMonth()\n  var day = now.getDate()\n\n  var date = new Date(0)\n  date.setFullYear(year, month, day - 1)\n  date.setHours(0, 0, 0, 0)\n  return date\n}\n\nmodule.exports = startOfYesterday\n","import m from 'mithril'\nimport stream from 'mithril-stream'\nimport {\n  addDays, subDays, differenceInDays, format\n} from 'date-fns'\n\nconst availableDatasets = stream([])\nconst activeDataset = stream()\n\nconst localStorageKey = 'nasastats::datasets'\n\navailableDatasets((localStorage[localStorageKey] && JSON.parse(localStorage[localStorageKey])) || [])\navailableDatasets.map((allDatasets) => {\n  if (allDatasets.length) {\n    localStorage[localStorageKey] = JSON.stringify(allDatasets)\n  }\n})\n\nconst loadDataset = (start, end, apiKey) => {\n  const requests     = []\n  const requestDates = []\n  const weeksBetween = Math.floor(differenceInDays(end, start) / 7)\n  const remainder    = differenceInDays(end, start) % 7\n\n  Array.from({ length : weeksBetween } , (x, i) => i)\n    .map((week) => requestDates.push([addDays(start, week * 7)]))\n\n  requestDates.push([subDays(end, remainder), end])\n\n  requestDates.map((dates) =>\n    requests.push(\n      m.request('https://api.nasa.gov/neo/rest/v1/feed', {\n        data : {\n          start_date : format(dates[0], 'YYYY-MM-DD'),\n          end_date   : dates[1] && format(dates[1], 'YYYY-MM-DD'),\n          api_key    : apiKey || 'DEMO_KEY'\n        }\n      })\n    )\n  )\n\n  return Promise.all(requests)\n    .then((results) => {\n      const merged = Object.assign.apply({}, results.map((result) => result.near_earth_objects))\n      availableDatasets(availableDatasets().concat({\n        start : format(start, 'YYYY-MM-DD'),\n        end   : format(end, 'YYYY-MM-DD'), \n        data  : { near_earth_objects : merged }\n      }))\n    })\n}\n\nconst setActiveDataset = (dataset) => activeDataset(dataset)\n\nexport { activeDataset, availableDatasets, loadDataset, setActiveDataset }\n","export const processNeoDataset = (dataset) => {\n  let onlyDatasetNeos = [].concat.apply([], Object.values(dataset.near_earth_objects))\n\n  return onlyDatasetNeos.reduce((acc, neo) => {\n    neo.min_close_approach_km = neo.close_approach_data.reduce((comp, approach) => {\n      return Math.min(comp, Number(approach.miss_distance.kilometers))\n    }, Number.POSITIVE_INFINITY)\n\n    if (neo.min_close_approach_km < (acc[0].min_close_approach_km || Number.POSITIVE_INFINITY)) {\n      acc[0] = neo\n    }\n    \n    acc[1].push(neo.absolute_magnitude_h)\n    \n    if (neo.is_potentially_hazardous_asteroid) {\n      acc[2].push(neo.absolute_magnitude_h)\n    }\n\n    return acc\n  }, [{}, [], []])\n}\n","export const getMedian = (array) => array.sort()[(Math.floor(array.length / 2) - 1)]\n\nexport const getMean = (array) => array.reduce((a, b) => a + b) / array.length\n","import m from 'mithril'\nimport stream from 'mithril-stream'\nimport { addDays } from 'date-fns'\nimport DatePicker from 'mithril-datepicker'\n\nconst apiKeyStorage = 'nasastats::apiKey'\nconst startDateKey = 'nasastats::startDate'\nconst endDateKey = 'nasastats::endDate'\n\nexport const Home = ({ attrs : { availableDatasets, loadDataset, setActiveDataset } }) => {\n\n  let startDate, endDate, apiKey, error\n\n  apiKey    = localStorage[apiKeyStorage] || ''\n  startDate = localStorage[startDateKey] ? new Date(localStorage[startDateKey]) : new Date()\n  endDate   = localStorage[endDateKey]   ? new Date(localStorage[endDateKey])   : new Date()\n\n  return {\n    onremove : () => {\n      localStorage[apiKeyStorage] = apiKey\n      localStorage[endDateKey]    = endDate.toJSON()\n      localStorage[startDateKey]  = startDate.toJSON()\n    },\n\n    view : () => \n      m('.c', \n        m('.row', \n          m('h2', 'Nasastats - NEO API')\n        ),\n        m('.card',\n          m('p', 'Enter your API key here to increase the available requests'),\n          m('b', { style : 'margin-right: 1em'}, 'API key'),\n          m('input.w-100', {\n            value : apiKey,\n            oninput : (e) => {\n              apiKey = e.target.value\n              localStorage[apiKeyStorage] = apiKey\n            }\n          }),\n        ),\n        m('.card',\n          m('p', 'Select an interval to load data for'),\n          m('.row',\n            m('.6.col',\n              m('', 'Start'),\n              m(DatePicker, {\n                date     : startDate,\n                onchange : (chosen) => startDate = chosen\n              }),\n            ),\n            m('.6.col',\n              m('', 'End'),\n              m(DatePicker, {\n                date     : endDate,\n                onchange : (chosen) => endDate = chosen\n              }),\n            )\n          ),\n          m('br'),\n          m('button.btn', {\n            onclick : () => {\n              error = null\n              const endDateParam = startDate < endDate ? endDate : addDays(new Date(startDate.valueOf), 7) // use 7 days as it is API default end date\n              loadDataset(startDate, endDateParam, apiKey)\n                .catch((err) => {\n                  error = err\n                  m.redraw()\n                })\n            }\n          }, 'Load dataset'),\n          error && [\n            m('', 'An error has ocurred loading the requested dataset:'),\n            m('pre', error.stack ? error.stack : error)\n          ],\n        ),\n        m('.card',\n          availableDatasets() && availableDatasets().length \n            ? [\n                m('h4', 'Datasets:'),\n                m('p', 'Click a dataset to explore the information'),\n                availableDatasets().map((dataset) => \n                  m('', \n                    m('a[href=/explore]', { \n                      onclick : () => {\n                        setActiveDataset(dataset)\n                        m.route.set('/explore')\n                        return false\n                      }\n                    }, `Dataset ${ dataset.start } - ${ dataset.end }`)\n                  )\n                ) \n              ]\n            : m('p', 'No datasets available, request some data from NASA API')\n        ),\n      )\n  }\n}\n","var m = require('mithril');\r\n\r\nfunction renderCollapsed(propStr, isArray, pathStr, statusLookup) {\r\n  return m('div', [\r\n    '' + propStr + (isArray ? '[' : '{'),\r\n    m('button', {\r\n      onclick: function () { statusLookup[pathStr] = false; },\r\n    }, '...'),\r\n    (isArray ? ']' : '}'),\r\n  ]);\r\n}\r\n\r\nfunction renderExpanded(propStr, tree, paths, isArray, pathStr, statusLookup, collapseAfter) {\r\n  var divs = [];\r\n  divs.push('' + propStr + (isArray ? '[' : '{'));\r\n  divs.push(\r\n    m('button', {\r\n      onclick: function () { statusLookup[pathStr] = true; },\r\n    }, '-')\r\n  );\r\n  for (var key in tree) {\r\n    if (!tree.hasOwnProperty(key)) continue;\r\n    var child = tree[key];\r\n    var newpath = paths.slice();\r\n    newpath.push(key);\r\n    divs.push(renderTree(key, child, newpath, statusLookup, collapseAfter));\r\n  }\r\n  divs.push((isArray ? ']' : '}'));\r\n  return m('div', divs);\r\n}\r\n\r\nfunction renderTree(prop, tree, paths, statusLookup, collapseAfter) {\r\n  var propStr = prop == null ? '' : prop + ':';\r\n  var pathStr = JSON.stringify(paths);\r\n  var collapsed = statusLookup[pathStr];\r\n  if (collapsed == null) {\r\n    if (paths.length > collapseAfter) collapsed = true;\r\n    else collapsed = false;\r\n  }\r\n  if (tree != null && tree instanceof Array) {\r\n    if (collapsed) return renderCollapsed(propStr, true, pathStr, statusLookup);\r\n    else return renderExpanded(propStr, tree, paths, true, pathStr, statusLookup, collapseAfter);\r\n  }\r\n  if (tree != null && typeof tree === 'object') {\r\n    if (collapsed) return renderCollapsed(propStr, false, pathStr, statusLookup);\r\n    else return renderExpanded(propStr, tree, paths, false, pathStr, statusLookup, collapseAfter);\r\n  }\r\n  return m('div', propStr + JSON.stringify(tree));\r\n}\r\n\r\nmodule.exports = function JsonViewer(initialVnode) {\r\n  var attrs = initialVnode.attrs;\r\n  var tree = attrs.tree;\r\n  var options = attrs.options || {};\r\n  var statusLookup = {};\r\n\r\n  return {\r\n    view: function(vnode) {\r\n      return renderTree(null, tree, [], statusLookup, options.collapseAfter);\r\n    }\r\n  };\r\n};\r\n\r\n","import m from 'mithril'\nimport JsonViewer from 'mithril-json-viewer'\n\nexport const Explore = ({ attrs : { dataset, processDataset, getMedian, getMean }}) => {\n\n  let loading = true\n  let closest, median, mean, error\n\n  if (!dataset) {\n    m.route.set('/')\n  }\n\n  setTimeout(() => {\n    try {\n      let [closestObject, allAbsoluteMagnitudes, dangerousAbsoluteMagnitudes] = processDataset(dataset.data)\n      closest = closestObject\n      median = getMedian(allAbsoluteMagnitudes)\n      mean = getMean(dangerousAbsoluteMagnitudes)\n    } catch (e) {\n      console.error(e)\n      error = e\n    }\n    loading = false\n    m.redraw()\n  }, 0)\n  \n  return {\n    view : () => \n      m('.c',\n        m('a[href=/]', { oncreate: m.route.link }, '< Back'),\n        m('.card', \n            loading \n              ? m('h4', '... processing')\n              : error \n                ? m('.row', \n                    m('h4', 'An error has ocurred processing the dataset:'),\n                    m('pre', error.stack)\n                  )\n                : [\n                    m('.row', \n                      m('h3', `Dataset ${ dataset.start } - ${ dataset.end }`),\n                    ),\n                    m('.row', \n                      m('h4', 'Dataset calculations for Absolute Magnitude:'),\n                      m('',  m('b', 'median of all asteroids'), ` ${ median }`),\n                      m('',  m('b', 'mean of potentially hazardous asteroids'), ` ${ mean }`)\n                    ),\n                    m('.row',\n                      m('h4', 'Asteroid passing earth closest in dataset: ', m('a', { href : closest.nasa_jpl_url }, closest.name)),\n                      m('', `Passby distance ${ closest.min_close_approach_km } km`),\n                      m('.card',\n                        m('h4', 'Full data on closest passing asteroid in dataset:'),\n                        m('.json-tree', { style : 'font-family: Courier; font-size: 0.8em;' },\n                          m(JsonViewer, { tree: closest, options: { collapseAfter: 1 } })\n                        )\n                      )\n                    ),\n                    m('.row',\n                      m('h4', 'Full dataset:'),\n                      m('.card', \n                        m('.json-tree', { style : 'font-family: Courier; font-size: 0.8em;' }, \n                          m(JsonViewer, { tree: dataset, options: { collapseAfter: 1 } })\n                        )\n                      )\n                    )\n                ]\n          )\n        )\n  }\n}\n","import m from 'mithril'\nimport DatePicker from 'mithril-datepicker'\n\nimport { \n  activeDataset,\n  availableDatasets,\n  loadDataset,\n  setActiveDataset\n} from './domain/'\n\nimport { processNeoDataset } from './domain/process.js'\nimport { getMean, getMedian } from './domain/util.js'\n\nimport { Home } from './ui/home.js'\nimport { Explore } from './ui/explore.js'\n\nactiveDataset.map(m.redraw)\navailableDatasets.map(m.redraw)\n\nDatePicker.localize({ weekStart: 1 }) // set week start to Monday\n\nm.route(document.body, '/', {\n  '/'        : { view : () => m(Home, { availableDatasets, loadDataset, setActiveDataset }) },\n  '/explore' : { view : () => m(Explore, { dataset : activeDataset(), getMedian, getMean, processDataset : processNeoDataset }) } \n})\n"],"names":["Vnode","tag","key","attrs0","children","text","dom","attrs","domSize","undefined","state","_state","events","instance","skip","normalize","node","Array","isArray","normalizeChildren","i","length","selectorParser","selectorCache","hasOwn","hasOwnProperty","isEmpty","object","call","hyperscript","selector","arguments","start","view","Error","cached","match","classes","exec","type","value","id","push","attrValue","replace","className","join","compileSelector","normalized","childList","hasAttrs","class","newAttrs","execSelector","trust","html","fragment","attrs1","m","PromisePolyfill","executor","this","TypeError","self","resolvers","rejectors","resolveCurrent","handler","rejectCurrent","_instance","callAsync","setImmediate","setTimeout","list","shouldAbsorb","execute","then","console","error","retry","executeOnce","bind","e","runs","run","fn","onerror","prototype","onFulfilled","onRejection","resolveNext","rejectNext","handle","callback","next","promise","resolve","reject","catch","all","total","count","values","consume","race","window","Promise","global","buildQueryString","Object","toString","args","key0","destructure","encodeURIComponent","FILE_PROTOCOL_REGEX","RegExp","requestService","$window","oncompletion","callbackCount","finalizer","complete","finalize","promise0","then0","apply","extra","url","interpolate","data","tokens","slice","assemble","querystring","prefix","indexOf","deserialize","JSON","parse","extract","xhr","responseText","cast","type0","request","method","toUpperCase","useBody","serialize","FormData","stringify","XMLHttpRequest","aborted","_abort","abort","open","async","user","password","headers","setRequestHeader","withCredentials","config","onreadystatechange","readyState","response","status","test","send","background","jsonp","callbackName","Math","round","random","script","document","createElement","parentNode","removeChild","callbackKey","src","documentElement","appendChild","setCompletionCallback","_8","coreRenderer","onevent","$doc","$emptyFragment","createDocumentFragment","nameSpace","svg","math","getNameSpace","vnode","xmlns","createNodes","parent","vnodes","end","hooks","nextSibling","ns","createNode","initComponent","element","insertNode","createComponent","initLifecycle","createTextNode","createHTML","firstChild","childNodes","createFragment","attrs2","is","createElementNS","key2","setAttr","setAttrs","contenteditable","setContentEditable","textContent","selectedIndex","parent1","caption","thead","tbody","tfoot","tr","th","td","colgroup","col","temp","innerHTML","child","sentinel","create","$$reentrantLock$$","updateNodes","old","recycling","removeNodes","isUnkeyed","getNextSibling","updateNode","pool","abs","oldChildrenLength","poolChildrenLength","vnodesChildrenLength","isRecyclable","concat","map","oldStart","oldEnd","o","v","shouldRecycle","toFragment","getKeyMap","oldIndex","movable","oldTag","forceVnodeUpdate","forceComponentUpdate","onbeforeupdate","shouldNotUpdate","updateLifecycle","nodeValue","updateText","updateFragment","isLifecycleMethod","removeAttribute","updateEvent","updateAttrs","updateElement","removeNode","updateComponent","count0","insertBefore","content","context","result","expected","called","onbeforeremove","continuation","onremove","removeNodeFromDOM","source","oncreate","onupdate","attr","activeElement","nsLastIndex","substr","setAttributeNS","style","cssText","updateStyle","normalized0","setAttribute","eventName","removeEventListener","addEventListener","oninit","render","active","namespace","namespaceURI","focus","setEventCallback","redrawService","renderService","redraw","callbacks","unsubscribe","key1","index","splice","subscribe","last","pending","timeout","requestAnimationFrame","now","Date","_11","redrawService0","mount","root","component","render1","attrs3","currentPath","lastUpdate","routeService","route","parseQueryString","string","charAt","entries","split","data0","counters","entry","key5","decodeURIComponent","levels","cursor","pop","j","level","nextLevel","isNumber","isNaN","parseInt","isValue","coreRouter","asyncId","supportsPushState","history","pushState","callAsync0","normalize1","fragment0","location","parsePath","path","queryData","hashData","queryIndex","hashIndex","pathEnd","queryEnd","queryParams","key4","hashParams","router","getPath","setPath","options","match2","token","query","hash","title","onpopstate","replaceState","href","defineRoutes","routes","resolveRoute","params","pathname","k","route0","matcher","keys","callback0","onhashchange","defaultRoute","run1","bail","payload","update","routeResolver","comp","onmatch","resolved","set","get","prefix0","link","vnode1","onclick","ctrlKey","metaKey","shiftKey","which","preventDefault","getAttribute","param","key3","withAttr","attrName","callback1","currentTarget","_28","version","module","require$$0","days","months","prevNextTitles","weekStart","locale","formatOptions","dismissAndCommit","props","onchange","date","prevNext","delta","newDate","setMonth","getMonth","setFullYear","getFullYear","pushToLastDay","lastDateInMonth","month","year","over","under","obj","oldDate","getDate","sanitizeLocaleDateString","str","stringsForLocale","_months","_days","toLocaleDateString","weekday","setDate","classForBox","a","b","Header","theseMonths","MonthView","prevDates","firstDay","getDay","array","lastDate","daysFromLastMonth","theseDates","max","daysFromThisMonth","nextDates","prev","these","mod","n","daysFromNextMonth","theseWeekdays","_","idx","len","day","substring","box","selectedDate","dateObj","target","classList","contains","YearView","DecadeView","decade","yearsForDecade","Editor","add","remove","done","DatePicker","localize","loc","strings","setHours","displayText","guid","HALT","createStream","stream","updateStream","constructor","derive","recover","deps","parents","endStream","unregister","ap","valueOf","toJSON","defineProperties","unregisterStream","updateState","updateDependency","changed","mustSync","every","some","combine","streams","valid","dep","filter","notEnded","registerDependency","dependent","s1","s2","merge","s","scan","reducer","seed","newStream","scanMerge","tuples","tuple","forEach","dirtyDate","getTime","baseTimezoneOffset","getTimezoneOffset","setSeconds","argument","MILLISECONDS_IN_HOUR","MILLISECONDS_IN_MINUTE","parseTokenDateTimeDelimeter","parseTokenPlainTime","parseTokenYY","parseTokensYYY","parseTokenYYYY","parseTokensYYYYY","parseTokenMM","parseTokenDDD","parseTokenMMDD","parseTokenWww","parseTokenWwwD","parseTokenHH","parseTokenHHMM","parseTokenHHMMSS","parseTokenTimezone","parseTokenTimezoneZ","parseTokenTimezoneHH","parseTokenTimezoneHHMM","dayOfISOYear","isoYear","week","setUTCFullYear","diff","getUTCDay","setUTCDate","getUTCDate","dirtyOptions","isDate","additionalDigits","Number","dateStrings","dateString","timeString","time","timezone","splitDateString","parseYearResult","parseTokenYYY","parseTokenYYYYY","yearString","restDateString","centuryString","parseYear","dayOfYear","dayOfWeek","parseDate","offset","timestamp","hours","minutes","parseFloat","seconds","parseTime","timezoneString","absoluteOffset","fullTime","fullTimeDate","getTimezoneOffsetInMilliseconds","fullTimeDateNextDay","offsetDiff","dirtyAmount","amount","addMilliseconds","weekStartsOn","startOfWeek","fourthOfJanuaryOfNextYear","startOfNextYear","startOfISOWeek","fourthOfJanuaryOfThisYear","startOfThisYear","getISOYear","fourthOfJanuary","dirtyDateLeft","dirtyDateRight","startOfDayLeft","startOfDay","startOfDayRight","timestampLeft","timestampRight","dirtyISOYear","differenceInCalendarDays","startOfISOYear","setISOYear","monthIndex","lastDayOfMonth","desiredMonth","dateWithDesiredMonth","daysInMonth","getDaysInMonth","min","addMonths","addDays","dirtyInitialRangeStartDate","dirtyInitialRangeEndDate","dirtyComparedRangeStartDate","dirtyComparedRangeEndDate","initialStartTime","initialEndTime","comparedStartTime","comparedEndTime","dirtyDateToCompare","dirtyDatesArray","minDistance","timeToCompare","currentDate","distance","timeLeft","timeRight","startOfISOWeekLeft","startOfISOWeekRight","dateLeft","dateRight","floor","getQuarter","startOfWeekLeft","startOfWeekRight","sign","compareAsc","difference","differenceInMilliseconds","ceil","addISOYears","differenceInCalendarISOYears","subISOYears","differenceInCalendarMonths","differenceInMonths","differenceInDays","differenceInCalendarYears","commonFormatterKeys","formatters","formatterKeys","formattingTokens","sort","reverse","months3char","monthsFull","weekdays2char","weekdays3char","weekdaysFull","meridiemUppercase","meridiemLowercase","meridiemFull","MMM","MMMM","dd","ddd","dddd","A","getHours","aa","formatterToken","number","rem100","ordinal","formattingTokensRegExp","buildFormattingTokensRegExp","distanceInWords","distanceInWordsLocale","lessThanXSeconds","one","other","xSeconds","halfAMinute","lessThanXMinutes","xMinutes","aboutXHours","xHours","xDays","aboutXMonths","xMonths","aboutXYears","xYears","overXYears","almostXYears","addSuffix","comparison","buildDistanceInWordsLocale","format","buildFormatLocale","compareDesc","enLocale","localizeOptions","Boolean","differenceInSeconds","includeSeconds","monthsSinceStartOfYear","years","unit","mathPartial","partialMethod","String","endOfDay","cleanDate","startOfYear","M","MM","addLeadingZeros","Q","D","DD","DDD","getDayOfYear","DDDD","d","E","W","getISOWeek","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","Z","formatTimezone","ZZ","X","x","delimeter","absOffset","targetLength","output","thisYear","addWeeks","endOfMonth","setMinutes","dateLeftStartOfHour","startOfHour","dateRightStartOfHour","dateLeftStartOfWeek","dateRightStartOfWeek","isSameWeek","dateLeftStartOfYear","dateRightStartOfYear","dateLeftStartOfMinute","startOfMinute","dateRightStartOfMinute","currentMonth","dateLeftStartOfQuarter","startOfQuarter","dateRightStartOfQuarter","setMilliseconds","dateLeftStartOfSecond","startOfSecond","dateRightStartOfSecond","isSameHour","isSameISOWeek","isSameISOYear","isSameMinute","isSameMonth","isSameQuarter","isSameSecond","isSameYear","dirtyDayOfMonth","dayOfMonth","dirtyDay","currentDay","dirtyDayOfYear","dirtyHours","getISODay","dirtyISOWeek","isoWeek","dirtyMilliseconds","milliseconds","dirtyMinutes","dirtyMonth","dirtyQuarter","dirtySeconds","dirtyYear","addHours","addMinutes","addQuarters","addSeconds","addYears","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","areRangesOverlapping","require$$10","closestIndexTo","require$$11","closestTo","require$$12","require$$13","require$$14","require$$15","differenceInCalendarISOWeeks","require$$16","require$$17","require$$18","differenceInCalendarQuarters","require$$19","differenceInCalendarWeeks","require$$20","require$$21","require$$22","differenceInHours","require$$23","differenceInISOYears","require$$24","require$$25","differenceInMinutes","require$$26","require$$27","differenceInQuarters","require$$28","require$$29","differenceInWeeks","require$$30","differenceInYears","require$$31","require$$32","distanceInWordsStrict","require$$33","distanceInWordsToNow","require$$34","eachDay","dirtyStartDate","dirtyEndDate","dirtyStep","startDate","step","endTime","dates","require$$36","endOfHour","endOfISOWeek","endOfWeek","endOfISOYear","endOfMinute","require$$41","endOfQuarter","endOfSecond","endOfToday","require$$44","endOfTomorrow","require$$46","endOfYear","endOfYesterday","dirtyFormatStr","formatStr","localeFormatters","isValid","formatter","input","Function","buildFormatFn","formatFn","require$$52","require$$53","getDaysInYear","isLeapYear","require$$56","require$$57","getISOWeeksInYear","require$$58","require$$59","getOverlappingDaysInRanges","differenceInMs","require$$64","getYear","isAfter","dateToCompare","isBefore","require$$70","isEqual","dirtyLeftDate","dirtyRightDate","isFirstDayOfMonth","isFriday","isFuture","isLastDayOfMonth","require$$75","require$$76","isMonday","isPast","isSameDay","dateLeftStartOfDay","dateRightStartOfDay","require$$80","require$$81","require$$82","require$$83","require$$84","require$$85","require$$86","require$$87","require$$88","isSaturday","isSunday","isThisHour","require$$91","isThisISOWeek","require$$92","isThisISOYear","require$$93","isThisMinute","require$$94","isThisMonth","require$$95","isThisQuarter","require$$96","isThisSecond","require$$97","isThisWeek","require$$98","isThisYear","require$$99","isThursday","isToday","isTomorrow","tomorrow","isTuesday","require$$104","isWednesday","isWeekend","isWithinRange","startTime","isYesterday","yesterday","lastDayOfISOWeek","lastDayOfWeek","lastDayOfISOYear","require$$110","lastDayOfQuarter","require$$113","lastDayOfYear","latestTimestamp","earliestTimestamp","require$$117","require$$118","setDay","require$$119","setDayOfYear","require$$120","require$$121","setISODay","require$$122","setISOWeek","require$$123","require$$124","require$$125","require$$126","require$$127","setQuarter","require$$128","require$$129","setYear","require$$130","require$$131","require$$132","require$$133","require$$134","require$$135","startOfMonth","require$$136","require$$137","require$$138","startOfToday","require$$139","startOfTomorrow","require$$141","require$$142","startOfYesterday","subDays","require$$144","subHours","require$$145","require$$146","subMilliseconds","require$$147","subMinutes","require$$148","subMonths","require$$149","subQuarters","require$$150","subSeconds","require$$151","subWeeks","require$$152","subYears","require$$153","availableDatasets","activeDataset","localStorageKey","localStorage","allDatasets","const","loadDataset","apiKey","requests","requestDates","weeksBetween","remainder","from","start_date","end_date","api_key","results","merged","assign","near_earth_objects","setActiveDataset","dataset","processNeoDataset","reduce","acc","neo","min_close_approach_km","close_approach_data","approach","miss_distance","kilometers","POSITIVE_INFINITY","absolute_magnitude_h","is_potentially_hazardous_asteroid","getMedian","getMean","apiKeyStorage","startDateKey","endDateKey","Home","ref","endDate","oninput","chosen","endDateParam","err","stack","renderCollapsed","propStr","pathStr","statusLookup","renderExpanded","tree","paths","collapseAfter","divs","newpath","renderTree","prop","collapsed","initialVnode","Explore","closest","median","mean","loading","processDataset","closestObject","allAbsoluteMagnitudes","dangerousAbsoluteMagnitudes","nasa_jpl_url","name","JsonViewer","body","/","/explore"],"mappings":"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"}