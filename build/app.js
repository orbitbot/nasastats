!function(){"use strict";var O="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(e,t){return e(t={exports:{}},t.exports),t.exports}var D=e(function(x){!function(){function N(e,t,n,r,a,o){return{tag:e,key:t,attrs:n,children:r,text:a,dom:o,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}N.normalize=function(e){return Array.isArray(e)?N("[",void 0,void 0,N.normalizeChildren(e),void 0,void 0):null!=e&&"object"!=typeof e?N("#",void 0,void 0,!1===e?"":e,void 0,void 0):e},N.normalizeChildren=function(e){for(var t=0;t<e.length;t++)e[t]=N.normalize(e[t]);return e};var s=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,l={},c={}.hasOwnProperty;function f(e){for(var t in e)if(c.call(e,t))return!1;return!0}function e(e){var t,n=arguments,r=arguments[1],a=2;if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");if("string"==typeof e)var o=l[e]||function(e){for(var t,n="div",r=[],a={};t=s.exec(e);){var o=t[1],i=t[2];if(""===o&&""!==i)n=i;else if("#"===o)a.id=i;else if("."===o)r.push(i);else if("["===t[3][0]){var u=t[6];u&&(u=u.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===t[4]?r.push(u):a[t[4]]=""===u?u:u||!0}}return 0<r.length&&(a.className=r.join(" ")),l[e]={tag:n,attrs:a}}(e);if(null==r?r={}:("object"!=typeof r||null!=r.tag||Array.isArray(r))&&(r={},a=1),arguments.length===a+1)t=arguments[a],Array.isArray(t)||(t=[t]);else for(t=[];a<arguments.length;)t.push(n[a++]);var i=N.normalizeChildren(t);return"string"==typeof e?function(e,t,n){var r,a,o=!1,i=t.className||t.class;if(!f(e.attrs)&&!f(t)){var u={};for(var s in t)c.call(t,s)&&(u[s]=t[s]);t=u}for(var s in e.attrs)c.call(e.attrs,s)&&(t[s]=e.attrs[s]);for(var s in void 0!==i&&(void 0!==t.class&&(t.class=void 0,t.className=i),null!=e.attrs.className&&(t.className=e.attrs.className+" "+i)),t)if(c.call(t,s)&&"key"!==s){o=!0;break}return Array.isArray(n)&&1===n.length&&null!=n[0]&&"#"===n[0].tag?a=n[0].children:r=n,N(e.tag,t.key,o?t:void 0,r,a)}(o,r,i):N(e,r.key,r,i)}e.trust=function(e){return null==e&&(e=""),N("<",void 0,void 0,e,void 0,void 0)},e.fragment=function(e,t){return N("[",e.key,e,N.normalizeChildren(t),void 0,void 0)};var t=e;if((d=function(e){if(!(this instanceof d))throw new Error("Promise must be called with `new`");if("function"!=typeof e)throw new TypeError("executor must be a function");var o=this,i=[],u=[],a=t(i,!0),s=t(u,!1),l=o._instance={resolvers:i,rejectors:u},c="function"==typeof setImmediate?setImmediate:setTimeout;function t(r,a){return function t(n){var e;try{if(!a||null==n||"object"!=typeof n&&"function"!=typeof n||"function"!=typeof(e=n.then))c(function(){a||0!==r.length||console.error("Possible unhandled promise rejection:",n);for(var e=0;e<r.length;e++)r[e](n);i.length=0,u.length=0,l.state=a,l.retry=function(){t(n)}});else{if(n===o)throw new TypeError("Promise can't be resolved w/ itself");f(e.bind(n))}}catch(e){s(e)}}}function f(e){var n=0;function t(t){return function(e){0<n++||t(e)}}var r=t(s);try{e(t(a),r)}catch(e){r(e)}}f(e)}).prototype.then=function(e,t){var a,o,i=this._instance;function n(t,e,n,r){e.push(function(e){if("function"!=typeof t)n(e);else try{a(t(e))}catch(e){o&&o(e)}}),"function"==typeof i.retry&&r===i.state&&i.retry()}var r=new d(function(e,t){a=e,o=t});return n(e,i.resolvers,a,!0),n(t,i.rejectors,o,!1),r},d.prototype.catch=function(e){return this.then(null,e)},d.resolve=function(t){return t instanceof d?t:new d(function(e){e(t)})},d.reject=function(n){return new d(function(e,t){t(n)})},d.all=function(u){return new d(function(n,r){var a=u.length,o=0,i=[];if(0===u.length)n([]);else for(var e=0;e<u.length;e++)!function(t){function e(e){o++,i[t]=e,o===a&&n(i)}null==u[t]||"object"!=typeof u[t]&&"function"!=typeof u[t]||"function"!=typeof u[t].then?e(u[t]):u[t].then(e,r)}(e)})},d.race=function(r){return new d(function(e,t){for(var n=0;n<r.length;n++)r[n].then(e,t)})},"undefined"!=typeof window){void 0===window.Promise&&(window.Promise=d);var d=window.Promise}else if(void 0!==O){void 0===O.Promise&&(O.Promise=d);d=O.Promise}var g=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var r=[];for(var t in e)a(t,e[t]);return r.join("&");function a(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)a(e+"["+n+"]",t[n]);else if("[object Object]"===Object.prototype.toString.call(t))for(var n in t)a(e+"["+n+"]",t[n]);else r.push(encodeURIComponent(e)+(null!=t&&""!==t?"="+encodeURIComponent(t):""))}},m=new RegExp("^file://","i"),n=function(s,r){var t,o=0;function i(){var a=0;function o(){0==--a&&"function"==typeof t&&t()}return function t(n){var r=n.then;return n.then=function(){a++;var e=r.apply(n,arguments);return e.then(o,function(e){if(o(),0===a)throw e}),t(e)},n}}function l(e,t){if("string"==typeof e){var n=e;null==(e=t||{}).url&&(e.url=n)}return e}function c(e,t){if(null==t)return e;for(var n=e.match(/:[^\/]+/gi)||[],r=0;r<n.length;r++){var a=n[r].slice(1);null!=t[a]&&(e=e.replace(n[r],t[a]))}return e}function f(e,t){var n=g(t);if(""!==n){var r=e.indexOf("?")<0?"?":"&";e+=r+n}return e}function d(t){try{return""!==t?JSON.parse(t):null}catch(e){throw new Error(t)}}function v(e){return e.responseText}function h(e,t){if("function"==typeof e){if(!Array.isArray(t))return new e(t);for(var n=0;n<t.length;n++)t[n]=new e(t[n])}return t}return{request:function(u,e){var t=i();u=l(u,e);var n=new r(function(r,a){null==u.method&&(u.method="GET"),u.method=u.method.toUpperCase();var e="GET"!==u.method&&"TRACE"!==u.method&&("boolean"!=typeof u.useBody||u.useBody);"function"!=typeof u.serialize&&(u.serialize="undefined"!=typeof FormData&&u.data instanceof FormData?function(e){return e}:JSON.stringify),"function"!=typeof u.deserialize&&(u.deserialize=d),"function"!=typeof u.extract&&(u.extract=v),u.url=c(u.url,u.data),e?u.data=u.serialize(u.data):u.url=f(u.url,u.data);var o=new s.XMLHttpRequest,i=!1,t=o.abort;for(var n in o.abort=function(){i=!0,t.call(o)},o.open(u.method,u.url,"boolean"!=typeof u.async||u.async,"string"==typeof u.user?u.user:void 0,"string"==typeof u.password?u.password:void 0),u.serialize!==JSON.stringify||!e||u.headers&&u.headers.hasOwnProperty("Content-Type")||o.setRequestHeader("Content-Type","application/json; charset=utf-8"),u.deserialize!==d||u.headers&&u.headers.hasOwnProperty("Accept")||o.setRequestHeader("Accept","application/json, text/*"),u.withCredentials&&(o.withCredentials=u.withCredentials),u.headers)({}).hasOwnProperty.call(u.headers,n)&&o.setRequestHeader(n,u.headers[n]);"function"==typeof u.config&&(o=u.config(o,u)||o),o.onreadystatechange=function(){if(!i&&4===o.readyState)try{var e=u.extract!==v?u.extract(o,u):u.deserialize(u.extract(o,u));if(200<=o.status&&o.status<300||304===o.status||m.test(u.url))r(h(u.type,e));else{var t=new Error(o.responseText);for(var n in e)t[n]=e[n];a(t)}}catch(e){a(e)}},e&&null!=u.data?o.send(u.data):o.send()});return!0===u.background?n:t(n)},jsonp:function(a,e){var t=i();a=l(a,e);var n=new r(function(t,e){var n=a.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+o++,r=s.document.createElement("script");s[n]=function(e){r.parentNode.removeChild(r),t(h(a.type,e)),delete s[n]},r.onerror=function(){r.parentNode.removeChild(r),e(new Error("JSONP request failed")),delete s[n]},null==a.data&&(a.data={}),a.url=c(a.url,a.data),a.data[a.callbackKey||"callback"]=n,r.src=f(a.url,a.data),s.document.documentElement.appendChild(r)});return!0===a.background?n:t(n)},setCompletionCallback:function(e){t=e}}}(window,d),r=function(e){var i,d=e.document,l=d.createDocumentFragment(),t={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function v(e){return e.attrs&&e.attrs.xmlns||t[e.tag]}function b(e,t,n,r,a,o,i){for(var u=n;u<r;u++){var s=t[u];null!=s&&D(e,s,a,i,o)}}function D(e,t,n,r,a){var o,i,u,s=t.tag;if("string"!=typeof s)return function(e,t,n,r,a){{if(g(t,n),null==t.instance)return t.domSize=0,l;var o=D(e,t.instance,n,r,a);return t.dom=t.instance.dom,t.domSize=null!=t.dom?t.instance.domSize:0,x(e,o,a),o}}(e,t,n,r,a);switch(t.state={},null!=t.attrs&&_(t.attrs,t,n),s){case"#":return o=e,u=a,(i=t).dom=d.createTextNode(i.children),x(o,i.dom,u),i.dom;case"<":return h(e,t,a);case"[":return function(e,t,n,r,a){var o=d.createDocumentFragment();if(null!=t.children){var i=t.children;b(o,i,0,i.length,n,null,r)}return t.dom=o.firstChild,t.domSize=o.childNodes.length,x(e,o,a),o}(e,t,n,r,a);default:return function(e,t,n,r,a){var o=t.tag,i=t.attrs,u=i&&i.is,s=(r=v(t)||r)?u?d.createElementNS(r,o,{is:u}):d.createElementNS(r,o):u?d.createElement(o,{is:u}):d.createElement(o);t.dom=s,null!=i&&function(e,t,n){for(var r in t)w(e,r,null,t[r],n)}(t,i,r);if(x(e,s,a),null!=t.attrs&&null!=t.attrs.contenteditable)p(t);else if(null!=t.text&&(""!==t.text?s.textContent=t.text:t.children=[N("#",void 0,void 0,t.text,void 0,void 0)]),null!=t.children){var l=t.children;b(s,l,0,l.length,n,null,r),f=(c=t).attrs,"select"===c.tag&&null!=f&&("value"in f&&w(c,"value",null,f.value,void 0),"selectedIndex"in f&&w(c,"selectedIndex",null,f.selectedIndex,void 0))}var c,f;return s}(e,t,n,r,a)}}function h(e,t,n){var r={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(t.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",a=d.createElement(r);a.innerHTML=t.children,t.dom=a.firstChild,t.domSize=a.childNodes.length;for(var o,i=d.createDocumentFragment();o=a.firstChild;)i.appendChild(o);return x(e,i,n),i}function g(e,t){var n;if("function"==typeof e.tag.view){if(e.state=Object.create(e.tag),null!=(n=e.state.view).$$reentrantLock$$)return l;n.$$reentrantLock$$=!0}else{if(e.state=void 0,null!=(n=e.tag).$$reentrantLock$$)return l;n.$$reentrantLock$$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}if(e._state=e.state,null!=e.attrs&&_(e.attrs,e,t),_(e._state,e,t),e.instance=N.normalize(e._state.view.call(e.state,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null}function m(e,t,n,r,a,o,i){if(t!==n&&(null!=t||null!=n))if(null==t)b(e,n,0,n.length,a,o,i);else if(null==n)O(t,0,t.length,n);else{if(t.length===n.length){for(var u=!1,s=0;s<n.length;s++)if(null!=n[s]&&null!=t[s]){u=null==n[s].key&&null==t[s].key;break}if(u){for(s=0;s<t.length;s++)t[s]!==n[s]&&(null==t[s]&&null!=n[s]?D(e,n[s],a,i,Y(t,s+1,o)):null==n[s]?O(t,s,s+1,n):M(e,t[s],n[s],a,Y(t,s+1,o),r,i));return}}if(r=r||function(e,t){if(null!=e.pool&&Math.abs(e.pool.length-t.length)<=Math.abs(e.length-t.length)){var n=e[0]&&e[0].children&&e[0].children.length||0,r=e.pool[0]&&e.pool[0].children&&e.pool[0].children.length||0,a=t[0]&&t[0].children&&t[0].children.length||0;if(Math.abs(r-a)<=Math.abs(n-a))return!0}return!1}(t,n)){var l=t.pool;t=t.concat(t.pool)}for(var c,f=0,d=0,v=t.length-1,h=n.length-1;f<=v&&d<=h;){if((m=t[f])!==(p=n[d])||r)if(null==m)f++;else if(null==p)d++;else if(m.key===p.key){var g=null!=l&&f>=t.length-l.length||null==l&&r;d++,M(e,m,p,a,Y(t,++f,o),g,i),r&&m.tag===p.tag&&x(e,T(m),o)}else{if((m=t[v])!==p||r)if(null==m)v--;else if(null==p)d++;else{if(m.key!==p.key)break;g=null!=l&&v>=t.length-l.length||null==l&&r;M(e,m,p,a,Y(t,v+1,o),g,i),(r||d<h)&&x(e,T(m),Y(t,f,o)),v--,d++}else v--,d++}else f++,d++}for(;f<=v&&d<=h;){var m,p;if((m=t[v])!==(p=n[h])||r)if(null==m)v--;else if(null==p)h--;else if(m.key===p.key){g=null!=l&&v>=t.length-l.length||null==l&&r;M(e,m,p,a,Y(t,v+1,o),g,i),r&&m.tag===p.tag&&x(e,T(m),o),null!=m.dom&&(o=m.dom),v--,h--}else{if(c||(c=S(t,v)),null!=p){var y=c[p.key];if(null!=y){var w=t[y];g=null!=l&&y>=t.length-l.length||null==l&&r;M(e,w,p,a,Y(t,v+1,o),r,i),x(e,T(w),o),t[y].skip=!0,null!=w.dom&&(o=w.dom)}else{o=D(e,p,a,i,o)}}h--}else v--,h--;if(h<d)break}b(e,n,d,h+1,a,o,i),O(t,f,v+1,n)}}function M(e,t,n,r,a,o,i){var u,s,l,c,f=t.tag;if(f===n.tag){if(n.state=t.state,n._state=t._state,n.events=t.events,!o&&function(e,t){var n,r;null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate&&(n=e.attrs.onbeforeupdate.call(e.state,e,t));"string"!=typeof e.tag&&"function"==typeof e._state.onbeforeupdate&&(r=e._state.onbeforeupdate.call(e.state,e,t));return!(void 0===n&&void 0===r||n||r||(e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,0))}(n,t))return;if("string"==typeof f)switch(null!=n.attrs&&(o?(n.state={},_(n.attrs,n,r)):F(n.attrs,n,r)),f){case"#":!function(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children);t.dom=e.dom}(t,n);break;case"<":u=e,l=n,c=a,(s=t).children!==l.children?(T(s),h(u,l,c)):(l.dom=s.dom,l.domSize=s.domSize);break;case"[":!function(e,t,n,r,a,o,i){m(e,t.children,n.children,r,a,o,i);var u=0,s=n.children;if((n.dom=null)!=s){for(var l=0;l<s.length;l++){var c=s[l];null!=c&&null!=c.dom&&(null==n.dom&&(n.dom=c.dom),u+=c.domSize||1)}1!==u&&(n.domSize=u)}}(e,t,n,o,r,a,i);break;default:!function(e,t,n,r,a){var o=t.dom=e.dom;a=v(t)||a,"textarea"===t.tag&&(null==t.attrs&&(t.attrs={}),null!=t.text&&(t.attrs.value=t.text,t.text=void 0));(function(e,t,n,r){if(null!=n)for(var a in n)w(e,a,t&&t[a],n[a],r);if(null!=t)for(var a in t)null!=n&&a in n||("className"===a&&(a="class"),"o"!==a[0]||"n"!==a[1]||k(a)?"key"!==a&&e.dom.removeAttribute(a):I(e,a,void 0))})(t,e.attrs,t.attrs,a),null!=t.attrs&&null!=t.attrs.contenteditable?p(t):null!=e.text&&null!=t.text&&""!==t.text?e.text.toString()!==t.text.toString()&&(e.dom.firstChild.nodeValue=t.text):(null!=e.text&&(e.children=[N("#",void 0,void 0,e.text,void 0,e.dom.firstChild)]),null!=t.text&&(t.children=[N("#",void 0,void 0,t.text,void 0,void 0)]),m(o,e.children,t.children,n,r,null,a))}(t,n,o,r,i)}else!function(e,t,n,r,a,o,i){if(o)g(n,r);else{if(n.instance=N.normalize(n._state.view.call(n.state,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");null!=n.attrs&&F(n.attrs,n,r),F(n._state,n,r)}null!=n.instance?(null==t.instance?D(e,n.instance,r,i,a):M(e,t.instance,n.instance,r,a,o,i),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=t.instance?(y(t.instance,null),n.dom=void 0,n.domSize=0):(n.dom=t.dom,n.domSize=t.domSize)}(e,t,n,r,a,o,i)}else y(t,null),D(e,n,r,i,a)}function S(e,t){var n={},r=0;for(r=0;r<t;r++){var a=e[r];if(null!=a){var o=a.key;null!=o&&(n[o]=r)}}return n}function T(e){var t=e.domSize;if(null==t&&null!=e.dom)return e.dom;var n=d.createDocumentFragment();if(0<t){for(var r=e.dom;--t;)n.appendChild(r.nextSibling);n.insertBefore(r,n.firstChild)}return n}function Y(e,t,n){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return n}function x(e,t,n){n&&n.parentNode?e.insertBefore(t,n):e.appendChild(t)}function p(e){var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var n=t[0].children;e.dom.innerHTML!==n&&(e.dom.innerHTML=n)}else if(null!=e.text||null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted")}function O(e,t,n,r){for(var a=t;a<n;a++){var o=e[a];null!=o&&(o.skip?o.skip=!1:y(o,r))}}function y(r,a){var e,o=1,i=0;r.attrs&&"function"==typeof r.attrs.onbeforeremove&&(null!=(e=r.attrs.onbeforeremove.call(r.state,r))&&"function"==typeof e.then&&(o++,e.then(t,t)));"string"!=typeof r.tag&&"function"==typeof r._state.onbeforeremove&&(null!=(e=r._state.onbeforeremove.call(r.state,r))&&"function"==typeof e.then&&(o++,e.then(t,t)));function t(){if(++i===o&&(function e(t){t.attrs&&"function"==typeof t.attrs.onremove&&t.attrs.onremove.call(t.state,t);if("string"!=typeof t.tag)"function"==typeof t._state.onremove&&t._state.onremove.call(t.state,t),null!=t.instance&&e(t.instance);else{var n=t.children;if(Array.isArray(n))for(var r=0;r<n.length;r++){var a=n[r];null!=a&&e(a)}}}(r),r.dom)){var e=r.domSize||1;if(1<e)for(var t=r.dom;--e;)u(t.nextSibling);u(r.dom),null==a||null!=r.domSize||null!=(n=r.attrs)&&(n.oncreate||n.onupdate||n.onbeforeremove||n.onremove)||"string"!=typeof r.tag||(a.pool?a.pool.push(r):a.pool=[r])}var n}t()}function u(e){var t=e.parentNode;null!=t&&t.removeChild(e)}function w(e,t,n,r,a){var o=e.dom;if("key"!==t&&"is"!==t&&(n!==r||(i=e,"value"===(u=t)||"checked"===u||"selectedIndex"===u||"selected"===u&&i.dom===d.activeElement)||"object"==typeof r)&&void 0!==r&&!k(t)){var i,u,s,l,c=t.indexOf(":");if(-1<c&&"xlink"===t.substr(0,c))o.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(c+1),r);else if("o"===t[0]&&"n"===t[1]&&"function"==typeof r)I(e,t,r);else if("style"===t)!function(e,t,n){t===n&&(e.style.cssText="",t=null);if(null==n)e.style.cssText="";else if("string"==typeof n)e.style.cssText=n;else{for(var r in"string"==typeof t&&(e.style.cssText=""),n)e.style[r]=n[r];if(null!=t&&"string"!=typeof t)for(var r in t)r in n||(e.style[r]="")}}(o,n,r);else if(t in o&&("href"!==(l=t)&&"list"!==l&&"form"!==l&&"width"!==l&&"height"!==l)&&void 0===a&&!((s=e).attrs.is||-1<s.tag.indexOf("-"))){if("value"===t){var f=""+r;if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===f&&e.dom===d.activeElement)return;if("select"===e.tag)if(null===r){if(-1===e.dom.selectedIndex&&e.dom===d.activeElement)return}else if(null!==n&&e.dom.value===f&&e.dom===d.activeElement)return;if("option"===e.tag&&null!=n&&e.dom.value===f)return}if("input"===e.tag&&"type"===t)return void o.setAttribute(t,r);o[t]=r}else"boolean"==typeof r?r?o.setAttribute(t,""):o.removeAttribute(t):o.setAttribute("className"===t?"class":t,r)}}function k(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function I(e,t,n){var r=e.dom,a="function"!=typeof i?n:function(e){var t=n.call(r,e);return i.call(r,e),t};if(t in r)r[t]="function"==typeof n?a:null;else{var o=t.slice(2);if(void 0===e.events&&(e.events={}),e.events[t]===a)return;null!=e.events[t]&&r.removeEventListener(o,e.events[t],!1),"function"==typeof n&&(e.events[t]=a,r.addEventListener(o,e.events[t],!1))}}function _(e,t,n){"function"==typeof e.oninit&&e.oninit.call(t.state,t),"function"==typeof e.oncreate&&n.push(e.oncreate.bind(t.state,t))}function F(e,t,n){"function"==typeof e.onupdate&&n.push(e.onupdate.bind(t.state,t))}return{render:function(e,t){if(!e)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var n=[],r=d.activeElement,a=e.namespaceURI;null==e.vnodes&&(e.textContent=""),Array.isArray(t)||(t=[t]),m(e,e.vnodes,N.normalizeChildren(t),!1,n,null,"http://www.w3.org/1999/xhtml"===a?void 0:a),e.vnodes=t,null!=r&&d.activeElement!==r&&r.focus();for(var o=0;o<n.length;o++)n[o]()},setEventCallback:function(e){return i=e}}};var a=function(e){var t=r(e);t.setEventCallback(function(e){!1===e.redraw?e.redraw=void 0:n()});var i=[];function u(e){var t=i.indexOf(e);-1<t&&i.splice(t,2)}function n(){for(var e=1;e<i.length;e+=2)i[e]()}return{subscribe:function(e,t){var n,r,a,o;u(e),i.push(e,(n=t,r=0,a=null,o="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout,function(){var e=Date.now();0===r||16<=e-r?(r=e,n()):null===a&&(a=o(function(){a=null,n(),r=Date.now()},16-(e-r)))}))},unsubscribe:u,redraw:n,render:t.render}}(window);n.setCompletionCallback(a.redraw);var o;t.mount=(o=a,function(e,t){if(null===t)return o.render(e,[]),void o.unsubscribe(e);if(null==t.view&&"function"!=typeof t)throw new Error("m.mount(element, component) expects a component, not a vnode");o.subscribe(e,function(){o.render(e,N(t))}),o.redraw()});var i,u,v,h,p,y,w,b,D,M=d,S=function(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var t=e.split("&"),n={},r={},a=0;a<t.length;a++){var o=t[a].split("="),i=decodeURIComponent(o[0]),u=2===o.length?decodeURIComponent(o[1]):"";"true"===u?u=!0:"false"===u&&(u=!1);var s=i.split(/\]\[?|\[/),l=n;-1<i.indexOf("[")&&s.pop();for(var c=0;c<s.length;c++){var f=s[c],d=s[c+1],v=""==d||!isNaN(parseInt(d,10)),h=c===s.length-1;if(""===f)null==r[i=s.slice(0,c).join()]&&(r[i]=0),f=r[i]++;null==l[f]&&(l[f]=h?u:v?[]:{}),l=l[f]}}return n},T=function(c){var n,f="function"==typeof c.history.pushState,r="function"==typeof setImmediate?setImmediate:setTimeout;function e(e){var t=c.location[e].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===e&&"/"!==t[0]&&(t="/"+t),t}function d(e,t,n){var r=e.indexOf("?"),a=e.indexOf("#"),o=-1<r?r:-1<a?a:e.length;if(-1<r){var i=-1<a?a:e.length,u=S(e.slice(r+1,i));for(var s in u)t[s]=u[s]}if(-1<a){var l=S(e.slice(a+1));for(var s in l)n[s]=l[s]}return e.slice(0,o)}var v={prefix:"#!",getPath:function(){switch(v.prefix.charAt(0)){case"#":return e("hash").slice(v.prefix.length);case"?":return e("search").slice(v.prefix.length)+e("hash");default:return e("pathname").slice(v.prefix.length)+e("search")+e("hash")}},setPath:function(e,n,t){var r={},a={};if(e=d(e,r,a),null!=n){for(var o in n)r[o]=n[o];e=e.replace(/:([^\/]+)/g,function(e,t){return delete r[t],n[t]})}var i=g(r);i&&(e+="?"+i);var u=g(a);if(u&&(e+="#"+u),f){var s=t?t.state:null,l=t?t.title:null;c.onpopstate(),t&&t.replace?c.history.replaceState(s,l,v.prefix+e):c.history.pushState(s,l,v.prefix+e)}else c.location.href=v.prefix+e}};return v.defineRoutes=function(u,s,l){function e(){var r=v.getPath(),a={},e=d(r,a,a),t=c.history.state;if(null!=t)for(var n in t)a[n]=t[n];for(var o in u){var i=new RegExp("^"+o.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(i.test(e))return void e.replace(i,function(){for(var e=o.match(/:[^\/]+/g)||[],t=[].slice.call(arguments,1,-2),n=0;n<e.length;n++)a[e[n].replace(/:|\./g,"")]=decodeURIComponent(t[n]);s(u[o],a,r,o)})}l(r,a)}var t;f?c.onpopstate=(t=e,function(){null==n&&(n=r(function(){n=null,t()}))}):"#"===v.prefix.charAt(0)&&(c.onhashchange=e),e()},v};t.route=(i=window,u=a,b=T(i),(D=function(e,t,n){if(null==e)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var o=function(){null!=v&&u.render(e,v(N(h,p.key,p)))},i=function(e){if(e===t)throw new Error("Could not resolve default route "+t);b.setPath(t,null,{replace:!0})};b.defineRoutes(n,function(t,n,r){var a=w=function(e,t){a===w&&(h=null==t||"function"!=typeof t.view&&"function"!=typeof t?"div":t,p=n,y=r,w=null,v=(e.render||function(e){return e}).bind(e),o())};t.view||"function"==typeof t?a({},t):t.onmatch?M.resolve(t.onmatch(n,r)).then(function(e){a(t,e)},i):a(t,"div")},i),u.subscribe(e,o)}).set=function(e,t,n){null!=w&&((n=n||{}).replace=!0),w=null,b.setPath(e,t,n)},D.get=function(){return y},D.prefix=function(e){b.prefix=e},D.link=function(e){e.dom.setAttribute("href",b.prefix+e.attrs.href),e.dom.onclick=function(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||2===e.which)){e.preventDefault(),e.redraw=!1;var t=this.getAttribute("href");0===t.indexOf(b.prefix)&&(t=t.slice(b.prefix.length)),D.set(t,void 0,void 0)}}},D.param=function(e){return void 0!==p&&void 0!==e?p[e]:p},D),t.withAttr=function(t,n,r){return function(e){n.call(r||this,t in e.currentTarget?e.currentTarget[t]:e.currentTarget.getAttribute(t))}};var Y=r(window);t.render=Y.render,t.redraw=a.redraw,t.request=n.request,t.jsonp=n.jsonp,t.parseQueryString=S,t.buildQueryString=g,t.version="1.1.6",t.vnode=N,x.exports=t}()}),l=e(function(t){!function(){var s=void 0!==O?O.m||D:window.m;if(!s)throw"mithril-datepicker can't find Mithril.js";var r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["1 Mo","1 Yr","10 Yr"],i=0,u="en-us",l=null;function c(e,t){e.view=0,e.active=!1,t&&t(e.date)}function f(e,t){var n=new Date(e.date);switch(e.view){case 0:n.setMonth(n.getMonth()+t);break;case 1:n.setFullYear(n.getFullYear()+t);break;default:n.setFullYear(n.getFullYear()+10*t)}e.date=v(e.date,n)}function d(e,t){var n,r,a,o,i,u,s=(r=t,a=(n=e).getMonth()+r,o=n.getFullYear(),u=a<0,{month:(i=11<a)?0:u?11:a,year:i?o+1:u?o-1:o});return-1<[0,2,4,6,7,9,11].indexOf(s.month)?31:1===s.month?s.year%400?s.year%100?s.year%4?28:29:28:29:30}function v(e,t){return e.getDate()!==t.getDate()&&t.setMonth(t.getMonth()-1,d(t,-1)),t}function h(e){return e.replace(/[^ -~]/g,"")}function g(e){for(var t=new Date("jan 1 2017"),n=[],r=[];r.length<7;)r.push(h(t.toLocaleDateString(e,{weekday:"long"}))),t.setDate(t.getDate()+1);for(;n.length<12;)n.push(h(t.toLocaleDateString(e,{month:"long"}))),t.setMonth(t.getMonth()+1);return{days:r,months:n}}function m(e,t){return e===t?"chosen":""}var n={view:function(e){var t=e.attrs.props,n=t.date,r=t.months||a;return s(".header",s(".button-bg",{class:"v"+t.view}),s(".fake-border"),s("button.prev",{onclick:f.bind(null,t,-1),type:"button"},o[t.view]),s("button.segment",{onclick:function(){t.view=0},type:"button"},n.getDate()),s("button.segment",{onclick:function(){t.view=1},type:"button"},r[n.getMonth()].substr(0,3)),s("button.segment",{onclick:function(){t.view=2},type:"button"},n.getFullYear()),s("button.next",{onclick:f.bind(null,t,1),type:"button"},o[t.view]))}},p={view:function(o){var i=o.attrs.props,e=function(e){var t=e.date.getMonth(),n=e.date.getFullYear(),r=new Date(n,t,1).getDay()-e.weekStart;r<0&&(r+=7);for(var a=[],o=d(e.date,-1),i=o-r+1;i<=o;i++)a.push(i);return a}(i),t=function(e){for(var t=d(e.date,0),n=[],r=1;r<=t;r++)n.push(r);return n}(i),n=function(e,t){var n=e.concat(t).length%7,r=[];if(0<n)for(var a=7-n,o=1;o<=a;o++)r.push(o);return r}(e,t),u=i.days||r;return s(".calendar",s(".weekdays",u.map(function(e,t){var n,r,a,o=(n=t+i.weekStart,a=(r=u).length,r[a<=n?n-a:n]);return s(".day.dummy",o.substring(0,2))})),s(".weekdays",{onclick:function(e){var t,n,r,a;t=i,n=e.target,r=parseInt(n.textContent),a=t.date,n.classList.contains("other-scope")?a.setFullYear(a.getFullYear(),a.getMonth()+(6<r?-1:1),r):a.setDate(r),c(i,o.attrs.onchange)}},e.map(function(e){return s("button.day.other-scope",{type:"button"},e)}),t.map(function(e){return s("button.day",{class:m(i.date.getDate(),e),type:"button"},s(".number",e))}),n.map(function(e){return s("button.day.other-scope",{type:"button"},e)})))}},y={view:function(e){var n=e.attrs.props,t=n.months||a;return s(".calendar",s(".months",t.map(function(e,t){return s("button.month",{class:m(n.date.getMonth(),t),onclick:function(){var e=new Date(n.date);e.setMonth(t),n.date=v(n.date,e),n.view=0},type:"button"},s(".number",e.substring(0,3)))})))}},w={view:function(e){var n=e.attrs.props,t=function(e){for(var t=e.getFullYear(),n=t-t%10,r=[],a=n;a<n+10;a++)r.push(a);return r}(n.date);return s(".calendar",s(".years",t.map(function(t){return s("button.year",{class:m(n.date.getFullYear(),t),onclick:function(){var e=new Date(n.date);e.setFullYear(t),n.date=v(n.date,e),n.view=1},type:"button"},s(".number",t))})))}},b={oncreate:function(e){requestAnimationFrame(function(){e.dom.classList.add("active")})},onbeforeremove:function(e){return e.dom.classList.remove("active"),new Promise(function(e){setTimeout(e,200)})},view:function(e){var t=e.attrs.props;return s(".editor",s(n,{props:t}),s(".sled",{class:"p"+t.view},s(p,{props:t,onchange:e.attrs.onchange}),s(y,{props:t}),s(w,{props:t})))}},e={localize:function(e){if(e){o=e.prevNextTitles||o,u=e.locale||u,l=e.formatOptions||l,i="number"==typeof e.weekStart?e.weekStart:i;var t=g(u);r=t.days,a=t.months}},oninit:function(e){var t,n=e.attrs,r={date:new Date(n.date||(t=new Date,t.setHours(0,0,0,0),t)),active:!1,view:0};if(r.prevNextTitles=n.prevNextTitles||o,r.locale=n.locale||u,r.formatOptions=n.formatOptions||l,r.weekStart="number"==typeof n.weekStart?n.weekStart:i,n.locale&&n.locale!==u){var a=g(r.locale);r.days=a.days,r.months=a.months}e.state.props=r},view:function(e){var t,n=e.state.props,r=h((t=n).date.toLocaleDateString(t.locale,t.formatOptions||{weekday:"short",month:"short",day:"numeric",year:"numeric"}));return s(".mithril-date-picker-container",{class:n.active?"active":""},s(".mithril-date-picker",s(".button.current-date",{onclick:function(){n.active&&(n.view=0),n.active=!n.active}},r),n.active&&s(".overlay",{onclick:c.bind(null,n,e.attrs.onchange)}),n.active&&s(b,{props:n,onchange:e.attrs.onchange})))}};t.exports=e}()}),t=e(function(e){!function(){var t=0,a={};function i(){function e(){return 0<arguments.length&&arguments[0]!==a&&r(e,arguments[0]),e._state.value}var n;return(n=e).constructor=i,n._state={id:t++,value:void 0,state:0,derive:void 0,recover:void 0,deps:{},parents:[],endStream:void 0,unregister:void 0},n.map=n["fantasy-land/map"]=c,n["fantasy-land/ap"]=f,n["fantasy-land/of"]=i,n.valueOf=d,n.toJSON=v,n.toString=d,Object.defineProperties(n,{end:{get:function(){if(!n._state.endStream){var t=i();t.map(function(e){return!0===e&&(l(n),t._state.unregister=function(){l(t)}),e}),n._state.endStream=t}return n._state.endStream}}}),0<arguments.length&&arguments[0]!==a&&r(e,arguments[0]),e}function r(e,t){for(var n in o(e,t),e._state.deps)u(e._state.deps[n],!1);null!=e._state.unregister&&e._state.unregister(),function(e){for(var t in e._state.changed=!1,e._state.deps)e._state.deps[t]._state.changed=!1}(e)}function o(e,t){e._state.value=t,e._state.changed=!0,2!==e._state.state&&(e._state.state=1)}function u(e,t){var n=e._state.parents;if(0<n.length&&n.every(g)&&(t||n.some(m))){var r=e._state.derive();if(r===a)return!1;o(e,r)}}function s(e,t){if(!t.every(h))throw new Error("Ensure that each item passed to stream.combine/stream.merge is a stream");return n=i(),r=t,a=function(){return e.apply(this,t.concat([t.filter(m)]))},(o=n._state).derive=a,o.parents=r.filter(p),function e(t,n){for(var r=0;r<n.length;r++)n[r]._state.deps[t._state.id]=t,e(t,n[r]._state.parents)}(n,o.parents),u(n,!0),n;var n,r,a,o}function l(e){for(var t=0;t<e._state.parents.length;t++){delete e._state.parents[t]._state.deps[e._state.id]}for(var n in e._state.deps){var r=e._state.deps[n],a=r._state.parents.indexOf(e);-1<a&&r._state.parents.splice(a,1)}e._state.state=2,e._state.deps={}}function c(t){return s(function(e){return t(e())},[this])}function f(e){return s(function(e,t){return e()(t())},[e,this])}function d(){return this._state.value}function v(){return null!=this._state.value&&"function"==typeof this._state.value.toJSON?this._state.value.toJSON():this._state.value}function h(e){return e._state}function g(e){return 1===e._state.state}function m(e){return e._state.changed}function p(e){return 2!==e._state.state}(i["fantasy-land/of"]=i).merge=function(e){return s(function(){return e.map(function(e){return e()})},e)},i.combine=s,i.scan=function(t,n,e){var r=s(function(e){return n=t(n,e._state.value)},[e]);return 0===r._state.state&&r(n),r},i.scanMerge=function(r,a){var e=r.map(function(e){var t=e[0];return 0===t._state.state&&t(void 0),t});return s(function(){var n=arguments[arguments.length-1];return e.forEach(function(e,t){-1<n.indexOf(e)&&(a=r[t][1](a,e._state.value))}),a},e)},i.HALT=a,e.exports=i}()}),p=function(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*n+t.getTime()%6e4};var y=function(e){return e instanceof Date},w=36e5,b=6e4,M=/[T ]/,S=/:/,T=/^(\d{2})$/,Y=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],x=/^(\d{4})/,k=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],I=/^-(\d{2})$/,_=/^-?(\d{3})$/,F=/^-?(\d{2})-?(\d{2})$/,N=/^-?W(\d{2})$/,A=/^-?W(\d{2})-?(\d{1})$/,E=/^(\d{2}([.,]\d*)?)$/,H=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,z=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,C=/([Z+-].*)$/,W=/^(Z)$/,$=/^([+-])(\d{2})$/,j=/^([+-])(\d{2}):?(\d{2})$/;function P(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var a=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+a),r}var m=function(e,t){if(y(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=(t||{}).additionalDigits;n=null==n?2:Number(n);var r=function(e){var t,n={},r=e.split(M);if(t=S.test(r[0])?(n.date=null,r[0]):(n.date=r[0],r[1])){var a=C.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}(e),a=function(e,t){var n,r=Y[t],a=k[t];if(n=x.exec(e)||a.exec(e)){var o=n[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(n=T.exec(e)||r.exec(e)){var i=n[1];return{year:100*parseInt(i,10),restDateString:e.slice(i.length)}}return{year:null}}(r.date,n),o=a.year,i=function(e,t){if(null===t)return null;var n,r,a,o;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(n=I.exec(e))return r=new Date(0),a=parseInt(n[1],10)-1,r.setUTCFullYear(t,a),r;if(n=_.exec(e)){r=new Date(0);var i=parseInt(n[1],10);return r.setUTCFullYear(t,0,i),r}if(n=F.exec(e)){r=new Date(0),a=parseInt(n[1],10)-1;var u=parseInt(n[2],10);return r.setUTCFullYear(t,a,u),r}if(n=N.exec(e))return o=parseInt(n[1],10)-1,P(t,o);if(n=A.exec(e)){o=parseInt(n[1],10)-1;var s=parseInt(n[2],10)-1;return P(t,o,s)}return null}(a.restDateString,o);if(i){var u,s=i.getTime(),l=0;if(r.time&&(l=function(e){var t,n,r;if(t=E.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*w;if(t=H.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*w+r*b;if(t=z.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return n%24*w+r*b+1e3*a}return null}(r.time)),r.timezone)h=r.timezone,u=((g=W.exec(h))?0:(g=$.exec(h))?(m=60*parseInt(g[2],10),"+"===g[1]?-m:m):(g=j.exec(h))?(m=60*parseInt(g[2],10)+parseInt(g[3],10),"+"===g[1]?-m:m):0)*b;else{var c=s+l,f=new Date(c);u=p(f);var d=new Date(c);d.setDate(f.getDate()+1);var v=p(d)-p(f);0<v&&(u+=v)}return new Date(s+l+u)}var h,g,m;return new Date(e)};var u=function(e,t){var n=m(e),r=Number(t);return n.setDate(n.getDate()+r),n};var r=function(e,t){var n=m(e).getTime(),r=Number(t);return new Date(n+r)};var a=function(e,t){var n=Number(t);return r(e,36e5*n)};var s=function(e,t){var n=t&&Number(t.weekStartsOn)||0,r=m(e),a=r.getDay(),o=(a<n?7:0)+a-n;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r};var c=function(e){return s(e,{weekStartsOn:1})};var o=function(e){var t=m(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var a=c(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var i=c(o);return t.getTime()>=a.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1};var i=function(e){var t=o(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),c(n)};var f=function(e){var t=m(e);return t.setHours(0,0,0,0),t};var d=function(e,t){var n=f(e),r=f(t),a=n.getTime()-6e4*n.getTimezoneOffset(),o=r.getTime()-6e4*r.getTimezoneOffset();return Math.round((a-o)/864e5)};var v=function(e,t){var n=m(e),r=Number(t),a=d(n,i(n)),o=new Date(0);return o.setFullYear(r,0,4),o.setHours(0,0,0,0),(n=i(o)).setDate(n.getDate()+a),n};var h=function(e,t){var n=Number(t);return v(e,o(e)+n)};var g=function(e,t){var n=Number(t);return r(e,6e4*n)};var R=function(e){var t=m(e),n=t.getFullYear(),r=t.getMonth(),a=new Date(0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()};var J=function(e,t){var n=m(e),r=Number(t),a=n.getMonth()+r,o=new Date(0);o.setFullYear(n.getFullYear(),a,1),o.setHours(0,0,0,0);var i=R(o);return n.setMonth(a,Math.min(i,n.getDate())),n};var L=function(e,t){var n=Number(t);return J(e,3*n)};var X=function(e,t){var n=Number(t);return r(e,1e3*n)};var U=function(e,t){var n=Number(t);return u(e,7*n)};var q=function(e,t){var n=Number(t);return J(e,12*n)};var n=function(e,t,n,r){var a=m(e).getTime(),o=m(t).getTime(),i=m(n).getTime(),u=m(r).getTime();if(o<a||u<i)throw new Error("The start of the range cannot be after the end of the range");return a<u&&i<o};var Q=function(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var a,o,i=m(e).getTime();return t.forEach(function(e,t){var n=m(e),r=Math.abs(i-n.getTime());(void 0===a||r<o)&&(a=t,o=r)}),a};var G=function(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var r,a,o=m(e).getTime();return t.forEach(function(e){var t=m(e),n=Math.abs(o-t.getTime());(void 0===r||n<a)&&(r=t,a=n)}),r};var Z=function(e,t){var n=m(e).getTime(),r=m(t).getTime();return n<r?-1:r<n?1:0};var B=function(e,t){var n=m(e).getTime(),r=m(t).getTime();return r<n?-1:n<r?1:0};var K=function(e,t){var n=c(e),r=c(t),a=n.getTime()-6e4*n.getTimezoneOffset(),o=r.getTime()-6e4*r.getTimezoneOffset();return Math.round((a-o)/6048e5)};var V=function(e,t){return o(e)-o(t)};var ee=function(e,t){var n=m(e),r=m(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())};var te=function(e){var t=m(e);return Math.floor(t.getMonth()/3)+1};var ne=function(e,t){var n=m(e),r=m(t);return 4*(n.getFullYear()-r.getFullYear())+(te(n)-te(r))};var re=function(e,t,n){var r=s(e,n),a=s(t,n),o=r.getTime()-6e4*r.getTimezoneOffset(),i=a.getTime()-6e4*a.getTimezoneOffset();return Math.round((o-i)/6048e5)};var ae=function(e,t){var n=m(e),r=m(t);return n.getFullYear()-r.getFullYear()};var oe=function(e,t){var n=m(e),r=m(t),a=Z(n,r),o=Math.abs(d(n,r));return n.setDate(n.getDate()-a*o),a*(o-(Z(n,r)===-a))};var ie=function(e,t){var n=m(e),r=m(t);return n.getTime()-r.getTime()};var ue=function(e,t){var n=ie(e,t)/36e5;return 0<n?Math.floor(n):Math.ceil(n)};var se=function(e,t){var n=Number(t);return h(e,-n)};var le=function(e,t){var n=m(e),r=m(t),a=Z(n,r),o=Math.abs(V(n,r));return n=se(n,a*o),a*(o-(Z(n,r)===-a))};var ce=function(e,t){var n=ie(e,t)/6e4;return 0<n?Math.floor(n):Math.ceil(n)};var fe=function(e,t){var n=m(e),r=m(t),a=Z(n,r),o=Math.abs(ee(n,r));return n.setMonth(n.getMonth()-a*o),a*(o-(Z(n,r)===-a))};var de=function(e,t){var n=fe(e,t)/3;return 0<n?Math.floor(n):Math.ceil(n)};var ve=function(e,t){var n=ie(e,t)/1e3;return 0<n?Math.floor(n):Math.ceil(n)};var he=function(e,t){var n=oe(e,t)/7;return 0<n?Math.floor(n):Math.ceil(n)};var ge=function(e,t){var n=m(e),r=m(t),a=Z(n,r),o=Math.abs(ae(n,r));return n.setFullYear(n.getFullYear()-a*o),a*(o-(Z(n,r)===-a))};var me=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];var pe=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var r=me.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+r.join("|")+"|.)","g")};var ye=function(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Su","Mo","Tu","We","Th","Fr","Sa"],a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["AM","PM"],u=["am","pm"],s=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return r[e.getDay()]},ddd:function(e){return a[e.getDay()]},dddd:function(e){return o[e.getDay()]},A:function(e){return 1<=e.getHours()/12?i[1]:i[0]},a:function(e){return 1<=e.getHours()/12?u[1]:u[0]},aa:function(e){return 1<=e.getHours()/12?s[1]:s[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function(e){var t=e%100;if(20<t||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(t[n](e))}}),{formatters:e,formattingTokensRegExp:pe(e)}},we={distanceInWords:function(){var a={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(e,t,n){var r;return n=n||{},r="string"==typeof a[e]?a[e]:1===t?a[e].one:a[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"in "+r:r+" ago":r}}}(),format:ye()};var be=function(e,t,n){var r=n||{},a=B(e,t),o=r.locale,i=we.distanceInWords.localize;o&&o.distanceInWords&&o.distanceInWords.localize&&(i=o.distanceInWords.localize);var u,s,l={addSuffix:Boolean(r.addSuffix),comparison:a};s=0<a?(u=m(e),m(t)):(u=m(t),m(e));var c,f=ve(s,u),d=s.getTimezoneOffset()-u.getTimezoneOffset(),v=Math.round(f/60)-d;if(v<2)return r.includeSeconds?f<5?i("lessThanXSeconds",5,l):f<10?i("lessThanXSeconds",10,l):f<20?i("lessThanXSeconds",20,l):f<40?i("halfAMinute",null,l):i(f<60?"lessThanXMinutes":"xMinutes",1,l):0===v?i("lessThanXMinutes",1,l):i("xMinutes",v,l);if(v<45)return i("xMinutes",v,l);if(v<90)return i("aboutXHours",1,l);if(v<1440)return i("aboutXHours",Math.round(v/60),l);if(v<2520)return i("xDays",1,l);if(v<43200)return i("xDays",Math.round(v/1440),l);if(v<86400)return i("aboutXMonths",c=Math.round(v/43200),l);if((c=fe(s,u))<12)return i("xMonths",Math.round(v/43200),l);var h=c%12,g=Math.floor(c/12);return h<3?i("aboutXYears",g,l):h<9?i("overXYears",g,l):i("almostXYears",g+1,l)};var De=function(e,t,n){var r=n||{},a=B(e,t),o=r.locale,i=we.distanceInWords.localize;o&&o.distanceInWords&&o.distanceInWords.localize&&(i=o.distanceInWords.localize);var u,s,l,c={addSuffix:Boolean(r.addSuffix),comparison:a};s=0<a?(u=m(e),m(t)):(u=m(t),m(e));var f=Math[r.partialMethod?String(r.partialMethod):"floor"],d=ve(s,u),v=s.getTimezoneOffset()-u.getTimezoneOffset(),h=f(d/60)-v;if("s"===(l=r.unit?String(r.unit):h<1?"s":h<60?"m":h<1440?"h":h<43200?"d":h<525600?"M":"Y"))return i("xSeconds",d,c);if("m"===l)return i("xMinutes",h,c);if("h"===l)return i("xHours",f(h/60),c);if("d"===l)return i("xDays",f(h/1440),c);if("M"===l)return i("xMonths",f(h/43200),c);if("Y"===l)return i("xYears",f(h/525600),c);throw new Error("Unknown unit: "+l)};var Me=function(e,t){return be(Date.now(),e,t)};var Se=function(e){var t=m(e);return t.setHours(23,59,59,999),t};var Te=function(e,t){var n=t&&Number(t.weekStartsOn)||0,r=m(e),a=r.getDay(),o=6+(a<n?-7:0)-(a-n);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r};var Ye=function(e){var t=m(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t};var xe=function(){return Se(new Date)};var Oe=function(e){var t=m(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n};var ke=function(e){var t=m(e);return d(t,Oe(t))+1};var Ie=function(e){var t=m(e),n=c(t).getTime()-i(t).getTime();return Math.round(n/6048e5)+1};var _e=function(e){if(y(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")};var Fe={M:function(e){return e.getMonth()+1},MM:function(e){return Ae(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return Ae(e.getDate(),2)},DDD:function(e){return ke(e)},DDDD:function(e){return Ae(ke(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return Ie(e)},WW:function(e){return Ae(Ie(e),2)},YY:function(e){return Ae(e.getFullYear(),4).substr(2)},YYYY:function(e){return Ae(e.getFullYear(),4)},GG:function(e){return String(o(e)).substr(2)},GGGG:function(e){return o(e)},H:function(e){return e.getHours()},HH:function(e){return Ae(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:12<t?t%12:t},hh:function(e){return Ae(Fe.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return Ae(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return Ae(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return Ae(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return Ae(e.getMilliseconds(),3)},Z:function(e){return Ne(e.getTimezoneOffset(),":")},ZZ:function(e){return Ne(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function Ne(e,t){t=t||"";var n=0<e?"-":"+",r=Math.abs(e),a=r%60;return n+Ae(Math.floor(r/60),2)+t+Ae(a,2)}function Ae(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}var Ee=function(e){var t=m(e).getFullYear();return t%400==0||t%4==0&&t%100!=0};var He=function(e){var t=m(e).getDay();return 0===t&&(t=7),t};var ze=function(e){var t=i(e),n=i(U(t,60)).valueOf()-t.valueOf();return Math.round(n/6048e5)};var Ce=function(e){var t=m(e);return Se(t).getTime()===Ye(t).getTime()};var We=function(e){var t=m(e);return t.setMinutes(0,0,0),t};var $e=function(e,t){var n=We(e),r=We(t);return n.getTime()===r.getTime()};var je=function(e,t,n){var r=s(e,n),a=s(t,n);return r.getTime()===a.getTime()};var Pe=function(e,t){return je(e,t,{weekStartsOn:1})};var Re=function(e,t){var n=i(e),r=i(t);return n.getTime()===r.getTime()};var Je=function(e){var t=m(e);return t.setSeconds(0,0),t};var Le=function(e,t){var n=Je(e),r=Je(t);return n.getTime()===r.getTime()};var Xe=function(e,t){var n=m(e),r=m(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()};var Ue=function(e){var t=m(e),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t};var qe=function(e,t){var n=Ue(e),r=Ue(t);return n.getTime()===r.getTime()};var Qe=function(e){var t=m(e);return t.setMilliseconds(0),t};var Ge=function(e,t){var n=Qe(e),r=Qe(t);return n.getTime()===r.getTime()};var Ze=function(e,t){var n=m(e),r=m(t);return n.getFullYear()===r.getFullYear()};var Be=function(e){return $e(new Date,e)};var Ke=function(e){return Pe(new Date,e)};var Ve=function(e){return Re(new Date,e)};var et=function(e){return Le(new Date,e)};var tt=function(e){return Xe(new Date,e)};var nt=function(e){return qe(new Date,e)};var rt=function(e){return Ge(new Date,e)};var at=function(e,t){return je(new Date,e,t)};var ot=function(e){return Ze(new Date,e)};var it=function(e,t){var n=t&&Number(t.weekStartsOn)||0,r=m(e),a=r.getDay(),o=6+(a<n?-7:0)-(a-n);return r.setHours(0,0,0,0),r.setDate(r.getDate()+o),r};var ut=function(e){var t=o(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var r=c(n);return r.setDate(r.getDate()-1),r};var st=function(e,t){var n=m(e),r=Number(t);return n.setDate(r),n};var lt=function(e,t,n){var r=n&&Number(n.weekStartsOn)||0,a=m(e),o=Number(t),i=a.getDay();return u(a,((o%7+7)%7<r?7:0)+o-i)};var ct=function(e,t){var n=m(e),r=Number(t);return n.setMonth(0),n.setDate(r),n};var ft=function(e,t){var n=m(e),r=Number(t);return n.setHours(r),n};var dt=function(e,t){var n=m(e),r=Number(t),a=He(n);return u(n,r-a)};var vt=function(e,t){var n=m(e),r=Number(t),a=Ie(n)-r;return n.setDate(n.getDate()-7*a),n};var ht=function(e,t){var n=m(e),r=Number(t);return n.setMilliseconds(r),n};var gt=function(e,t){var n=m(e),r=Number(t);return n.setMinutes(r),n};var mt=function(e,t){var n=m(e),r=Number(t),a=n.getFullYear(),o=n.getDate(),i=new Date(0);i.setFullYear(a,r,15),i.setHours(0,0,0,0);var u=R(i);return n.setMonth(r,Math.min(o,u)),n};var pt=function(e,t){var n=m(e),r=Number(t)-(Math.floor(n.getMonth()/3)+1);return mt(n,n.getMonth()+3*r)};var yt=function(e,t){var n=m(e),r=Number(t);return n.setSeconds(r),n};var wt=function(e,t){var n=m(e),r=Number(t);return n.setFullYear(r),n};var bt=function(e){var t=m(e);return t.setDate(1),t.setHours(0,0,0,0),t};var Dt=function(){return f(new Date)};var Mt=function(e,t){var n=Number(t);return u(e,-n)};var St=function(e,t){var n=Number(t);return a(e,-n)};var Tt=function(e,t){var n=Number(t);return r(e,-n)};var Yt=function(e,t){var n=Number(t);return g(e,-n)};var xt=function(e,t){var n=Number(t);return J(e,-n)};var Ot=function(e,t){var n=Number(t);return L(e,-n)};var kt=function(e,t){var n=Number(t);return X(e,-n)};var It=function(e,t){var n=Number(t);return U(e,-n)};var _t=function(e,t){var n=Number(t);return q(e,-n)},Ft={addDays:u,addHours:a,addISOYears:h,addMilliseconds:r,addMinutes:g,addMonths:J,addQuarters:L,addSeconds:X,addWeeks:U,addYears:q,areRangesOverlapping:n,closestIndexTo:Q,closestTo:G,compareAsc:Z,compareDesc:B,differenceInCalendarDays:d,differenceInCalendarISOWeeks:K,differenceInCalendarISOYears:V,differenceInCalendarMonths:ee,differenceInCalendarQuarters:ne,differenceInCalendarWeeks:re,differenceInCalendarYears:ae,differenceInDays:oe,differenceInHours:ue,differenceInISOYears:le,differenceInMilliseconds:ie,differenceInMinutes:ce,differenceInMonths:fe,differenceInQuarters:de,differenceInSeconds:ve,differenceInWeeks:he,differenceInYears:ge,distanceInWords:be,distanceInWordsStrict:De,distanceInWordsToNow:Me,eachDay:function(e,t,n){var r=m(e),a=void 0!==n?n:1,o=m(t).getTime();if(r.getTime()>o)throw new Error("The first date cannot be after the second date");var i=[],u=r;for(u.setHours(0,0,0,0);u.getTime()<=o;)i.push(m(u)),u.setDate(u.getDate()+a);return i},endOfDay:Se,endOfHour:function(e){var t=m(e);return t.setMinutes(59,59,999),t},endOfISOWeek:function(e){return Te(e,{weekStartsOn:1})},endOfISOYear:function(e){var t=o(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var r=c(n);return r.setMilliseconds(r.getMilliseconds()-1),r},endOfMinute:function(e){var t=m(e);return t.setSeconds(59,999),t},endOfMonth:Ye,endOfQuarter:function(e){var t=m(e),n=t.getMonth(),r=n-n%3+3;return t.setMonth(r,0),t.setHours(23,59,59,999),t},endOfSecond:function(e){var t=m(e);return t.setMilliseconds(999),t},endOfToday:xe,endOfTomorrow:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),a=new Date(0);return a.setFullYear(t,n,r+1),a.setHours(23,59,59,999),a},endOfWeek:Te,endOfYear:function(e){var t=m(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t},endOfYesterday:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),a=new Date(0);return a.setFullYear(t,n,r-1),a.setHours(23,59,59,999),a},format:function(e,t,n){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",a=(n||{}).locale,o=we.format.formatters,i=we.format.formattingTokensRegExp;a&&a.format&&a.format.formatters&&(o=a.format.formatters,a.format.formattingTokensRegExp&&(i=a.format.formattingTokensRegExp));var u=m(e);return _e(u)?function(e,t,n){var r,a,o,i=e.match(n),u=i.length;for(r=0;r<u;r++)a=t[i[r]]||Fe[i[r]],i[r]=a||((o=i[r]).match(/\[[\s\S]/)?o.replace(/^\[|]$/g,""):o.replace(/\\/g,""));return function(e){for(var t="",n=0;n<u;n++)i[n]instanceof Function?t+=i[n](e,Fe):t+=i[n];return t}}(r,o,i)(u):"Invalid Date"},getDate:function(e){return m(e).getDate()},getDay:function(e){return m(e).getDay()},getDayOfYear:ke,getDaysInMonth:R,getDaysInYear:function(e){return Ee(e)?366:365},getHours:function(e){return m(e).getHours()},getISODay:He,getISOWeek:Ie,getISOWeeksInYear:ze,getISOYear:o,getMilliseconds:function(e){return m(e).getMilliseconds()},getMinutes:function(e){return m(e).getMinutes()},getMonth:function(e){return m(e).getMonth()},getOverlappingDaysInRanges:function(e,t,n,r){var a=m(e).getTime(),o=m(t).getTime(),i=m(n).getTime(),u=m(r).getTime();if(o<a||u<i)throw new Error("The start of the range cannot be after the end of the range");if(!(a<u&&i<o))return 0;var s=(o<u?o:u)-(i<a?a:i);return Math.ceil(s/864e5)},getQuarter:te,getSeconds:function(e){return m(e).getSeconds()},getTime:function(e){return m(e).getTime()},getYear:function(e){return m(e).getFullYear()},isAfter:function(e,t){var n=m(e),r=m(t);return n.getTime()>r.getTime()},isBefore:function(e,t){var n=m(e),r=m(t);return n.getTime()<r.getTime()},isDate:y,isEqual:function(e,t){var n=m(e),r=m(t);return n.getTime()===r.getTime()},isFirstDayOfMonth:function(e){return 1===m(e).getDate()},isFriday:function(e){return 5===m(e).getDay()},isFuture:function(e){return m(e).getTime()>(new Date).getTime()},isLastDayOfMonth:Ce,isLeapYear:Ee,isMonday:function(e){return 1===m(e).getDay()},isPast:function(e){return m(e).getTime()<(new Date).getTime()},isSameDay:function(e,t){var n=f(e),r=f(t);return n.getTime()===r.getTime()},isSameHour:$e,isSameISOWeek:Pe,isSameISOYear:Re,isSameMinute:Le,isSameMonth:Xe,isSameQuarter:qe,isSameSecond:Ge,isSameWeek:je,isSameYear:Ze,isSaturday:function(e){return 6===m(e).getDay()},isSunday:function(e){return 0===m(e).getDay()},isThisHour:Be,isThisISOWeek:Ke,isThisISOYear:Ve,isThisMinute:et,isThisMonth:tt,isThisQuarter:nt,isThisSecond:rt,isThisWeek:at,isThisYear:ot,isThursday:function(e){return 4===m(e).getDay()},isToday:function(e){return f(e).getTime()===f(new Date).getTime()},isTomorrow:function(e){var t=new Date;return t.setDate(t.getDate()+1),f(e).getTime()===f(t).getTime()},isTuesday:function(e){return 2===m(e).getDay()},isValid:_e,isWednesday:function(e){return 3===m(e).getDay()},isWeekend:function(e){var t=m(e).getDay();return 0===t||6===t},isWithinRange:function(e,t,n){var r=m(e).getTime(),a=m(t).getTime(),o=m(n).getTime();if(o<a)throw new Error("The start of the range cannot be after the end of the range");return a<=r&&r<=o},isYesterday:function(e){var t=new Date;return t.setDate(t.getDate()-1),f(e).getTime()===f(t).getTime()},lastDayOfISOWeek:function(e){return it(e,{weekStartsOn:1})},lastDayOfISOYear:ut,lastDayOfMonth:function(e){var t=m(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t},lastDayOfQuarter:function(e){var t=m(e),n=t.getMonth(),r=n-n%3+3;return t.setMonth(r,0),t.setHours(0,0,0,0),t},lastDayOfWeek:it,lastDayOfYear:function(e){var t=m(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(0,0,0,0),t},max:function(){var e=Array.prototype.slice.call(arguments).map(function(e){return m(e)}),t=Math.max.apply(null,e);return new Date(t)},min:function(){var e=Array.prototype.slice.call(arguments).map(function(e){return m(e)}),t=Math.min.apply(null,e);return new Date(t)},parse:m,setDate:st,setDay:lt,setDayOfYear:ct,setHours:ft,setISODay:dt,setISOWeek:vt,setISOYear:v,setMilliseconds:ht,setMinutes:gt,setMonth:mt,setQuarter:pt,setSeconds:yt,setYear:wt,startOfDay:f,startOfHour:We,startOfISOWeek:c,startOfISOYear:i,startOfMinute:Je,startOfMonth:bt,startOfQuarter:Ue,startOfSecond:Qe,startOfToday:Dt,startOfTomorrow:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),a=new Date(0);return a.setFullYear(t,n,r+1),a.setHours(0,0,0,0),a},startOfWeek:s,startOfYear:Oe,startOfYesterday:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),a=new Date(0);return a.setFullYear(t,n,r-1),a.setHours(0,0,0,0),a},subDays:Mt,subHours:St,subISOYears:se,subMilliseconds:Tt,subMinutes:Yt,subMonths:xt,subQuarters:Ot,subSeconds:kt,subWeeks:It,subYears:_t},Nt=Ft.addDays,At=Ft.differenceInDays,Et=Ft.format,Ht=Ft.subDays,zt=t([]),Ct=t(),Wt="nasastats::datasets";zt(localStorage[Wt]&&JSON.parse(localStorage[Wt])||[]),zt.map(function(e){e.length&&(localStorage[Wt]=JSON.stringify(e))});var $t=function(n,r,t){var a=[],o=[],e=Math.floor(At(r,n)/7),i=At(r,n)%7;return Array.from({length:e},function(e,t){return t}).map(function(e){return o.push([Nt(n,7*e)])}),o.push([Ht(r,i),r]),o.map(function(e){return a.push(D.request("https://api.nasa.gov/neo/rest/v1/feed",{data:{start_date:Et(e[0],"YYYY-MM-DD"),end_date:e[1]&&Et(e[1],"YYYY-MM-DD"),api_key:t||"DEMO_KEY"}}))}),Promise.all(a).then(function(e){var t=Object.assign.apply({},e.map(function(e){return e.near_earth_objects}));zt(zt().concat({start:Et(n,"YYYY-MM-DD"),end:Et(r,"YYYY-MM-DD"),data:{near_earth_objects:t}}))})},jt=function(e){return Ct(e)},Pt=function(e){return[].concat.apply([],Object.values(e.near_earth_objects)).reduce(function(e,t){return t.min_close_approach_km=t.close_approach_data.reduce(function(e,t){return Math.min(e,Number(t.miss_distance.kilometers))},Number.POSITIVE_INFINITY),t.min_close_approach_km<(e[0].min_close_approach_km||Number.POSITIVE_INFINITY)&&(e[0]=t),e[1].push(t.absolute_magnitude_h),t.is_potentially_hazardous_asteroid&&e[2].push(t.absolute_magnitude_h),e},[{},[],[]])},Rt=function(e){return e.sort()[Math.floor(e.length/2)-1]},Jt=function(e){return e.reduce(function(e,t){return e+t})/e.length},Lt="nasastats::apiKey",Xt="nasastats::startDate",Ut="nasastats::endDate",qt=function(e){var t,n,r,a,o=e.attrs,i=o.availableDatasets,u=o.loadDataset,s=o.setActiveDataset;return r=localStorage[Lt]||"",t=localStorage[Xt]?new Date(localStorage[Xt]):new Date,n=localStorage[Ut]?new Date(localStorage[Ut]):new Date,{onremove:function(){localStorage[Lt]=r,localStorage[Ut]=n.toJSON(),localStorage[Xt]=t.toJSON()},view:function(){return D(".c",D(".row",D("h2","Nasastats - NEO API")),D(".card",D("p","Enter your API key here to increase the available requests"),D("b",{style:"margin-right: 1em"},"API key"),D("input.w-100",{value:r,oninput:function(e){r=e.target.value,localStorage[Lt]=r}})),D(".card",D("p","Select an interval to load data for"),D(".row",D(".6.col",D("","Start"),D(l,{date:t,onchange:function(e){return t=e}})),D(".6.col",D("","End"),D(l,{date:n,onchange:function(e){return n=e}}))),D("br"),D("button.btn",{onclick:function(){a=null;var e=t<n?n:Nt(new Date(t.valueOf),7);u(t,e,r).catch(function(e){a=e,D.redraw()})}},"Load dataset"),a&&[D("","An error has ocurred loading the requested dataset:"),D("pre",a.stack?a.stack:a)]),D(".card",i()&&i().length?[D("h4","Datasets:"),D("p","Click a dataset to explore the information"),i().map(function(e){return D("",D("a[href=/explore]",{onclick:function(){return s(e),D.route.set("/explore"),!1}},"Dataset "+e.start+" - "+e.end))})]:D("p","No datasets available, request some data from NASA API")))}}};function Qt(e,t,n,r){return D("div",[e+(t?"[":"{"),D("button",{onclick:function(){r[n]=!1}},"..."),t?"]":"}"])}function Gt(e,t,n,r,a,o,i){var u=[];for(var s in u.push(e+(r?"[":"{")),u.push(D("button",{onclick:function(){o[a]=!0}},"-")),t)if(t.hasOwnProperty(s)){var l=t[s],c=n.slice();c.push(s),u.push(Zt(s,l,c,o,i))}return u.push(r?"]":"}"),D("div",u)}function Zt(e,t,n,r,a){var o=null==e?"":e+":",i=JSON.stringify(n),u=r[i];return null==u&&(u=n.length>a),null!=t&&t instanceof Array?u?Qt(o,!0,i,r):Gt(o,t,n,!0,i,r,a):null!=t&&"object"==typeof t?u?Qt(o,!1,i,r):Gt(o,t,n,!1,i,r,a):D("div",o+JSON.stringify(t))}var Bt=function(e){var t=e.attrs,n=t.tree,r=t.options||{},a={};return{view:function(e){return Zt(null,n,[],a,r.collapseAfter)}}},Kt=function(e){var a,o,i,u,t=e.attrs,s=t.dataset,l=t.processDataset,c=t.getMedian,f=t.getMean,d=!0;return s||D.route.set("/"),setTimeout(function(){try{var e=l(s.data),t=e[0],n=e[1],r=e[2];a=t,o=c(n),i=f(r)}catch(e){console.error(e),u=e}d=!1,D.redraw()},0),{view:function(){return D(".c",D("a[href=/]",{oncreate:D.route.link},"< Back"),D(".card",d?D("h4","... processing"):u?D(".row",D("h4","An error has ocurred processing the dataset:"),D("pre",u.stack)):[D(".row",D("h3","Dataset "+s.start+" - "+s.end)),D(".row",D("h4","Dataset calculations for Absolute Magnitude:"),D("",D("b","median of all asteroids")," "+o),D("",D("b","mean of potentially hazardous asteroids")," "+i)),D(".row",D("h4","Asteroid passing earth closest in dataset: ",D("a",{href:a.nasa_jpl_url},a.name)),D("","Passby distance "+a.min_close_approach_km+" km"),D(".card",D("h4","Full data on closest passing asteroid in dataset:"),D(".json-tree",{style:"font-family: Courier; font-size: 0.8em;"},D(Bt,{tree:a,options:{collapseAfter:1}})))),D(".row",D("h4","Full dataset:"),D(".card",D(".json-tree",{style:"font-family: Courier; font-size: 0.8em;"},D(Bt,{tree:s,options:{collapseAfter:1}}))))]))}}};Ct.map(D.redraw),zt.map(D.redraw),l.localize({weekStart:1}),D.route(document.body,"/",{"/":{view:function(){return D(qt,{availableDatasets:zt,loadDataset:$t,setActiveDataset:jt})}},"/explore":{view:function(){return D(Kt,{dataset:Ct(),getMedian:Rt,getMean:Jt,processDataset:Pt})}}})}();
//# sourceMappingURL=app.js.map
